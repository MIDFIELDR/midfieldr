<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Filter first-year-engineering (FYE) students and prepare variables for
predicting unknown starting majors. The prepared variables are institution,
race, and sex (predictors) and cip6 (with missing values to be imputed). The
function returns a data frame formatted for multiple imputation using
the mice package."><title>Condition FYE data for multiple imputation — condition_fye • midfieldr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="../deps/bs3compat-0.2.5.1/tabs.js"></script><script src="../deps/bs3compat-0.2.5.1/bs3compat.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><link href="../syntax-highlighting.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Condition FYE data for multiple imputation — condition_fye"><meta property="og:description" content="Filter first-year-engineering (FYE) students and prepare variables for
predicting unknown starting majors. The prepared variables are institution,
race, and sex (predictors) and cip6 (with missing values to be imputed). The
function returns a data frame formatted for multiple imputation using
the mice package."><meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc" data-headroom>
    

      <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    <a class="navbar-brand mb-0 h1" href="../index.html">midfieldr</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <button type="button" id="version-badge" class="badge badge-default d-none d-lg-block" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Released version">1.0.0.9017</button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav mr-auto ml-3"><li class="nav-item">
  <a class="nav-link" href="../articles/art-00-midfield-data.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-01-multiway.html">Multiway graphs and tables</a>
    <a class="dropdown-item" href="../articles/art-02-program-codes.html">Program codes</a>
    <a class="dropdown-item" href="../articles/art-03-case-selection.html">Case selection</a>
    <a class="dropdown-item" href="../articles/art-04-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-06-timely-completion.html">Timely completion</a>
    <a class="dropdown-item" href="../articles/art-05-stickiness.html">Stickiness</a>
    <a class="dropdown-item" href="../articles/art-07-fye-programs.html">FYE programs</a>
    <a class="dropdown-item" href="../articles/art-08-graduation-rate.html">Graduation rate</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control mr-sm-2" aria-label="Search" name="search-input" data-search-index="/search.json" id="search-input" placeholder="Search..." autocomplete="off"></form>

      <ul class="navbar-nav ml-1"><li class="nav-item">
  <a class="nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <div class="col-md-9 contents">
    <img src="../package-logo.png" class="pkg-logo" alt=""><div class="page-header pb-2 mt-4 mb-2 border-bottom toc-ignore">
    <h1 class="display-4">Condition FYE data for multiple imputation</h1>
    <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/R/condition_fye.R"><code>R/condition_fye.R</code></a></small>
    <div class="d-none name"><code>condition_fye.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Filter first-year-engineering (FYE) students and prepare variables for
predicting unknown starting majors. The prepared variables are institution,
race, and sex (predictors) and cip6 (with missing values to be imputed). The
function returns a data frame formatted for multiple imputation using
the mice package.</p>
    </div>

    <div id="ref-usage" class="ref-usage section level2 sourceCode">
    <pre class="sourceCode r"><code><span class="fu">condition_fye</span><span class="op">(</span><span class="va">dframe</span>, <span class="va">midfield_term</span>, <span class="va">...</span>, fye_codes <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre>
    </div>

    <h2>Arguments</h2>
    <dl class="row" id="ref-arguments"><dt class="col-sm-3 section level2" id="pkg-arg-dframe">dframe</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>Data frame of all degree-seeking engineering students in the
database, with required variables <code>mcid</code>, <code>race</code>,
and <code>sex</code>.</p></dd>
    <dt class="col-sm-3 section level2" id="pkg-arg-midfield_term">midfield_term</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>MIDFIELD <code>term</code> data table or equivalent
with required variables <code>mcid</code>, <code>institution</code>,
<code>term</code>, and <code>cip6</code>.</p></dd>
    <dt class="col-sm-3 section level2" id="pkg-arg-...">...</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>Not used, forces later arguments to be used by name.</p></dd>
    <dt class="col-sm-3 section level2" id="pkg-arg-fye_codes">fye_codes</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>Optional character vector of 6-digit CIP codes to
identify FYE programs, default 140102. Codes must be 6-digit
strings of numbers; regular expressions are prohibited.
Non-engineering codes---those that do not start with
14"---are ignored.</p></dd>
    </dl><div class="ref-section section level2" id="section-value">
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value" aria-hidden="true"></a>Value</h2>

    <p>A <code>data.table</code> with the following properties:</p><ul><li><p>One row for every FYE student.</p></li>
<li><p>Columns for ID, institution, race, sex, and CIP code, all
    except ID converted to factors. Additional columns in <code>dframe</code>
    are dropped.</p></li>
<li><p>Grouping structures are not preserved.</p></li>
</ul></div>
    <div class="ref-section section level2" id="section-details">
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details" aria-hidden="true"></a>Details</h2>

    <p>Some US institutions have first year engineering (FYE) programs, typically
a common first year curriculum that is a prerequisite for declaring
an engineering major. FYE programs are problematic for some persistence
metrics. For example, in the conventional graduation rate metric, the only
students who count as graduates are those who complete the same
program in which they were admitted. But students cannot graduate in FYE;
instead, upon completing FYE, they transition to a degree-granting
engineering program.</p>
<p>Therefore, to include FYE students in any persistence metric requiring a
degree-granting "starting" program, we have to predict the engineering
program the FYE student would have declared had they not been required to
enroll in FYE. <code>predict_fye()</code> sorts students into two categories:</p>
<ol><li><p>Students who complete an FYE and declare an engineering major.
    This is the easy case--at the student's first opportunity, they
    enrolled in an engineering program of their choosing. We use that
    program as the predicted  starting program.</p></li>
<li><p>Students who, after FYE, do not declare an engineering major.
    This is the more complicated case---the data provide no information
    regarding what engineering program the student would have declared
    originally had the institution not required them to enroll in FYE.
    For these students, we treat the starting program as missing data be
    predicted using multiple imputation.</p></li>
</ol><p>The function extracts all terms for all FYE students from
<code>midfield_term</code>. In cases where students enter FYE, change programs,
and re-enter FYE, only the first group of FYE terms is considered. Any
programs before FYE are ignored. The first (if any) post-FYE program is
identified. If the program is in engineering, the CIP is retained as
their predicted starting major. If not, the CIP is replaced with NA to
be treated as missing data for the imputation.</p>
<p>Lastly, the predictor variables (institution, race, sex) and the imputed
variable (cip6) are converted to unordered factors. The resulting data
frame is ready for use as input for the mice package.</p>
    </div>
    <div class="ref-section section level2" id="section-see-also">
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also" aria-hidden="true"></a>See also</h2>

    <div class="dont-index"><p>Other condition_*: 
<code><a href="condition_multiway.html">condition_multiway</a>()</code></p></div>
    </div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples" aria-hidden="true"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Using toy data</span></span>
<span class="r-in"><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">toy_student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"><span class="fu">condition_fye</span><span class="op">(</span>dframe <span class="op">=</span> <span class="va">DT</span>, midfield_term <span class="op">=</span> <span class="va">toy_term</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            mcid   institution            race    sex   cip6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: MID26060301 Institution C           Asian Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: MID25995980 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: MID25997636 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: MID26086310 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: MID26000057 Institution C           White Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: MID26561940 Institution J           White   Male   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: MID25846316 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: MID25847220 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: MID25848589 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: MID25852023 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: MID25828870 Institution M           White   Male 149999</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Overwrites institution if present in dframe</span></span>
<span class="r-in"><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">toy_student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">institution</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"><span class="fu">condition_fye</span><span class="op">(</span>dframe <span class="op">=</span> <span class="va">DT</span>, midfield_term <span class="op">=</span> <span class="va">toy_term</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            mcid   institution            race    sex   cip6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: MID26060301 Institution C           Asian Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: MID25995980 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: MID25997636 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: MID26086310 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: MID26000057 Institution C           White Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: MID26561940 Institution J           White   Male   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: MID25846316 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: MID25847220 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: MID25848589 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: MID25852023 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: MID25828870 Institution M           White   Male 149999</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Other columns, if any, are dropped</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">toy_student</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mcid"           "institution"    "transfer"       "hours_transfer"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "race"           "sex"           </span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="fu">condition_fye</span><span class="op">(</span><span class="va">toy_student</span>, <span class="va">toy_term</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mcid"        "institution" "race"        "sex"         "cip6"       </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Optional argument permits multiple CIP codes for FYE</span></span>
<span class="r-in"><span class="fu">condition_fye</span><span class="op">(</span><span class="va">DT</span>, <span class="va">toy_term</span>, fye_codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"140101"</span>, <span class="st">"140102"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            mcid   institution            race    sex   cip6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: MID26060301 Institution C           Asian Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: MID25995980 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: MID25997636 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: MID26086310 Institution C Hispanic/Latinx Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: MID26000057 Institution C           White Female   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: MID26561940 Institution J           White   Male   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: MID25846316 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: MID25847220 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: MID25848589 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: MID25852023 Institution M           White   Male 143501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: MID25828870 Institution M           White   Male 149999</span>
<span class="r-in"></span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="sticky-top">
    <nav id="toc"><h2 data-toc-skip>Contents</h2>

    </nav></div>
  </div>
</div>


      <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer></div>

  

  

  </body></html>

