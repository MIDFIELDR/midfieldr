<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Order categorical variables of multiway data — order_multiway • midfieldr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Courier_Prime-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Order categorical variables of multiway data — order_multiway"><meta name="description" content="Transform a data frame such that two independent categorical variables are
factors with levels ordered for display in a multiway dot plot. Multiway data
comprise a single quantitative value (or response) for every combination of
levels of two categorical variables. The ordering of the rows and panels is
crucial to the perception of effects (Cleveland, 1993)."><meta property="og:description" content="Transform a data frame such that two independent categorical variables are
factors with levels ordered for display in a multiway dot plot. Multiway data
comprise a single quantitative value (or response) for every combination of
levels of two categorical variables. The ordering of the rows and panels is
crucial to the perception of effects (Cleveland, 1993)."><meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-case-study" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Case study</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-case-study"><li><a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a></li>
    <li><a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a></li>
    <li><a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/art-010-planning.html">Planning</a></li>
    <li><a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a></li>
    <li><a class="dropdown-item" href="../articles/art-030-degree-seeking.html">Degree seeking</a></li>
    <li><a class="dropdown-item" href="../articles/art-040-programs.html">Programs</a></li>
    <li><a class="dropdown-item" href="../articles/art-050-blocs.html">Blocs</a></li>
    <li><a class="dropdown-item" href="../articles/art-060-fye-proxies.html">FYE proxies</a></li>
    <li><a class="dropdown-item" href="../articles/art-070-starters.html">Starters</a></li>
    <li><a class="dropdown-item" href="../articles/art-080-graduates.html">Graduates</a></li>
    <li><a class="dropdown-item" href="../articles/art-090-groupings.html">Groupings</a></li>
    <li><a class="dropdown-item" href="../articles/art-100-grad-rate.html">Graduation rate</a></li>
    <li><a class="dropdown-item" href="../articles/art-110-stickiness.html">Stickiness</a></li>
    <li><a class="dropdown-item" href="../articles/art-120-multiway.html">Multiway data and charts</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Order categorical variables of multiway data</h1>
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/R/order_multiway.R" class="external-link"><code>R/order_multiway.R</code></a></small>
      <div class="d-none name"><code>order_multiway.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Transform a data frame such that two independent categorical variables are
factors with levels ordered for display in a multiway dot plot. Multiway data
comprise a single quantitative value (or response) for every combination of
levels of two categorical variables. The ordering of the rows and panels is
crucial to the perception of effects (Cleveland, 1993).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">order_multiway</span><span class="op">(</span></span>
<span>  <span class="va">dframe</span>,</span>
<span>  <span class="va">quantity</span>,</span>
<span>  <span class="va">categories</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ratio_of <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dframe">dframe<a class="anchor" aria-label="anchor" href="#arg-dframe"></a></dt>
<dd><p>Data frame containing a single quantitative value
(or response) for every combination of levels of two categorical
variables. Categories may be class character or factor. Two additional
numeric columns are required when using the "percent" ordering method.</p></dd>


<dt id="arg-quantity">quantity<a class="anchor" aria-label="anchor" href="#arg-quantity"></a></dt>
<dd><p>Character, name (in quotes) of the single multiway quantitative
variable</p></dd>


<dt id="arg-categories">categories<a class="anchor" aria-label="anchor" href="#arg-categories"></a></dt>
<dd><p>Character, vector of names (in quotes) of the two multiway
categorical variables</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not used for passing values; forces subsequent arguments to be
referable only by name.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character, “median” (default) or “percent”, method of
ordering the levels of the categories. The median method computes the
medians of the quantitative column grouped by category. The percent
method computes percentages based on the same ratio underlying the
quantitative percentage variable except grouped by category.</p></dd>


<dt id="arg-ratio-of">ratio_of<a class="anchor" aria-label="anchor" href="#arg-ratio-of"></a></dt>
<dd><p>Character vector with the names (in quotes) of the
numerator and denominator columns that produced the quantitative
variable, required when <code>method</code> is "percent". Names can be
in any order; the algorithm assumes that the parameter with the
larger column sum is the denominator of the ratio.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame in <code>data.table</code> format with
the following properties: rows are preserved; columns specified by
<code>categories</code> are converted to factors and ordered; the column specified
by <code>quantity</code> is converted to type double; other columns are preserved
with the exception that columns added by the function overwrite existing
columns of the same name (if any); grouping structures are not preserved.
The added columns are:</p><dl><dt><code>CATEGORY_median</code> columns (when ordering method is "median")</dt>
<dd><p>Numeric. Two columns of medians of the quantitative variable grouped
by the categorical variables. The <code>CATEGORY</code> placeholder in
the column name is replaced by a category name from the
<code>categories</code> argument. For example, suppose
<code>categories = c("program", "people")</code> and
<code>method = "median"</code>. The two new column names would be
<code>program_median</code> and <code>people_median.</code></p></dd>


<dt><code>CATEGORY_QUANTITY</code> columns (when ordering method is "percent")</dt>
<dd><p>Numeric. Two columns of percentages based on the same ratio that
produces the quantitative variable except grouped by the categorical
variables. The <code>CATEGORY</code> placeholder in the column name is
replaced by a category name from the <code>categories</code> argument; the
<code>QUANTITY</code> placeholder is replaced by the quantitative variable
name in the <code>quantity</code> argument. For example, suppose
<code>categories = c("program", "people")</code>, and
<code>quantity = "grad_rate"</code>, and <code>method = "percent"</code>. The two
new column names  would be <code>program_grad_rate</code> and
<code>people_grad_rate.</code></p></dd>



</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In our context, "multiway" refers to the data structure and graph design
defined by Cleveland (1993), not to the methods of analysis described by
Kroonenberg (2008).</p>
<p>Multiway data comprise three variables: a categorical variable of <em>m</em> levels;
a second independent categorical variable of <em>n</em> levels; and a quantitative
variable (or <em>response</em>) of length <em>mn</em> that cross-classifies the categories,
that is, there is a value of the response for each combination of levels of
the two categorical variables.</p>
<p>In a multiway dot plot, one category is encoded by the panels, the second
category is encoded by the rows of each panel, and the quantitative variable
is encoded along identical horizontal scales.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cleveland WS (1993). <em>Visualizing Data</em>. Hobart Press, Summit, NJ.</p>
<p>Kroonenberg PM (2008). <em>Applied Multiway Data Analysis</em>. Wiley,
Hoboken, NJ.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Subset of built-in data set</span></span></span>
<span class="r-in"><span><span class="va">dframe</span> <span class="op">&lt;-</span> <span class="va">study_results</span><span class="op">[</span><span class="va">program</span> <span class="op">==</span> <span class="st">"EE"</span> <span class="op">|</span> <span class="va">program</span> <span class="op">==</span> <span class="st">"ME"</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dframe</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program    sex            race ever_enrolled graduates stickiness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt; &lt;char&gt;          &lt;char&gt;         &lt;int&gt;     &lt;int&gt;      &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE Female           Asian            21        12       57.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE Female           Black             6         3       50.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE Female   International            28         9       32.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE Female          Latine             8         3       37.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE Female Native American             1         0        0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE Female   Other/Unknown             7         3       42.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE Female           White           118        56       47.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE   Male           Asian           123        71       57.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE   Male           Black            29        17       58.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE   Male   International           195        90       46.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE   Male          Latine            45        17       37.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE   Male Native American             3         0        0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE   Male   Other/Unknown            42        16       38.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE   Male           White           864       439       50.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME Female           Asian             7         1       14.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME Female           Black             3         2       66.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME Female   International            19        11       57.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME Female          Latine            12         8       66.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME Female   Other/Unknown             8         4       50.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME Female           White           213       134       62.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME   Male           Asian            76        49       64.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME   Male           Black            30        19       63.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME   Male   International           178        89       50.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME   Male          Latine            79        42       53.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME   Male Native American             5         1       20.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME   Male   Other/Unknown            80        41       51.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME   Male           White          1596       953       59.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program    sex            race ever_enrolled graduates stickiness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     people</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: Native American Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     people</span>
<span class="r-in"><span><span class="va">dframe</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program ever_enrolled graduates stickiness                 people</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;         &lt;int&gt;     &lt;int&gt;      &lt;num&gt;                 &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE            21        12       57.1           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE             6         3       50.0           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE            28         9       32.1   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE             8         3       37.5          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE             1         0        0.0 Native American Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE             7         3       42.9   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE           118        56       47.5           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE           123        71       57.7             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE            29        17       58.6             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE           195        90       46.2     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE            45        17       37.8            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE             3         0        0.0   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE            42        16       38.1     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE           864       439       50.8             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME             7         1       14.3           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME             3         2       66.7           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME            19        11       57.9   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME            12         8       66.7          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME             8         4       50.0   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME           213       134       62.9           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME            76        49       64.5             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME            30        19       63.3             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME           178        89       50.0     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME            79        42       53.2            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME             5         1       20.0   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME            80        41       51.2     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME          1596       953       59.7             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program ever_enrolled graduates stickiness                 people</span>
<span class="r-in"><span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">dframe</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Class before ordering</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">dframe</span><span class="op">$</span><span class="va">program</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "character"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">dframe</span><span class="op">$</span><span class="va">people</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "character"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Class and levels after ordering</span></span></span>
<span class="r-in"><span><span class="va">mw1</span> <span class="op">&lt;-</span> <span class="fu">order_multiway</span><span class="op">(</span><span class="va">dframe</span>, </span></span>
<span class="r-in"><span>                      quantity <span class="op">=</span> <span class="st">"stickiness"</span>, </span></span>
<span class="r-in"><span>                      categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">program</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "factor"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">program</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "EE" "ME"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">people</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "factor"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">people</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Native American Female" "Native American Male"   "Asian Female"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] "Other/Unknown Male"     "International Female"   "Latine Male"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "Other/Unknown Female"   "International Male"     "Latine Female"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] "White Female"           "White Male"             "Black Female"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] "Black Male"             "Asian Male"            </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Display category medians </span></span></span>
<span class="r-in"><span><span class="va">mw1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people stickiness ever_enrolled graduates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;fctr&gt;                 &lt;fctr&gt;      &lt;num&gt;         &lt;int&gt;     &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE           Asian Female       57.1            21        12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE           Black Female       50.0             6         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE   International Female       32.1            28         9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE          Latine Female       37.5             8         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE Native American Female        0.0             1         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE   Other/Unknown Female       42.9             7         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE           White Female       47.5           118        56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE             Asian Male       57.7           123        71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE             Black Male       58.6            29        17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE     International Male       46.2           195        90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE            Latine Male       37.8            45        17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE   Native American Male        0.0             3         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE     Other/Unknown Male       38.1            42        16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE             White Male       50.8           864       439</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME           Asian Female       14.3             7         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME           Black Female       66.7             3         2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME   International Female       57.9            19        11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME          Latine Female       66.7            12         8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME   Other/Unknown Female       50.0             8         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME           White Female       62.9           213       134</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME             Asian Male       64.5            76        49</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME             Black Male       63.3            30        19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME     International Male       50.0           178        89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME            Latine Male       53.2            79        42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME   Native American Male       20.0             5         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME     Other/Unknown Male       51.2            80        41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME             White Male       59.7          1596       953</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people stickiness ever_enrolled graduates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program_median people_median</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              &lt;num&gt;         &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:          44.55         35.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:          44.55         58.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:          44.55         45.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:          44.55         52.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:          44.55          0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:          44.55         46.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:          44.55         55.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:          44.55         61.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:          44.55         60.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:          44.55         48.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:          44.55         45.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:          44.55         10.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:          44.55         44.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:          44.55         55.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:          57.90         35.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:          57.90         58.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:          57.90         45.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:          57.90         52.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:          57.90         46.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:          57.90         55.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:          57.90         61.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:          57.90         60.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:          57.90         48.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:          57.90         45.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:          57.90         10.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:          57.90         44.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:          57.90         55.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program_median people_median</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Existing factors (if any) are re-ordered</span></span></span>
<span class="r-in"><span><span class="va">mw2</span> <span class="op">&lt;-</span> <span class="va">dframe</span></span></span>
<span class="r-in"><span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ME"</span>, <span class="st">"EE"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Levels before conditioning</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ME" "EE"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Levels after conditioning</span></span></span>
<span class="r-in"><span><span class="va">mw2</span> <span class="op">&lt;-</span> <span class="fu">order_multiway</span><span class="op">(</span><span class="va">dframe</span>, </span></span>
<span class="r-in"><span>                      quantity <span class="op">=</span> <span class="st">"stickiness"</span>, </span></span>
<span class="r-in"><span>                      categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "EE" "ME"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ordering using percent method</span></span></span>
<span class="r-in"><span><span class="fu">order_multiway</span><span class="op">(</span><span class="va">dframe</span>, </span></span>
<span class="r-in"><span>               quantity <span class="op">=</span> <span class="st">"stickiness"</span>, </span></span>
<span class="r-in"><span>               categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>               method <span class="op">=</span> <span class="st">"percent"</span>, </span></span>
<span class="r-in"><span>               ratio_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"graduates"</span>, <span class="st">"ever_enrolled"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people graduates ever_enrolled stickiness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;fctr&gt;                 &lt;fctr&gt;     &lt;num&gt;         &lt;num&gt;      &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE           Asian Female        12            21       57.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE           Black Female         3             6       50.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE   International Female         9            28       32.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE          Latine Female         3             8       37.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE Native American Female         0             1        0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE   Other/Unknown Female         3             7       42.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE           White Female        56           118       47.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE             Asian Male        71           123       57.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE             Black Male        17            29       58.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE     International Male        90           195       46.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE            Latine Male        17            45       37.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE   Native American Male         0             3        0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE     Other/Unknown Male        16            42       38.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE             White Male       439           864       50.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME           Asian Female         1             7       14.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME           Black Female         2             3       66.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME   International Female        11            19       57.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME          Latine Female         8            12       66.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME   Other/Unknown Female         4             8       50.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME           White Female       134           213       62.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME             Asian Male        49            76       64.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME             Black Male        19            30       63.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME     International Male        89           178       50.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME            Latine Male        42            79       53.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME   Native American Male         1             5       20.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME     Other/Unknown Male        41            80       51.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME             White Male       953          1596       59.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people graduates ever_enrolled stickiness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program_stickiness people_stickiness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  &lt;num&gt;             &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:               49.4              46.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:               49.4              55.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:               49.4              42.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:               49.4              55.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:               49.4               0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:               49.4              46.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:               49.4              57.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:               49.4              60.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:               49.4              61.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:               49.4              48.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:               49.4              47.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:               49.4              12.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:               49.4              46.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:               49.4              56.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:               58.7              46.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:               58.7              55.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:               58.7              42.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:               58.7              55.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:               58.7              46.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:               58.7              57.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:               58.7              60.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:               58.7              61.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:               58.7              48.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:               58.7              47.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:               58.7              12.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:               58.7              46.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:               58.7              56.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program_stickiness people_stickiness</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

