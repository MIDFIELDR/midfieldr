<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Transform a data frame such that two independent categorical variables are 
factors with levels ordered for display in a multiway dot plot. Multiway 
data comprise a single quantitative value (or response) for every 
combination of levels of two categorical variables. The ordering of the 
rows and panels is crucial to the perception of effects (Cleveland, 1993)."><title>Order categorical variables of multiway data — order_multiway • midfieldr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Order categorical variables of multiway data — order_multiway"><meta property="og:description" content="Transform a data frame such that two independent categorical variables are 
factors with levels ordered for display in a multiway dot plot. Multiway 
data comprise a single quantitative value (or response) for every 
combination of levels of two categorical variables. The ordering of the 
rows and panels is crucial to the perception of effects (Cleveland, 1993)."><meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9027</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-009-planning.html">Planning</a>
    <a class="dropdown-item" href="../articles/art-010-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-020-degree-seeking.html">Degree seeking (inner joins)</a>
    <a class="dropdown-item" href="../articles/art-030-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-035-blocs.html">Blocs</a>
    <a class="dropdown-item" href="../articles/art-040-completion.html">Completion status</a>
    <a class="dropdown-item" href="../articles/art-070-fye-proxies.html">FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-080-starters.html">Starters</a>
    <a class="dropdown-item" href="../articles/art-050-demographics.html">Demographics (left outer joins)</a>
    <a class="dropdown-item" href="../articles/art-090-grad-rate.html">Graduation rate</a>
    <a class="dropdown-item" href="../articles/art-060-multiway.html">Multiway data and charts</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Order categorical variables of multiway data</h1>
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/R/order_multiway.R" class="external-link"><code>R/order_multiway.R</code></a></small>
      <div class="d-none name"><code>order_multiway.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Transform a data frame such that two independent categorical variables are 
factors with levels ordered for display in a multiway dot plot. Multiway 
data comprise a single quantitative value (or response) for every 
combination of levels of two categorical variables. The ordering of the 
rows and panels is crucial to the perception of effects (Cleveland, 1993).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">order_multiway</span><span class="op">(</span></span>
<span>  <span class="va">dframe</span>,</span>
<span>  <span class="va">quantity</span>,</span>
<span>  <span class="va">categories</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ratio_of <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dframe</dt>
<dd><p>Data frame with one numeric variable and two 
categorical variables of class character or factor. Two additional 
numeric columns required when using the "percent" ordering method.</p></dd>


<dt>quantity</dt>
<dd><p>Character, name (in quotes) of the single multiway quantitative 
variable</p></dd>


<dt>categories</dt>
<dd><p>Character, vector of names (in quotes) of the two multiway 
categorical variables</p></dd>


<dt>...</dt>
<dd><p>Not used, forces later arguments to be used by name.</p></dd>


<dt>method</dt>
<dd><p>Character, “median” (default) or “percent”, method of 
ordering the levels of the categories. The median method computes the 
medians of the quantitative column grouped by category. The percent 
method computes percentages based on the same ratio underlying the 
quantitative percentage variable except grouped by category.</p></dd>


<dt>ratio_of</dt>
<dd><p>Character vector with the names (in quotes) of the 
numerator and denominator columns that produced the quantitative 
variable, required when <code>method</code> is "percent". Names can be 
in any order; the algorithm assumes that the parameter with the 
larger column sum is the denominator of the ratio.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.table</code>  with the following properties:</p><ul><li><p>Rows are not modified.</p></li>
<li><p>Grouping structures are not preserved.</p></li>
<li><p>The columns specified by <code>categories</code> are converted to factors 
     and ordered. Other columns are not modified.</p></li>
<li><p>Two columns are added. <strong>Caution!</strong> An existing column 
 with the same name as one of the added columns is silently overwritten.</p></li>
</ul><p>The names of the added columns incorporate the names of the multiway 
variables. Columns added:</p><dl><dt><code>CATEGORY_median</code> columns (when ordering method is "median")</dt>
<dd><p>Numeric. Two columns of medians of the quantitative variable grouped 
     by the categorical variables. The <code>CATEGORY</code> placeholder in 
     the column name is replaced by a category name from the 
     <code>categories</code> argument. For example, suppose 
     <code>categories = c("program", "people")</code> and 
     <code>method = "median"</code>. The two new column names would be 
     <code>program_median</code> and <code>people_median</code>.</p></dd>
 
     
 <dt><code>CATEGORY_QUANTITY</code> columns (when ordering method is "percent")</dt>
<dd><p>Numeric. Two columns of percentages based on the same ratio that 
     produces the quantitative variable except grouped by the categorical 
     variables. The <code>CATEGORY</code> placeholder in the column name is 
     replaced by a category name from the <code>categories</code> argument; the 
     <code>QUANTITY</code> placeholder is replaced by the quantitative variable 
     name in the <code>quantity</code> argument. For example, suppose 
     <code>categories = c("program", "people")</code>, and 
     <code>quantity = "grad_rate"</code>, and <code>method = "percent"</code>. The two 
     new column names  would be <code>program_grad_rate</code> and 
     <code>people_grad_rate</code>.</p></dd>
 
     

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In our context, "multiway" refers to the data structure and graph
design defined by Cleveland (1993), not to the methods of analysis described 
by Kroonenberg (2008).</p>
<p>Multiway data comprise three variables: a categorical variable of <em>m</em> 
levels; a second independent categorical variable of <em>n</em> levels; and a 
quantitative variable (or <em>response</em>) of length <em>mn</em> that 
cross-classifies the categories, that is, there is a value of the 
response for each combination of levels of the two categorical variables.</p>
<p>In a multiway dot plot, one category is encoded by the panels, the second 
category is encoded by the rows of each panel, and the quantitative variable 
is encoded along identical horizontal scales.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cleveland WS (1993). <em>Visualizing Data</em>. Hobart Press, Summit, NJ.</p>  
<p>Kroonenberg PM (2008). <em>Applied Multiway Data Analysis</em>. Wiley, 
  Hoboken, NJ.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Subset of built-in data set</span></span></span>
<span class="r-in"><span><span class="va">dframe</span> <span class="op">&lt;-</span> <span class="va">study_results</span><span class="op">[</span><span class="va">program</span> <span class="op">==</span> <span class="st">"EE"</span> <span class="op">|</span> <span class="va">program</span> <span class="op">==</span> <span class="st">"ME"</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dframe</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program    sex            race ever grad stick                 people</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE Female           Asian   36   14  38.9           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE Female           Black  145   58  40.0           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE Female   International    8    3  37.5   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE Female          Latine   14    6  42.9          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE Female Native American    3    0   0.0 Native American Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE Female   Other/Unknown    8    3  37.5   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE Female           White  173   55  31.8           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE   Male           Asian  189   86  45.5             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE   Male           Black  287   97  33.8             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE   Male   International   70   35  50.0     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE   Male          Latine   63   22  34.9            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE   Male Native American    8    1  12.5   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE   Male   Other/Unknown   27    9  33.3     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE   Male           White 1227  509  41.5             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME Female           Asian   22   13  59.1           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME Female           Black   75   23  30.7           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME Female   International    3    1  33.3   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME Female          Latine   10    4  40.0          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME Female Native American    5    1  20.0 Native American Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME Female   Other/Unknown    8    4  50.0   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME Female           White  261  109  41.8           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME   Male           Asian  118   58  49.2             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME   Male           Black  202   65  32.2             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME   Male   International   36   16  44.4     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME   Male          Latine   76   29  38.2            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME   Male Native American   14    4  28.6   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME   Male   Other/Unknown   43   20  46.5     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:      ME   Male           White 1776  918  51.7             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program    sex            race ever grad stick                 people</span>
<span class="r-in"><span><span class="va">dframe</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program ever grad stick                 people</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE   36   14  38.9           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE  145   58  40.0           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE    8    3  37.5   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE   14    6  42.9          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE    3    0   0.0 Native American Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE    8    3  37.5   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE  173   55  31.8           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE  189   86  45.5             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE  287   97  33.8             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE   70   35  50.0     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE   63   22  34.9            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE    8    1  12.5   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE   27    9  33.3     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE 1227  509  41.5             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME   22   13  59.1           Asian Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME   75   23  30.7           Black Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME    3    1  33.3   International Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME   10    4  40.0          Latine Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME    5    1  20.0 Native American Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME    8    4  50.0   Other/Unknown Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME  261  109  41.8           White Female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME  118   58  49.2             Asian Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME  202   65  32.2             Black Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME   36   16  44.4     International Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME   76   29  38.2            Latine Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME   14    4  28.6   Native American Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME   43   20  46.5     Other/Unknown Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:      ME 1776  918  51.7             White Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program ever grad stick                 people</span>
<span class="r-in"><span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">dframe</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Class before ordering</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">dframe</span><span class="op">$</span><span class="va">program</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "character"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">dframe</span><span class="op">$</span><span class="va">people</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "character"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Class and levels after ordering</span></span></span>
<span class="r-in"><span><span class="va">mw1</span> <span class="op">&lt;-</span> <span class="fu">order_multiway</span><span class="op">(</span><span class="va">dframe</span>, </span></span>
<span class="r-in"><span>                      quantity <span class="op">=</span> <span class="st">"stick"</span>, </span></span>
<span class="r-in"><span>                      categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">program</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "factor"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">program</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "EE" "ME"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">people</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "factor"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw1</span><span class="op">$</span><span class="va">people</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Native American Female" "Native American Male"   "Black Male"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] "Black Female"           "International Female"   "Latine Male"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "White Female"           "Other/Unknown Male"     "Latine Female"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] "Other/Unknown Female"   "White Male"             "International Male"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] "Asian Male"             "Asian Female"          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Display category medians </span></span></span>
<span class="r-in"><span><span class="va">mw1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people stick ever grad program_median people_median</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE           Asian Female  38.9   36   14           37.5         49.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE           Black Female  40.0  145   58           37.5         35.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE   International Female  37.5    8    3           37.5         35.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE          Latine Female  42.9   14    6           37.5         41.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE Native American Female   0.0    3    0           37.5         10.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE   Other/Unknown Female  37.5    8    3           37.5         43.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE           White Female  31.8  173   55           37.5         36.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE             Asian Male  45.5  189   86           37.5         47.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE             Black Male  33.8  287   97           37.5         33.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE     International Male  50.0   70   35           37.5         47.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE            Latine Male  34.9   63   22           37.5         36.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE   Native American Male  12.5    8    1           37.5         20.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE     Other/Unknown Male  33.3   27    9           37.5         39.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE             White Male  41.5 1227  509           37.5         46.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME           Asian Female  59.1   22   13           40.9         49.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME           Black Female  30.7   75   23           40.9         35.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME   International Female  33.3    3    1           40.9         35.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME          Latine Female  40.0   10    4           40.9         41.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME Native American Female  20.0    5    1           40.9         10.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME   Other/Unknown Female  50.0    8    4           40.9         43.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME           White Female  41.8  261  109           40.9         36.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME             Asian Male  49.2  118   58           40.9         47.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME             Black Male  32.2  202   65           40.9         33.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME     International Male  44.4   36   16           40.9         47.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME            Latine Male  38.2   76   29           40.9         36.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME   Native American Male  28.6   14    4           40.9         20.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME     Other/Unknown Male  46.5   43   20           40.9         39.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:      ME             White Male  51.7 1776  918           40.9         46.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people stick ever grad program_median people_median</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Existing factors (if any) are re-ordered</span></span></span>
<span class="r-in"><span><span class="va">mw2</span> <span class="op">&lt;-</span> <span class="va">dframe</span></span></span>
<span class="r-in"><span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ME"</span>, <span class="st">"EE"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Levels before conditioning</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ME" "EE"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Levels after conditioning</span></span></span>
<span class="r-in"><span><span class="va">mw2</span> <span class="op">&lt;-</span> <span class="fu">order_multiway</span><span class="op">(</span><span class="va">dframe</span>, </span></span>
<span class="r-in"><span>                      quantity <span class="op">=</span> <span class="st">"stick"</span>, </span></span>
<span class="r-in"><span>                      categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mw2</span><span class="op">$</span><span class="va">program</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "EE" "ME"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ordering using percent method</span></span></span>
<span class="r-in"><span><span class="fu">order_multiway</span><span class="op">(</span><span class="va">dframe</span>, </span></span>
<span class="r-in"><span>               quantity <span class="op">=</span> <span class="st">"stick"</span>, </span></span>
<span class="r-in"><span>               categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>               method <span class="op">=</span> <span class="st">"percent"</span>, </span></span>
<span class="r-in"><span>               ratio_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grad"</span>, <span class="st">"ever"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people grad ever stick program_stick people_stick</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:      EE           Asian Female   14   36  38.9          39.8         46.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:      EE           Black Female   58  145  40.0          39.8         36.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:      EE   International Female    3    8  37.5          39.8         36.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:      EE          Latine Female    6   14  42.9          39.8         41.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:      EE Native American Female    0    3   0.0          39.8         12.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:      EE   Other/Unknown Female    3    8  37.5          39.8         43.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:      EE           White Female   55  173  31.8          39.8         37.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:      EE             Asian Male   86  189  45.5          39.8         46.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:      EE             Black Male   97  287  33.8          39.8         33.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:      EE     International Male   35   70  50.0          39.8         48.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:      EE            Latine Male   22   63  34.9          39.8         36.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:      EE   Native American Male    1    8  12.5          39.8         22.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:      EE     Other/Unknown Male    9   27  33.3          39.8         41.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:      EE             White Male  509 1227  41.5          39.8         47.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:      ME           Asian Female   13   22  59.1          47.8         46.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:      ME           Black Female   23   75  30.7          47.8         36.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:      ME   International Female    1    3  33.3          47.8         36.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:      ME          Latine Female    4   10  40.0          47.8         41.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:      ME Native American Female    1    5  20.0          47.8         12.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:      ME   Other/Unknown Female    4    8  50.0          47.8         43.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:      ME           White Female  109  261  41.8          47.8         37.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:      ME             Asian Male   58  118  49.2          47.8         46.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:      ME             Black Male   65  202  32.2          47.8         33.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:      ME     International Male   16   36  44.4          47.8         48.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:      ME            Latine Male   29   76  38.2          47.8         36.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:      ME   Native American Male    4   14  28.6          47.8         22.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:      ME     Other/Unknown Male   20   43  46.5          47.8         41.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:      ME             White Male  918 1776  51.7          47.8         47.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     program                 people grad ever stick program_stick people_stick</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

