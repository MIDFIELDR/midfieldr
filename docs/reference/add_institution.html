<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add a column of institution names — add_institution • midfieldr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add a column of institution names — add_institution" />
<meta property="og:description" content="Add a column of character values with institution names (or labels) using
student ID as the join-by variable. Obtains the information from the
MIDFIELD term data table or equivalent. In the MIDFIELD practice
data, the labels are de-identified." />
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-light navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9018</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Case study
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/art-002-case-study-programs.html">Programs</a>
    </li>
    <li>
      <a href="../articles/art-004-case-study-students.html">Students</a>
    </li>
    <li>
      <a href="../articles/art-006-case-study-stickiness.html">Stickiness</a>
    </li>
    <li>
      <a href="../articles/art-008-case-study-grad-rate.html">Graduation rate</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/art-010-program-codes.html">Program codes and names</a>
    </li>
    <li>
      <a href="../articles/art-015-subsetting-midfield-data.html">Subsetting MIDFIELD data</a>
    </li>
    <li>
      <a href="../articles/art-020-data-sufficiency.html">Data sufficiency</a>
    </li>
    <li>
      <a href="../articles/art-030-timely-completion.html">Timely completion</a>
    </li>
    <li>
      <a href="../articles/art-040-fye-programs.html">FYE programs</a>
    </li>
    <li>
      <a href="../articles/art-050-multiway-graphs.html">Multiway graphs</a>
    </li>
    <li>
      <a href="../articles/art-060-tabulating-data.html">Tabulating data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MIDFIELDR/midfieldr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a column of institution names</h1>
    <small class="dont-index">Source: <a href='https://github.com/MIDFIELDR/midfieldr/blob/master/R/add_institution.R'><code>R/add_institution.R</code></a></small>
    <div class="hidden name"><code>add_institution.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add a column of character values with institution names (or labels) using
student ID as the join-by variable. Obtains the information from the
MIDFIELD <code>term</code> data table or equivalent. In the MIDFIELD practice
data, the labels are de-identified.</p>
    </div>

    <pre class="usage"><span class='fu'>add_institution</span><span class='op'>(</span><span class='va'>dframe</span>, <span class='va'>midfield_term</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dframe</th>
      <td><p>Data frame with required variable <code>mcid</code>.</p></td>
    </tr>
    <tr>
      <th>midfield_term</th>
      <td><p>MIDFIELD <code>term</code> data table or equivalent with
required variables <code>mcid</code>, <code>institutiion</code>, <code>term</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.table</code>  with the following properties:</p><ul>
<li><p>Rows are not modified.</p></li>
<li><p>Column <code>institution</code> is added.</p></li>
<li><p>Grouping structures are not preserved.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If a student is associated with more than one institution, the institution
at which they completed the most terms is returned. An existing column with
the same name as the added column is overwritten.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other add_*: 
<code><a href='add_completion_timely.html'>add_completion_timely</a>()</code>,
<code><a href='add_data_sufficiency.html'>add_data_sufficiency</a>()</code>,
<code><a href='add_race_sex.html'>add_race_sex</a>()</code>,
<code><a href='add_timely_term.html'>add_timely_term</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Extract a column of IDs from student</span>
<span class='va'>id</span> <span class='op'>&lt;-</span> <span class='va'>toy_student</span><span class='op'>[</span>, <span class='fu'>.</span><span class='op'>(</span><span class='va'>mcid</span><span class='op'>)</span><span class='op'>]</span>


<span class='co'># Add institutions from term</span>
<span class='va'>DT1</span> <span class='op'>&lt;-</span> <span class='fu'>add_institution</span><span class='op'>(</span><span class='va'>id</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>DT1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           mcid   institution
#&gt; 1: MID25783939 Institution M
#&gt; 2: MID25784402 Institution M
#&gt; 3: MID25805538 Institution M
#&gt; 4: MID25808099 Institution M
#&gt; 5: MID25816437 Institution M
#&gt; 6: MID25826223 Institution M</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>DT1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 100</div><div class='input'>

<span class='co'># Will overwrite institution column if present</span>
<span class='va'>DT2</span> <span class='op'>&lt;-</span> <span class='fu'>add_institution</span><span class='op'>(</span><span class='va'>DT1</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>DT2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           mcid   institution
#&gt; 1: MID25783939 Institution M
#&gt; 2: MID25784402 Institution M
#&gt; 3: MID25805538 Institution M
#&gt; 4: MID25808099 Institution M
#&gt; 5: MID25816437 Institution M
#&gt; 6: MID25826223 Institution M</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>DT2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 100</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/graphdr'>Richard Layton</a>, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


