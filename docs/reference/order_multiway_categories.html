<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Transform a data frame such that two independent categorical variables are 
factors with levels ordered for display in a multiway dot plot. Multiway 
data comprise a single quantitative value (or response) for every 
combination of levels of two categorical variables. The ordering of the 
rows and panels is crucial to the perception of effects (Cleveland, 1993)."><title>Order categorical variables of multiway data — order_multiway_categories • midfieldr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Order categorical variables of multiway data — order_multiway_categories"><meta property="og:description" content="Transform a data frame such that two independent categorical variables are 
factors with levels ordered for display in a multiway dot plot. Multiway 
data comprise a single quantitative value (or response) for every 
combination of levels of two categorical variables. The ordering of the 
rows and panels is crucial to the perception of effects (Cleveland, 1993)."><meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9025</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-010-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-020-degree-seeking.html">Degree seeking (inner joins)</a>
    <a class="dropdown-item" href="../articles/art-030-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-040-completion.html">Completion status</a>
    <a class="dropdown-item" href="../articles/art-050-demographics.html">Demographics (left outer joins)</a>
    <a class="dropdown-item" href="../articles/art-060-multiway.html">Multiway data and chatrs</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Order categorical variables of multiway data</h1>
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/R/order_multiway_categories.R" class="external-link"><code>R/order_multiway_categories.R</code></a></small>
      <div class="d-none name"><code>order_multiway_categories.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Transform a data frame such that two independent categorical variables are 
factors with levels ordered for display in a multiway dot plot. Multiway 
data comprise a single quantitative value (or response) for every 
combination of levels of two categorical variables. The ordering of the 
rows and panels is crucial to the perception of effects (Cleveland, 1993).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">order_multiway_categories</span><span class="op">(</span></span>
<span>  <span class="va">dframe</span>,</span>
<span>  <span class="va">quantity</span>,</span>
<span>  <span class="va">categories</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ratio_of <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dframe</dt>
<dd><p>Data frame with one numeric variable and two 
categorical variables of class character or factor. Two additional 
numeric columns required when using the "percent" ordering method.</p></dd>


<dt>quantity</dt>
<dd><p>Character, name (in quotes) of the single multiway quantitative 
variable</p></dd>


<dt>categories</dt>
<dd><p>Character, vector of names (in quotes) of the two multiway 
categorical variables</p></dd>


<dt>...</dt>
<dd><p>Not used, forces later arguments to be used by name.</p></dd>


<dt>method</dt>
<dd><p>Character, “median” (default) or “percent”, method of 
ordering the levels of the categories. The median method computes the 
medians of the quantitative column grouped by category. The percent 
method computes percentages based on the same ratio underlying the 
quantitative percentage variable except grouped by category.</p></dd>


<dt>ratio_of</dt>
<dd><p>Character vector with the names (in quotes) of the 
numerator and denominator columns that produced the quantitative 
variable, required when <code>method</code> is "percent". Names can be 
in any order; the algorithm assumes that the parameter with the 
larger column sum is the denominator of the ratio.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.table</code>  with the following properties:</p><ul><li><p>Rows are not modified.</p></li>
<li><p>Grouping structures are not preserved.</p></li>
<li><p>The columns specified by <code>categories</code> are converted to factors 
     and ordered. Other columns are not modified.</p></li>
<li><p>Two columns are added. <strong>Caution!</strong> An existing column 
 with the same name as one of the added columns is silently overwritten.</p></li>
</ul><p>The names of the added columns incorporate the names of the multiway 
variables. Columns added:</p><dl><dt><code>CATEGORY_median</code> columns (when ordering method is "median")</dt>
<dd><p>Numeric. Two columns of medians of the quantitative variable grouped 
     by the categorical variables. The <code>CATEGORY</code> placeholder in 
     the column name is replaced by a category name from the 
     <code>categories</code> argument. For example, suppose 
     <code>categories = c("program", "people")</code> and 
     <code>method = "median"</code>. The two new column names would be 
     <code>program_median</code> and <code>people_median</code>.</p></dd>
 
     
 <dt><code>CATEGORY_QUANTITY</code> columns (when ordering method is "percent")</dt>
<dd><p>Numeric. Two columns of percentages based on the same ratio that 
     produces the quantitative variable except grouped by the categorical 
     variables. The <code>CATEGORY</code> placeholder in the column name is 
     replaced by a category name from the <code>categories</code> argument; the 
     <code>QUANTITY</code> placeholder is replaced by the quantitative variable 
     name in the <code>quantity</code> argument. For example, suppose 
     <code>categories = c("program", "people")</code>, and 
     <code>quantity = "grad_rate"</code>, and <code>method = "percent"</code>. The two 
     new column names  would be <code>program_grad_rate</code> and 
     <code>people_grad_rate</code>.</p></dd>
 
     

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In our context, "multiway" refers to the data structure and graph
design defined by Cleveland (1993), not to the methods of analysis described 
by Kroonenberg (2008).</p>
<p>Multiway data comprise three variables: a categorical variable of <em>m</em> 
levels; a second independent categorical variable of <em>n</em> levels; and a 
quantitative variable (or <em>response</em>) of length <em>mn</em> that 
cross-classifies the categories, that is, there is a value of the 
response for each combination of levels of the two categorical variables.</p>
<p>In a multiway dot plot, one category is encoded by the panels, the second 
category is encoded by the rows of each panel, and the quantitative variable 
is encoded along identical horizontal scales.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cleveland WS (1993). <em>Visualizing Data</em>. Hobart Press, Summit, NJ.</p>  
<p>Kroonenberg PM (2008). <em>Applied Multiway Data Analysis</em>. Wiley, 
  Hoboken, NJ.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

