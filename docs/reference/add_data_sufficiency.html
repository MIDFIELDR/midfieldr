<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Add a column to a data frame of Student Unit Record (SUR) observations that
labels each row for inclusion or exclusion based on data sufficiency near
the upper and lower bounds of an institution's data range."><title>Determine data sufficiency for every student — add_data_sufficiency • midfieldr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Courier_Prime-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Determine data sufficiency for every student — add_data_sufficiency"><meta property="og:description" content="Add a column to a data frame of Student Unit Record (SUR) observations that
labels each row for inclusion or exclusion based on data sufficiency near
the upper and lower bounds of an institution's data range."><meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9029</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-010-planning.html">Planning</a>
    <a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-030-degree-seeking.html">Degree seeking</a>
    <a class="dropdown-item" href="../articles/art-040-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-050-blocs.html">Blocs</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Determine data sufficiency for every student</h1>
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/R/add_data_sufficiency.R" class="external-link"><code>R/add_data_sufficiency.R</code></a></small>
      <div class="d-none name"><code>add_data_sufficiency.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add a column to a data frame of Student Unit Record (SUR) observations that
labels each row for inclusion or exclusion based on data sufficiency near
the upper and lower bounds of an institution's data range.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_data_sufficiency</span><span class="op">(</span><span class="va">dframe</span>, midfield_term <span class="op">=</span> <span class="va">term</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dframe</dt>
<dd><p>Data frame of student unit record (SUR) observations keyed
by student ID. Required variables are <code>mcid</code> and
<code>timely_term</code>. See also <code><a href="add_timely_term.html">add_timely_term()</a></code>.</p></dd>


<dt>midfield_term</dt>
<dd><p>Data frame of SUR term observations keyed
by student ID. Default is <code>term</code>. Required variables are
<code>mcid</code>, <code>institution</code>, and <code>term</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.table</code>  with the following properties:</p><ul><li><p>Rows are not modified.</p></li>
<li><p>Grouping structures are not preserved.</p></li>
<li><p>Columns listed below are added. <strong>Caution!</strong> An existing column
with the same name as one of the added columns is silently overwritten.
Other columns are not modified.</p></li>
</ul><p>Columns added:</p><dl><dt><code>term_i</code></dt>
<dd><p>Character. Initial term of a student's longitudinal
record, encoded YYYYT. Not overwritten if present in <code>dframe</code>.</p></dd>

<dt><code>lower_limit</code></dt>
<dd><p>Character. Initial term of an institution's data
range, encoded YYYYT</p></dd>

<dt><code>upper_limit</code></dt>
<dd><p>Character. Final term of an institution's data
range, encoded YYYYT</p></dd>

<dt><code>data_sufficiency</code></dt>
<dd><p>Character. Label each observation for
inclusion or exclusion based on data sufficiency. Possible values are:
<code>include</code>, indicating that available data are sufficient for
estimating timely completion; <code>exclude-upper</code>, indicating
that data are insufficient at the upper limit of a data range; and
<code>exclude-lower</code>, indicating that data are insufficient at the
lower limit.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The time span of MIDFIELD term data varies by institution, each having
their own lower and upper bounds. For some student records, being at or
near these bounds creates unavoidable ambiguity when trying to assess
degree completion. Such records must be identified and in most cases
excluded to prevent false summary counts.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other add_*: 
<code><a href="add_completion_status.html">add_completion_status</a>()</code>,
<code><a href="add_timely_term.html">add_timely_term</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Start with an excerpt from the student data set </span></span></span>
<span class="r-in"><span><span class="va">dframe</span> <span class="op">&lt;-</span> <span class="va">toy_student</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Timely term column is required to add data sufficiency column</span></span></span>
<span class="r-in"><span><span class="va">dframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">dframe</span>, midfield_term <span class="op">=</span> <span class="va">toy_term</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add data sufficiency column</span></span></span>
<span class="r-in"><span><span class="fu">add_data_sufficiency</span><span class="op">(</span><span class="va">dframe</span>, midfield_term <span class="op">=</span> <span class="va">toy_term</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            mcid      level_i adj_span timely_term term_i lower_limit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: MID25784187  01 Freshman        6       19943  19885       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: MID25784974 02 Sophomore        5       19931  19883       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: MID25816209 02 Sophomore        5       19923  19881       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: MID25819358 02 Sophomore        5       19993  19946       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: MID25828870  01 Freshman        6       19933  19881       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: MID25829749    03 Junior        4       20033  19995       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: MID25841418    03 Junior        4       20013  19981       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: MID25845197    03 Junior        4       19943  19905       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: MID25846316  01 Freshman        6       19963  19911       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: MID25847220  01 Freshman        6       19943  19891       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     upper_limit data_sufficiency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:       19995    exclude-lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:       19995    exclude-lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:       19995    exclude-upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:       19995    exclude-upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:       19995          include</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Existing data_sufficiency column, if any, is overwritten</span></span></span>
<span class="r-in"><span><span class="va">dframe</span><span class="op">[</span>, <span class="va">data_sufficiency</span> <span class="op">:=</span> <span class="cn">NA_character_</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            mcid term_i      level_i adj_span timely_term data_sufficiency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: MID25784187  19885  01 Freshman        6       19943             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: MID25784974  19883 02 Sophomore        5       19931             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: MID25816209  19881 02 Sophomore        5       19923             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: MID25819358  19946 02 Sophomore        5       19993             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: MID25828870  19881  01 Freshman        6       19933             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: MID25829749  19995    03 Junior        4       20033             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: MID25841418  19981    03 Junior        4       20013             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: MID25845197  19905    03 Junior        4       19943             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: MID25846316  19911  01 Freshman        6       19963             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: MID25847220  19891  01 Freshman        6       19943             &lt;NA&gt;</span>
<span class="r-in"><span><span class="fu">add_data_sufficiency</span><span class="op">(</span><span class="va">dframe</span>, midfield_term <span class="op">=</span> <span class="va">toy_term</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            mcid      level_i adj_span timely_term term_i lower_limit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: MID25784187  01 Freshman        6       19943  19885       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: MID25784974 02 Sophomore        5       19931  19883       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: MID25816209 02 Sophomore        5       19923  19881       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: MID25819358 02 Sophomore        5       19993  19946       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: MID25828870  01 Freshman        6       19933  19881       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: MID25829749    03 Junior        4       20033  19995       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: MID25841418    03 Junior        4       20013  19981       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: MID25845197    03 Junior        4       19943  19905       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: MID25846316  01 Freshman        6       19963  19911       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: MID25847220  01 Freshman        6       19943  19891       19881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     upper_limit data_sufficiency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:       19995    exclude-lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:       19995    exclude-lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:       19995    exclude-upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:       19995    exclude-upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:       19995          include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:       19995          include</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

