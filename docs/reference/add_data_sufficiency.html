<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add a column to evaluate data sufficiency — add_data_sufficiency • midfieldr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add a column to evaluate data sufficiency — add_data_sufficiency" />
<meta property="og:description" content="Add a column of logical values (TRUE/FALSE) to a data frame indicating
whether the available data include a sufficient range of years to justify
including a student in an analysis. Based on information in the MIDFIELD
term data table or equivalent." />
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9017</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/art-00-midfield-data.html">Getting started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/art-01-multiway.html">Multiway graphs and tables</a>
    </li>
    <li>
      <a href="../articles/art-02-program-codes.html">Program codes</a>
    </li>
    <li>
      <a href="../articles/art-03-case-selection.html">Case selection</a>
    </li>
    <li>
      <a href="../articles/art-04-data-sufficiency.html">Data sufficiency</a>
    </li>
    <li>
      <a href="../articles/art-06-timely-completion.html">Timely completion</a>
    </li>
    <li>
      <a href="../articles/art-05-stickiness.html">Stickiness</a>
    </li>
    <li>
      <a href="../articles/art-07-fye-programs.html">FYE programs</a>
    </li>
    <li>
      <a href="../articles/art-08-graduation-rate.html">Graduation rate</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MIDFIELDR/midfieldr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a column to evaluate data sufficiency</h1>
    <small class="dont-index">Source: <a href='https://github.com/MIDFIELDR/midfieldr/blob/master/R/add_data_sufficiency.R'><code>R/add_data_sufficiency.R</code></a></small>
    <div class="hidden name"><code>add_data_sufficiency.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add a column of logical values (TRUE/FALSE) to a data frame indicating
whether the available data include a sufficient range of years to justify
including a student in an analysis. Based on information in the MIDFIELD
<code>term</code> data table or equivalent.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>add_data_sufficiency</span><span class='op'>(</span><span class='va'>dframe</span>, <span class='va'>midfield_term</span>, <span class='va'>...</span>, details <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dframe</th>
      <td><p>Data frame with required variables
<code>institution</code> and <code>timely_term</code>.</p></td>
    </tr>
    <tr>
      <th>midfield_term</th>
      <td><p>MIDFIELD <code>term</code> data table or equivalent
with required variables <code>institution</code> and <code>term</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not used, forces later arguments to be used by name.</p></td>
    </tr>
    <tr>
      <th>details</th>
      <td><p>Optional flag to add columns reporting information
on which the evaluation is based, default FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.table</code>  with the following properties:</p><ul>
<li><p>Rows are not modified.</p></li>
<li><p>Column <code>data_sufficiency</code> is added with an option to add
          column <code>inst_limit</code>.</p></li>
<li><p>Grouping structures are not preserved.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Program completion is typically considered timely if it occurs within a
specific span of years after admission. Students admitted too near the
last term in the available data are generally excluded from a study because
the data have insufficient range to fairly assess their records.</p>
<p>The input data frame <code>dframe</code> must include the <code>timely_term</code>
column obtained using the <code><a href='add_timely_term.html'>add_timely_term()</a></code> function. Students can be
retained in a study if their estimated timely completion term is no later
than the last term in their institution's data.</p>
<p>If the result in the <code>data_sufficiency</code> column is TRUE, then then
student should be included in the research. If FALSE, the student should
be excluded before calculating any persistence metric involving program
completion (graduation). The function itself performs no subsetting.</p>
<p>If <code>details</code> is TRUE, additional column(s) that support the finding
are returned as well. Here the extra column is <code>inst_limit</code>, the latest
term reported by the institution in the available data.</p>
<p>Existing columns with the same names as the added columns are overwritten.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other add_*: 
<code><a href='add_completion_timely.html'>add_completion_timely</a>()</code>,
<code><a href='add_institution.html'>add_institution</a>()</code>,
<code><a href='add_race_sex.html'>add_race_sex</a>()</code>,
<code><a href='add_timely_term.html'>add_timely_term</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='co'># Start with IDs and add institution and timely term</span></span>
<span class='r-in'><span class='va'>dframe</span> <span class='op'>&lt;-</span> <span class='va'>toy_student</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='fu'>.</span><span class='op'>(</span><span class='va'>mcid</span><span class='op'>)</span><span class='op'>]</span></span>
<span class='r-in'><span class='va'>dframe</span> <span class='op'>&lt;-</span> <span class='fu'><a href='add_institution.html'>add_institution</a></span><span class='op'>(</span><span class='va'>dframe</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>dframe</span> <span class='op'>&lt;-</span> <span class='fu'><a href='add_timely_term.html'>add_timely_term</a></span><span class='op'>(</span><span class='va'>dframe</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Data sufficiency column</span></span>
<span class='r-in'><span class='fu'>add_data_sufficiency</span><span class='op'>(</span><span class='va'>dframe</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>            mcid   institution timely_term data_sufficiency</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  1: MID25783939 Institution M       20053             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  2: MID25784402 Institution M       20103            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  3: MID25805538 Institution M       20091             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  4: MID25808099 Institution M       19923             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  5: MID25816437 Institution M       20113            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  6: MID25826223 Institution M       19913             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  7: MID25828870 Institution M       19933             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  8: MID25831839 Institution M       20123            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  9: MID25839453 Institution M       20111            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10: MID25840802 Institution M       19951             TRUE</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Data sufficiency column with details</span></span>
<span class='r-in'><span class='fu'>add_data_sufficiency</span><span class='op'>(</span><span class='va'>dframe</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span>, details <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>            mcid   institution timely_term inst_limit data_sufficiency</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  1: MID25783939 Institution M       20053      20093             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  2: MID25784402 Institution M       20103      20093            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  3: MID25805538 Institution M       20091      20093             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  4: MID25808099 Institution M       19923      20093             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  5: MID25816437 Institution M       20113      20093            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  6: MID25826223 Institution M       19913      20093             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  7: MID25828870 Institution M       19933      20093             TRUE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  8: MID25831839 Institution M       20123      20093            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  9: MID25839453 Institution M       20111      20093            FALSE</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10: MID25840802 Institution M       19951      20093             TRUE</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># If present, existing data_sufficiency column is overwritten</span></span>
<span class='r-in'><span class='co'># Using dframe from above,</span></span>
<span class='r-in'><span class='va'>DT1</span> <span class='op'>&lt;-</span> <span class='fu'>add_data_sufficiency</span><span class='op'>(</span><span class='va'>dframe</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>DT2</span> <span class='op'>&lt;-</span> <span class='fu'>add_data_sufficiency</span><span class='op'>(</span><span class='va'>DT1</span>, midfield_term <span class='op'>=</span> <span class='va'>toy_term</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/all.equal.data.table.html'>all.equal</a></span><span class='op'>(</span><span class='va'>DT1</span>, <span class='va'>DT2</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'></span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, US National Science Foundation.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


