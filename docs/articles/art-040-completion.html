<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Completion status • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Completion status">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9023</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-010-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-020-degree-seeking.html">Degree seeking (inner joins)</a>
    <a class="dropdown-item" href="../articles/art-030-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-040-completion.html">Completion status</a>
    <a class="dropdown-item" href="../articles/art-050-demographics.html">Demographics (left outer joins)</a>
    <a class="dropdown-item" href="../articles/art-060-multiway.html">Multiway data and chatrs</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Completion status</h1>
            
            <h4 data-toc-skip class="date">2022-07-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-040-completion.Rmd" class="external-link"><code>vignettes/art-040-completion.Rmd</code></a></small>
      <div class="d-none name"><code>art-040-completion.Rmd</code></div>
    </div>

    
    
<p>After subsetting longitudinal Student Unit Records (SURs) for data
sufficiency, degree seeking, and programs, a typical next step is to
label the records with completion status—required for most metrics
because graduation is the most significant measure of both program
success and student success.</p>
<p>To be counted as a timely graduate, a student must satisfy the timely
completion criterion. Depending on the purpose of the study, completion
status can be used to filter observations or to group and summarize
observations.</p>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>program completion</dt>
<dd>
<p>Graduating from a baccalaureate program</p>
</dd>
<dt>timely completion criterion</dt>
<dd>
<p>Completing a program in no more than a specified span of years, in
many cases, within 6 years after admission, or possibly less for some
transfer students.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<p>The method for labeling completion status is:</p>
<ul>
<li>Completion is TRUE if a degree is recorded in the
<code>degree</code> data table and FALSE otherwise.<br>
</li>
<li>Completion status is “timely” if the degree term is no later than
the timely term; “untimely” if later; and “NA” for non-completion.</li>
</ul>
</div>
<div class="section level2">
<h2 id="population">Population<a class="anchor" aria-label="anchor" href="#population"></a>
</h2>
<p>If you are writing your own script to follow along, we start with
these packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Packages</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span><span class="op">)</span>

<span class="co"># Printing options for data.table</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>
  datatable.print.nrows <span class="op">=</span> <span class="fl">55</span>,
  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,
  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<p><strong>Importing.</strong> Load the midfielddata data tables.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load data sets from midfielddata</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span><span class="op">)</span></code></pre></div>
<p><strong>Filtering.</strong> The steps from previous vignettes (<a href="art-010-data-sufficiency.html">Data sufficiency</a> and <a href="art-020-degree-seeking.html">Degree seeking</a> are reproduced
here in condensed form to yield the IDs of all students in the practice
data satisfying data sufficiency and degree seeking.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Filter for data sufficiency</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span>

<span class="co"># Filter for degree seeking</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/duplicated.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">student</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;               mcid</span>
<span class="co">#&gt;             &lt;char&gt;</span>
<span class="co">#&gt;     1: MID25783135</span>
<span class="co">#&gt;     2: MID25783162</span>
<span class="co">#&gt;     3: MID25783178</span>
<span class="co">#&gt;     4: MID25783195</span>
<span class="co">#&gt;     5: MID25783220</span>
<span class="co">#&gt;    ---            </span>
<span class="co">#&gt; 63948: MID26697574</span>
<span class="co">#&gt; 63949: MID26697576</span>
<span class="co">#&gt; 63950: MID26697599</span>
<span class="co">#&gt; 63951: MID26697615</span>
<span class="co">#&gt; 63952: MID26697623</span></code></pre>
<p>This data frame is adequate for demonstration purposes.</p>
</div>
<div class="section level2">
<h2 id="add_completion_status">
<code>add_completion_status()</code><a class="anchor" aria-label="anchor" href="#add_completion_status"></a>
</h2>
<p>You can view the function help page by running,</p>
<pre><code><span class="op">?</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="op">)</span></code></pre>
<p>Its arguments are:</p>
<dl>
<dt><code>dframe</code></dt>
<dd>
<p>Data frame of student unit record (SUR) observations keyed by student
ID. Required variables are <code>mcid</code> and
<code>timely_term</code>.</p>
</dd>
<dt><code>midfield_degree</code></dt>
<dd>
<p>Data frame of SUR degree observations keyed by student ID. Default is
<code>degree</code>. Required variables are <code>mcid</code> and
<code>term_degree</code>.</p>
</dd>
</dl>
<p>The function adds three columns to the SUR data frame: the
<code>completion_status</code> result plus two supporting variables:</p>
<dl>
<dt><code>term_degree</code></dt>
<dd>
<p>Character. Term in which a program is completed. Encoded YYYYT.</p>
</dd>
<dt><code>completion</code></dt>
<dd>
<p>Logical. TRUE denotes program completion; FALSE denotes
non-completion.</p>
</dd>
</dl>
<p>The possible values for completion status are:</p>
<ul>
<li>“timely”, program completion no later than
<code>timely_term</code>
</li>
<li>“untimely”, program completion after <code>timely_term</code>
</li>
<li>NA, non-completion.</li>
</ul>
<p><strong>Add variables.</strong> For demonstrating
<code><a href="../reference/add_completion_status.html">add_completion_status()</a></code>, our working data frame must have
columns for ID and the timely completion term. We use
<code><a href="../reference/add_timely_term.html">add_timely_term()</a></code> again, though alternatively we could have
retained the <code>timely_term</code> variable in earlier code
chunks.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Add completion status</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span>

<span class="co"># Drop unnecessary columns</span>
<span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_i"</span>, <span class="st">"level_i"</span>, <span class="st">"adj_span"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;               mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;             &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt;     1: MID25783135       19963        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt;     2: MID25783162       19973       19963       TRUE            timely</span>
<span class="co">#&gt;     3: MID25783178       20003       20001       TRUE            timely</span>
<span class="co">#&gt;     4: MID25783195       19983       19966       TRUE            timely</span>
<span class="co">#&gt;     5: MID25783220       20023        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt;    ---                                                                 </span>
<span class="co">#&gt; 63948: MID26697574       20113       20113       TRUE            timely</span>
<span class="co">#&gt; 63949: MID26697576       20153       20134       TRUE            timely</span>
<span class="co">#&gt; 63950: MID26697599       20153       20143       TRUE            timely</span>
<span class="co">#&gt; 63951: MID26697615       20153        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt; 63952: MID26697623       20153       20153       TRUE            timely</span></code></pre>
<p><strong>Closer look.</strong> Let’s examine three specific
observations to illustrate the sense of the results.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Student F</span>
<span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;           mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;         &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt; 1: MID25783162       19973       19963       TRUE            timely</span></code></pre>
<p>The student has a degree term, Spring 1997 (encoded
<code>19963</code>), so completion is TRUE. Their degree term does not
exceed their timely completion term, Spring 1998 (encoded
<code>19973</code>), so their completion status is “timely”.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Student G</span>
<span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID26696871"</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;           mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;         &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt; 1: MID26696871       20153       20163       TRUE          untimely</span></code></pre>
<p>This student too has a degree term, Spring 2017 (encoded
<code>20163</code>), so completion is TRUE. Their degree term exceeds
their timely completion term, Spring 2016 (encoded <code>20153</code>),
so their completion status is “untimely”.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Student H</span>
<span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID26697615"</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;           mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;         &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt; 1: MID26697615       20153        &lt;NA&gt;      FALSE              &lt;NA&gt;</span></code></pre>
<p>The student’s degree term is NA indicating they did not graduate.
Completion is therefore FALSE and completion status is also NA.</p>
<p><strong>Usage.</strong> The following implementations yield identical
results,</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Required arguments in order and explicitly named</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span>dframe <span class="op">=</span> <span class="va">DT</span>, midfield_degree <span class="op">=</span> <span class="va">degree</span><span class="op">)</span>

<span class="co"># Required arguments in order, but not named</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span>

<span class="co"># Using the implicit default for the midfield_term argument</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>

<span class="co"># Equality test between the data tables</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/all.equal.data.table.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/all.equal.data.table.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>In the vignettes, I will typically write required arguments without
names to remind us which midfielddata table is being used, e.g.,</p>
<pre><code><span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></code></pre>
<p>Your degree data set can be named something other than
<code>degree</code>. For example, if we were working with the “toy”
(exercise) data sets bundled with midfieldr, we would write something
like this,</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Using degree data named something else</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="va">toy_student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">toy_DT</span>, <span class="va">toy_term</span><span class="op">)</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">toy_DT</span>, <span class="va">toy_degree</span><span class="op">)</span>
<span class="va">toy_DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_i"</span>, <span class="st">"level_i"</span>, <span class="st">"adj_span"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">toy_DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;            mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;          &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt;  1: MID25784187       19943       19946       TRUE          untimely</span>
<span class="co">#&gt;  2: MID25784974       19931        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt;  3: MID25816209       19923        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt;  4: MID25819358       19993       19963       TRUE            timely</span>
<span class="co">#&gt;  5: MID25828870       19933       19923       TRUE            timely</span>
<span class="co">#&gt; ---                                                                 </span>
<span class="co">#&gt; 95: MID26622664       20113       20093       TRUE            timely</span>
<span class="co">#&gt; 96: MID26624815       20113       20073       TRUE            timely</span>
<span class="co">#&gt; 97: MID26691066       20161       20141       TRUE            timely</span>
<span class="co">#&gt; 98: MID26692025       20153       20141       TRUE            timely</span>
<span class="co">#&gt; 99: MID26692254       20191       20143       TRUE            timely</span></code></pre>
<p><strong>Caution! Silent overwriting!</strong> In this case, existing
columns with the same name as one of the added columns are deleted and
replaced except.</p>
<p>Using the toy data to illustrate, I’ll drop the columns added by
timely term except <code>completion</code></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Drop two columns</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="va">toy_DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_degree"</span>, <span class="st">"completion_status"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">toy_DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;            mcid timely_term completion</span>
<span class="co">#&gt;          &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;</span>
<span class="co">#&gt;  1: MID25784187       19943       TRUE</span>
<span class="co">#&gt;  2: MID25784974       19931      FALSE</span>
<span class="co">#&gt;  3: MID25816209       19923      FALSE</span>
<span class="co">#&gt;  4: MID25819358       19993       TRUE</span>
<span class="co">#&gt;  5: MID25828870       19933       TRUE</span>
<span class="co">#&gt; ---                                   </span>
<span class="co">#&gt; 95: MID26622664       20113       TRUE</span>
<span class="co">#&gt; 96: MID26624815       20113       TRUE</span>
<span class="co">#&gt; 97: MID26691066       20161       TRUE</span>
<span class="co">#&gt; 98: MID26692025       20153       TRUE</span>
<span class="co">#&gt; 99: MID26692254       20191       TRUE</span></code></pre>
<p>Reapplying the function, the <code>completion</code> column is
silently deleted and replaced.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Reapply the function</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">toy_DT</span>, <span class="va">toy_degree</span><span class="op">)</span>
<span class="va">toy_DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;            mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;          &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt;  1: MID25784187       19943       19946       TRUE          untimely</span>
<span class="co">#&gt;  2: MID25784974       19931        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt;  3: MID25816209       19923        &lt;NA&gt;      FALSE              &lt;NA&gt;</span>
<span class="co">#&gt;  4: MID25819358       19993       19963       TRUE            timely</span>
<span class="co">#&gt;  5: MID25828870       19933       19923       TRUE            timely</span>
<span class="co">#&gt; ---                                                                 </span>
<span class="co">#&gt; 95: MID26622664       20113       20093       TRUE            timely</span>
<span class="co">#&gt; 96: MID26624815       20113       20073       TRUE            timely</span>
<span class="co">#&gt; 97: MID26691066       20161       20141       TRUE            timely</span>
<span class="co">#&gt; 98: MID26692025       20153       20141       TRUE            timely</span>
<span class="co">#&gt; 99: MID26692254       20191       20143       TRUE            timely</span></code></pre>
</div>
<div class="section level2">
<h2 id="completion-summaries">Completion summaries<a class="anchor" aria-label="anchor" href="#completion-summaries"></a>
</h2>
<p>If our research question requires us to count the frequency of
observations by completion status, we can retain all observations and
group and summarize.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completion_status"</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;    completion_status     N</span>
<span class="co">#&gt;               &lt;char&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1:              &lt;NA&gt; 23173</span>
<span class="co">#&gt; 2:            timely 37047</span>
<span class="co">#&gt; 3:          untimely  3732</span></code></pre>
<p>Or we might add a second grouping variable.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">student</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">sex</span>, <span class="va">completion_status</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"completion_status"</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completion_status"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;       sex completion_status     N</span>
<span class="co">#&gt;    &lt;char&gt;            &lt;char&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1: Female              &lt;NA&gt; 10566</span>
<span class="co">#&gt; 2:   Male              &lt;NA&gt; 12607</span>
<span class="co">#&gt; 3: Female            timely 18842</span>
<span class="co">#&gt; 4:   Male            timely 18205</span>
<span class="co">#&gt; 5: Female          untimely  1437</span>
<span class="co">#&gt; 6:   Male          untimely  2295</span></code></pre>
</div>
<div class="section level2">
<h2 id="completion-filter">Completion filter<a class="anchor" aria-label="anchor" href="#completion-filter"></a>
</h2>
<p>If our research question requires us to extract timely graduates
only, we can use completion status as a filter.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span>
<span class="va">x</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;               mcid timely_term term_degree completion completion_status</span>
<span class="co">#&gt;             &lt;char&gt;      &lt;char&gt;      &lt;char&gt;     &lt;lgcl&gt;            &lt;char&gt;</span>
<span class="co">#&gt;     1: MID25783162       19973       19963       TRUE            timely</span>
<span class="co">#&gt;     2: MID25783178       20003       20001       TRUE            timely</span>
<span class="co">#&gt;     3: MID25783195       19983       19966       TRUE            timely</span>
<span class="co">#&gt;     4: MID25783259       19941       19933       TRUE            timely</span>
<span class="co">#&gt;     5: MID25783324       19973       19963       TRUE            timely</span>
<span class="co">#&gt;    ---                                                                 </span>
<span class="co">#&gt; 37043: MID26697553       20153       20133       TRUE            timely</span>
<span class="co">#&gt; 37044: MID26697574       20113       20113       TRUE            timely</span>
<span class="co">#&gt; 37045: MID26697576       20153       20134       TRUE            timely</span>
<span class="co">#&gt; 37046: MID26697599       20153       20143       TRUE            timely</span>
<span class="co">#&gt; 37047: MID26697623       20153       20153       TRUE            timely</span></code></pre>
</div>
<div class="section level2">
<h2 id="completion-programs">Completion programs<a class="anchor" aria-label="anchor" href="#completion-programs"></a>
</h2>
<p>If our research question require the programs that graduates
completed, we can use an inner join with <code>degree</code> and retain
selected columns.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">degree</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;               mcid   cip6</span>
<span class="co">#&gt;             &lt;char&gt; &lt;char&gt;</span>
<span class="co">#&gt;     1: MID25783162 521401</span>
<span class="co">#&gt;     2: MID25783178 143501</span>
<span class="co">#&gt;     3: MID25783195 521401</span>
<span class="co">#&gt;     4: MID25783259 011103</span>
<span class="co">#&gt;     5: MID25783324 260202</span>
<span class="co">#&gt;    ---                   </span>
<span class="co">#&gt; 37043: MID26697553 451001</span>
<span class="co">#&gt; 37044: MID26697574 300000</span>
<span class="co">#&gt; 37045: MID26697576 521401</span>
<span class="co">#&gt; 37046: MID26697599 110401</span>
<span class="co">#&gt; 37047: MID26697623 520301</span></code></pre>
<p>If we have a particular set of programs such as those developed in
the case study vignettes, we can join our program names with another
inner join. First, the case study program names and codes are loaded
with midfieldr. View the data help page by running</p>
<pre><code><span class="op">?</span> <span class="va">study_program_cips</span></code></pre>
<p>The case study program CIP codes and names are:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">study_program_cips</span><span class="op">[</span><span class="op">]</span>
<span class="co">#&gt;       cip6 program</span>
<span class="co">#&gt;     &lt;char&gt;  &lt;char&gt;</span>
<span class="co">#&gt;  1: 140801      CE</span>
<span class="co">#&gt;  2: 140802      CE</span>
<span class="co">#&gt;  3: 140803      CE</span>
<span class="co">#&gt;  4: 140804      CE</span>
<span class="co">#&gt;  5: 140805      CE</span>
<span class="co">#&gt;  6: 140899      CE</span>
<span class="co">#&gt;  7: 141001      EE</span>
<span class="co">#&gt;  8: 141003      EE</span>
<span class="co">#&gt;  9: 141004      EE</span>
<span class="co">#&gt; 10: 141099      EE</span>
<span class="co">#&gt; 11: 141901      ME</span>
<span class="co">#&gt; 12: 142701     ISE</span>
<span class="co">#&gt; 13: 143501     ISE</span>
<span class="co">#&gt; 14: 143601     ISE</span>
<span class="co">#&gt; 15: 143701     ISE</span></code></pre></div>
<p>Inner-join the program names and retain only those graduating in the
selected programs.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">study_program_cips</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;              mcid program</span>
<span class="co">#&gt;            &lt;char&gt;  &lt;char&gt;</span>
<span class="co">#&gt;    1: MID25783441      CE</span>
<span class="co">#&gt;    2: MID25784334      CE</span>
<span class="co">#&gt;    3: MID25784418      CE</span>
<span class="co">#&gt;    4: MID25784489      CE</span>
<span class="co">#&gt;    5: MID25784709      CE</span>
<span class="co">#&gt;   ---                    </span>
<span class="co">#&gt; 3618: MID26689274     ISE</span>
<span class="co">#&gt; 3619: MID26692926     ISE</span>
<span class="co">#&gt; 3620: MID26695626     ISE</span>
<span class="co">#&gt; 3621: MID26696116     ISE</span>
<span class="co">#&gt; 3622: MID26696429     ISE</span></code></pre>
<p>Again, a quick summary of program timely graduates.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">#&gt;    program     N</span>
<span class="co">#&gt;     &lt;char&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1:      CE   836</span>
<span class="co">#&gt; 2:      EE   914</span>
<span class="co">#&gt; 3:      ME  1289</span>
<span class="co">#&gt; 4:     ISE   583</span></code></pre>
</div>
<div class="section level2">
<h2 id="closing">Closing<a class="anchor" aria-label="anchor" href="#closing"></a>
</h2>
<p>Starting with the student, term, and degree data tables, we filtered
the data for data sufficiency and degree seeking. We explored the
features of the <code><a href="../reference/add_completion_status.html">add_completion_status()</a></code> function and
examined how the result might be used.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Dowle+Srinivasan:2021:data.table" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2021). <em><span class="nocase">data.table: Extension of data.frame</span></em>.
R package version 1.14.2. <a href="https://CRAN.R-project.org/package=data.table" class="external-link">https://CRAN.R-project.org/package=data.table</a>
</div>
</div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<p>We conclude each vignette by collecting its code chunks in a single,
condensed script for the convenience of those who wish to copy it into
their own R file.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Packages</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span><span class="op">)</span>

<span class="co"># Printing options for data.table</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>
  datatable.print.nrows <span class="op">=</span> <span class="fl">55</span>,
  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,
  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="co"># Load data sets from midfielddata</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span><span class="op">)</span>

<span class="co"># Filter for data sufficiency</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span>

<span class="co"># Filter for degree seeking</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/duplicated.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">student</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>

<span class="co"># Add completion status</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span>
<span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_i"</span>, <span class="st">"level_i"</span>, <span class="st">"adj_span"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span>

<span class="co"># Closer look</span>
<span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID26696871"</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID26697615"</span><span class="op">]</span>

<span class="co"># Equivalent statements</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span>dframe <span class="op">=</span> <span class="va">DT</span>, midfield_degree <span class="op">=</span> <span class="va">degree</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/all.equal.data.table.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/all.equal.data.table.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span><span class="op">)</span>

<span class="co"># Using degree data named something else</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="va">toy_student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">toy_DT</span>, <span class="va">toy_term</span><span class="op">)</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">toy_DT</span>, <span class="va">toy_degree</span><span class="op">)</span>
<span class="va">toy_DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_i"</span>, <span class="st">"level_i"</span>, <span class="st">"adj_span"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span>

<span class="co"># Caution. Overwriting.</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="va">toy_DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_degree"</span>, <span class="st">"completion_status"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">toy_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">toy_DT</span>, <span class="va">toy_degree</span><span class="op">)</span>

<span class="co"># Completion summaries</span>
<span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completion_status"</span><span class="op">)</span><span class="op">]</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">student</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">sex</span>, <span class="va">completion_status</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"completion_status"</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completion_status"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Completion filter</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span>

<span class="co"># Completion programs</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">degree</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">study_program_cips</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span>
<span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<style type="text/css">
blockquote {
    padding: 10px 20px;
    margin: 0 0 20px;
    font-size: 12px;
    border-left: 0px solid
}
</style>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
