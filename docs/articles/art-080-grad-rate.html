<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Graduation rate • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Graduation rate">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9026</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-010-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-020-degree-seeking.html">Degree seeking (inner joins)</a>
    <a class="dropdown-item" href="../articles/art-030-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-040-completion.html">Completion status</a>
    <a class="dropdown-item" href="../articles/art-050-demographics.html">Demographics (left outer joins)</a>
    <a class="dropdown-item" href="../articles/art-060-multiway.html">Multiway data and charts</a>
    <a class="dropdown-item" href="../articles/art-070-creating-fye-proxies.html">Creating FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-071-using-fye-proxies.html">Using FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-080-grad-rate.html">Graduation rate</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="art-080-grad-rate_files/kePrint-0.0.1/kePrint.js"></script><link href="art-080-grad-rate_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Graduation rate</h1>
            
            <h4 data-toc-skip class="date">2022-10-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-080-grad-rate.Rmd" class="external-link"><code>vignettes/art-080-grad-rate.Rmd</code></a></small>
      <div class="d-none name"><code>art-080-grad-rate.Rmd</code></div>
    </div>

    
    
<p>Graduation rate is a widely used, though flawed, measure of academic
performance.</p>
<p>The American Council on Education estimates that the conventional
definition of graduation rate may exclude up to 60% of students at
4-year institutions <span class="citation">(<a href="#ref-Cook+Hartle:2011" role="doc-biblioref">Cook &amp; Hartle,
2011</a>)</span>. Nevertheless, as Cook and Hartle explain,</p>
<blockquote>
<p>… in the eyes of the public, policy makers, and the media, graduation
rate is a clear, simple, and logical—if often misleading—number.</p>
</blockquote>
<p>Recognizing that graduation rate is a popular metric, we illustrate
an improved graduation rate calculation that includes many (though not
all) of the students excluded by the conventional definition.</p>
<p>Users can disregard the First-Year Engineering (FYE) content in this
vignette if they are working exclusively with either non-engineering
programs or engineering at non-FYE institutions. For users working with
FYE programs, the <a href="art-071-using-fye-proxies.html">Using FYE
proxies</a> vignette is a prerequisite.</p>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>Graduation rate (general)</dt>
<dd>
<p>The fraction of starters completing their programs in a timely
manner. The specific definitions given below differ in how they define
starters, with the MIDFIELD definition being more inclusive.</p>
</dd>
<dt>IPEDS graduation rate</dt>
<dd>
<p>In the US, the Integrated Postsecondary Education Data System (IPEDS)
defines “graduation rate” as the fraction of a cohort of full-time,
first-time, degree-seeking undergraduates who complete their program
within a percentage (100%, 150%, or 200%) of the “normal” time
(typically 4 years) as defined by the institution. IPEDS excludes
students who attend college part-time, who transfer between
institutions, and who start in Winter or Spring terms <span class="citation">(<a href="#ref-IPEDS:2020" role="doc-biblioref">NCES-IPEDS, 2020</a>)</span>.</p>
</dd>
<dt>MIDFIELD graduation rate</dt>
<dd>
<p>The fraction of a cohort of degree-seeking undergraduates who
complete their program in a timely manner (typically 6 years). MIDFIELD
includes students who attend college part-time, who transfer between
institutions, and who start in any term. The table summarizes the
comparison between the IPEDS and MIDFIELD graduation rate
definitions.</p>
</dd>
</dl>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;background-color: #c7eae5 !important;">
Item
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
IPEDS
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
MIDFIELD
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
MIDFIELD notes
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
completion span:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
4, 6, or 8 years
</td>
<td style="text-align:left;">
4, 6, or 8 years
</td>
<td style="text-align:left;">
Typical usage is 6 years
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
students admitted in:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Summer/Fall only
</td>
<td style="text-align:left;">
any term
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
part-time students are:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
excluded
</td>
<td style="text-align:left;">
included
</td>
<td style="text-align:left;">
Timely completion same as full-time students
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
transfer students are:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
excluded
</td>
<td style="text-align:left;">
included
</td>
<td style="text-align:left;">
Timely completion span adjusted for level at entry
</td>
</tr>
</tbody>
</table>
<dl>
<dt>FYE</dt>
<dd>
<p>First-Year Engineering program, a common-first-year curriculum that
is a prerequisite for declaring an engineering major at some US
institutions. Denoted by its own CIP code, FYE is not a degree-granting
program.</p>
</dd>
<dt>FYE proxy</dt>
<dd>
<p>Our estimate of the degree-granting engineering program in which an
FYE student in their first term would have started had they not been
required to start in FYE. The proxy, a 6-digit CIP code, acts as a
substitute for the FYE CIP code when gathering starters.</p>
</dd>
<dt>migrator</dt>
<dd>
<p>A student who changes majors. In computing graduation rate, whether a
student is a migrator depends on the level at which a “program” is
defined: institutional, 2-digit CIP, or 4-digit CIP.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="migrators">Migrators<a class="anchor" aria-label="anchor" href="#migrators"></a>
</h2>
<p>Migrators are problematic in determining graduation rate. In their
first-term program, they count as starters. After migrating however,
should they graduate in a timely manner, whether they are included in
the count of graduates depends on the CIP level for which graduation
rate is calculated.</p>
<p><strong>Four possible cases</strong> that depend on CIP level</p>
<ul>
<li><p>Graduation rate computed at the institution level includes all
migrators within the institution. For example, starters Engineering (CIP
14) who graduate in Business (CIP 52) are included in the count of
institution graduates. IPEDS defines this rate as the <em>institution
completion rate.</em></p></li>
<li><p>Computing at the 2-digit CIP level includes migrator graduates
within the same 2-digit CIP and excludes others. For example, starters
in Electrical Engineering (CIP 1410) who graduate in Mechanical
Engineering (CIP 1419) are included in the count of Engineering
graduates (CIP 14). But starters in Engineering graduating in Business
(CIP 52) are excluded from the count of Business graduates.</p></li>
<li><p>Computing at the 4-digit CIP level is similar. For example,
starters in Laser and Optical Engineering (CIP 141003) who graduate in
Telecommunications Engineering (CIP 141004) are included in the count of
Electrical Engineering graduates (CIP 1410). But starters in Electrical
Engineering graduating in Mechanical Engineering (CIP 1419) are excluded
from the count of Mechanical Engineering graduates.</p></li>
<li><p>Computing at the 6-digit CIP level excludes all migrator
graduates, though this case is rarely used.</p></li>
</ul>
<p><strong>No extensions for migrators.</strong> Because a migrator may
have to complete remedial work in their new program, their time to
graduation may exceed the defined acceptable span (typically 6 years).
Yet graduation rate as defined has no mechanism for extending the timely
completion span. (Developing such a heuristic for MIDFIELD data is a
potential topic of future work.)</p>
</div>
<div class="section level2">
<h2 id="work-in-progress">Work in progress<a class="anchor" aria-label="anchor" href="#work-in-progress"></a>
</h2>
<p>The remainder of the vignette is still a work in progress.</p>
</div>
<div class="section level2">
<h2 id="population">Population<a class="anchor" aria-label="anchor" href="#population"></a>
</h2>
<p>If you are writing your own script to follow along, we start with
these packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Printing options for data.table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  datatable.print.nrows <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Importing.</strong> Load the midfielddata data tables.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load data sets from midfielddata</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span><span class="op">)</span></span></code></pre></div>
<p><strong>Filtering.</strong> The steps from previous vignettes (<a href="art-010-data-sufficiency.html">Data sufficiency</a> and <a href="art-020-degree-seeking.html">Degree seeking</a> are reproduced
here in condensed form to yield the IDs of all students (in all majors)
in the practice data satisfying data sufficiency and degree seeking.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a working data frame, IDs only</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Minimize the dimension</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid</span></span>
<span><span class="co">#&gt;             &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135</span></span>
<span><span class="co">#&gt;     2: MID25783162</span></span>
<span><span class="co">#&gt;     3: MID25783178</span></span>
<span><span class="co">#&gt;     4: MID25783195</span></span>
<span><span class="co">#&gt;     5: MID25783220</span></span>
<span><span class="co">#&gt;    ---            </span></span>
<span><span class="co">#&gt; 63948: MID26697574</span></span>
<span><span class="co">#&gt; 63949: MID26697576</span></span>
<span><span class="co">#&gt; 63950: MID26697599</span></span>
<span><span class="co">#&gt; 63951: MID26697615</span></span>
<span><span class="co">#&gt; 63952: MID26697623</span></span></code></pre>
<p><strong>Subsetting <code>cip</code>.</strong> Steps from the <a href="art-030-programs.html">Programs</a> vignette are reproduced here
in condensed form to yield the abbreviated program names and 6-digit CIP
codes of the four programs in the case study plus First-Year Engineering
(FYE).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Obtain CIP codes and names</span></span>
<span><span class="va">four_programs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_search.html">filter_search</a></span><span class="op">(</span></span>
<span>    <span class="va">cip</span>, </span>
<span>    keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"140102"</span>, <span class="st">"^1408"</span>, <span class="st">"^1410"</span>, <span class="st">"^1419"</span>, <span class="st">"^1427"</span>, <span class="st">"^1435"</span>, <span class="st">"^1436"</span>, <span class="st">"^1437"</span><span class="op">)</span>, </span>
<span>    select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># Assign custom program names</span></span>
<span><span class="va">four_programs</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="st">"140102"</span>, <span class="st">"FYE"</span>, </span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1408"</span>, <span class="st">"CE"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1410"</span>, <span class="st">"EE"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1419"</span>, <span class="st">"ME"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"142701"</span>, <span class="st">"143501"</span>, <span class="st">"143601"</span>, <span class="st">"143701"</span><span class="op">)</span>, <span class="st">"ISE"</span> </span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;       cip6 program</span></span>
<span><span class="co">#&gt;     &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1: 140102     FYE</span></span>
<span><span class="co">#&gt;  2: 140801      CE</span></span>
<span><span class="co">#&gt;  3: 140802      CE</span></span>
<span><span class="co">#&gt;  4: 140803      CE</span></span>
<span><span class="co">#&gt;  5: 140804      CE</span></span>
<span><span class="co">#&gt;  6: 140805      CE</span></span>
<span><span class="co">#&gt;  7: 140899      CE</span></span>
<span><span class="co">#&gt;  8: 141001      EE</span></span>
<span><span class="co">#&gt;  9: 141003      EE</span></span>
<span><span class="co">#&gt; 10: 141004      EE</span></span>
<span><span class="co">#&gt; 11: 141099      EE</span></span>
<span><span class="co">#&gt; 12: 141901      ME</span></span>
<span><span class="co">#&gt; 13: 142701     ISE</span></span>
<span><span class="co">#&gt; 14: 143501     ISE</span></span>
<span><span class="co">#&gt; 15: 143601     ISE</span></span>
<span><span class="co">#&gt; 16: 143701     ISE</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="gather-starters">Gather starters<a class="anchor" aria-label="anchor" href="#gather-starters"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inner join for all terms for these IDs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Retain initial term</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   cip6</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 140102</span></span>
<span><span class="co">#&gt;     3: MID25783178 140102</span></span>
<span><span class="co">#&gt;     4: MID25783195 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220 110101</span></span>
<span><span class="co">#&gt;    ---                   </span></span>
<span><span class="co">#&gt; 63948: MID26697574 450701</span></span>
<span><span class="co">#&gt; 63949: MID26697576 520301</span></span>
<span><span class="co">#&gt; 63950: MID26697599 521201</span></span>
<span><span class="co">#&gt; 63951: MID26697615 500901</span></span>
<span><span class="co">#&gt; 63952: MID26697623 451001</span></span></code></pre>
<p>Extract FYE</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fye</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span><span class="op">]</span></span>
<span><span class="va">fye</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid   cip6</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 140102</span></span>
<span><span class="co">#&gt;    2: MID25783178 140102</span></span>
<span><span class="co">#&gt;    3: MID25783441 140102</span></span>
<span><span class="co">#&gt;    4: MID25783491 140102</span></span>
<span><span class="co">#&gt;    5: MID25783830 140102</span></span>
<span><span class="co">#&gt;   ---                   </span></span>
<span><span class="co">#&gt; 2933: MID26612303 140102</span></span>
<span><span class="co">#&gt; 2934: MID26612374 140102</span></span>
<span><span class="co">#&gt; 2935: MID26612408 140102</span></span>
<span><span class="co">#&gt; 2936: MID26614122 140102</span></span>
<span><span class="co">#&gt; 2937: MID26618099 140102</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fye</span> <span class="op">&lt;-</span> <span class="va">fye_proxy</span><span class="op">[</span><span class="va">fye</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">proxy</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">fye</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid  proxy</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 140801</span></span>
<span><span class="co">#&gt;    2: MID25783178 140701</span></span>
<span><span class="co">#&gt;    3: MID25783441 140801</span></span>
<span><span class="co">#&gt;    4: MID25783491 141001</span></span>
<span><span class="co">#&gt;    5: MID25783830 141001</span></span>
<span><span class="co">#&gt;   ---                   </span></span>
<span><span class="co">#&gt; 2933: MID26612303 140901</span></span>
<span><span class="co">#&gt; 2934: MID26612374 140901</span></span>
<span><span class="co">#&gt; 2935: MID26612408 141901</span></span>
<span><span class="co">#&gt; 2936: MID26614122 140701</span></span>
<span><span class="co">#&gt; 2937: MID26618099 140701</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># rejoin</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">fye</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid  proxy   cip6</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135   &lt;NA&gt; 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 140801 140102</span></span>
<span><span class="co">#&gt;     3: MID25783178 140701 140102</span></span>
<span><span class="co">#&gt;     4: MID25783195   &lt;NA&gt; 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220   &lt;NA&gt; 110101</span></span>
<span><span class="co">#&gt;    ---                          </span></span>
<span><span class="co">#&gt; 63948: MID26697574   &lt;NA&gt; 450701</span></span>
<span><span class="co">#&gt; 63949: MID26697576   &lt;NA&gt; 520301</span></span>
<span><span class="co">#&gt; 63950: MID26697599   &lt;NA&gt; 521201</span></span>
<span><span class="co">#&gt; 63951: MID26697615   &lt;NA&gt; 500901</span></span>
<span><span class="co">#&gt; 63952: MID26697623   &lt;NA&gt; 451001</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Combine all starting CIPs</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="va">proxy</span>,</span>
<span>  <span class="va">cip6</span> <span class="op">!=</span> <span class="st">"140102"</span>, <span class="va">cip6</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid  proxy   cip6  start</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135   &lt;NA&gt; 520101 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 140801 140102 140801</span></span>
<span><span class="co">#&gt;     3: MID25783178 140701 140102 140701</span></span>
<span><span class="co">#&gt;     4: MID25783195   &lt;NA&gt; 040201 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220   &lt;NA&gt; 110101 110101</span></span>
<span><span class="co">#&gt;    ---                                 </span></span>
<span><span class="co">#&gt; 63948: MID26697574   &lt;NA&gt; 450701 450701</span></span>
<span><span class="co">#&gt; 63949: MID26697576   &lt;NA&gt; 520301 520301</span></span>
<span><span class="co">#&gt; 63950: MID26697599   &lt;NA&gt; 521201 521201</span></span>
<span><span class="co">#&gt; 63951: MID26697615   &lt;NA&gt; 500901 500901</span></span>
<span><span class="co">#&gt; 63952: MID26697623   &lt;NA&gt; 451001 451001</span></span></code></pre>
<p>Join the program names and filter.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">four_programs</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid  proxy   cip6  start</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135   &lt;NA&gt; 520101 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 140801 140102 140801</span></span>
<span><span class="co">#&gt;     3: MID25783178 140701 140102 140701</span></span>
<span><span class="co">#&gt;     4: MID25783195   &lt;NA&gt; 040201 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220   &lt;NA&gt; 110101 110101</span></span>
<span><span class="co">#&gt;    ---                                 </span></span>
<span><span class="co">#&gt; 63948: MID26697574   &lt;NA&gt; 450701 450701</span></span>
<span><span class="co">#&gt; 63949: MID26697576   &lt;NA&gt; 520301 520301</span></span>
<span><span class="co">#&gt; 63950: MID26697599   &lt;NA&gt; 521201 521201</span></span>
<span><span class="co">#&gt; 63951: MID26697615   &lt;NA&gt; 500901 500901</span></span>
<span><span class="co">#&gt; 63952: MID26697623   &lt;NA&gt; 451001 451001</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">four_programs</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid program</span></span>
<span><span class="co">#&gt;             &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;     2: MID25783162      CE</span></span>
<span><span class="co">#&gt;     3: MID25783178    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;     4: MID25783195    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;     5: MID25783220    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    ---                    </span></span>
<span><span class="co">#&gt; 63948: MID26697574    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 63949: MID26697576    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 63950: MID26697599    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 63951: MID26697615    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 63952: MID26697623    &lt;NA&gt;</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162      CE</span></span>
<span><span class="co">#&gt;    2: MID25783441      CE</span></span>
<span><span class="co">#&gt;    3: MID25783491      EE</span></span>
<span><span class="co">#&gt;    4: MID25783830      EE</span></span>
<span><span class="co">#&gt;    5: MID25783912     ISE</span></span>
<span><span class="co">#&gt;   ---                    </span></span>
<span><span class="co">#&gt; 5501: MID26696642      EE</span></span>
<span><span class="co">#&gt; 5502: MID26696738      ME</span></span>
<span><span class="co">#&gt; 5503: MID26696958      ME</span></span>
<span><span class="co">#&gt; 5504: MID26696967      ME</span></span>
<span><span class="co">#&gt; 5505: MID26697444      ME</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="stuff">stuff<a class="anchor" aria-label="anchor" href="#stuff"></a>
</h2>
<p>The data set <code>study_starters</code> (included with midfieldr)
contains the IDs of students starting in four programs (Civil,
Electrical, Industrial/Systems, and Mechanical Engineering) after
filtering for data sufficiency, degree seeking, and program. Starters
include FYE proxies. (Deriving these data from the source data tables is
described in <a href="art-070-fye.html">Starters and FYE
programs</a>).</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Case study starters</span></span>
<span><span class="va">study_starters</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid  start program</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783441 140801      CE</span></span>
<span><span class="co">#&gt;    2: MID25783491 141001      EE</span></span>
<span><span class="co">#&gt;    3: MID25783912 143501     ISE</span></span>
<span><span class="co">#&gt;    4: MID25784025 141901      ME</span></span>
<span><span class="co">#&gt;    5: MID25784209 140801      CE</span></span>
<span><span class="co">#&gt;   ---                           </span></span>
<span><span class="co">#&gt; 4892: MID26696642 141001      EE</span></span>
<span><span class="co">#&gt; 4893: MID26696738 141901      ME</span></span>
<span><span class="co">#&gt; 4894: MID26696958 141901      ME</span></span>
<span><span class="co">#&gt; 4895: MID26696967 141901      ME</span></span>
<span><span class="co">#&gt; 4896: MID26697444 141901      ME</span></span></code></pre>
<p>The data set <code>study_observations</code> (included with
midfieldr) contains the graduates of the case study programs as well as
those ever enrolled, which we ignore for this metric. (Deriving these
data from the source data tables is described in <a href="art-002-case-data.html">Case study: Data</a>) These graduates have
been filtered for timely completion.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Case study graduates</span></span>
<span><span class="va">study_observations</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   race    sex program  group</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt;  &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783178  Black   Male     ISE   ever</span></span>
<span><span class="co">#&gt;     2: MID25783441  White   Male      CE   ever</span></span>
<span><span class="co">#&gt;     3: MID25783491  White   Male      EE   ever</span></span>
<span><span class="co">#&gt;     4: MID25783912  White   Male     ISE   ever</span></span>
<span><span class="co">#&gt;     5: MID25784025  Black   Male      ME   ever</span></span>
<span><span class="co">#&gt;    ---                                         </span></span>
<span><span class="co">#&gt; 11208: MID26696738  White   Male      ME   grad</span></span>
<span><span class="co">#&gt; 11209: MID26696771  White Female      EE   grad</span></span>
<span><span class="co">#&gt; 11210: MID26696967  White   Male      ME   grad</span></span>
<span><span class="co">#&gt; 11211: MID26697163 Latine   Male      ME   grad</span></span>
<span><span class="co">#&gt; 11212: MID26697447  Asian   Male      EE   grad</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="gather-starters-2">Gather starters 2<a class="anchor" aria-label="anchor" href="#gather-starters-2"></a>
</h2>
<p>Our case study starters have already been gathered in
<code>study_starters</code>. Here we select the two variables we need,
rename the program variable to prepare for a merge operation later, and
add a <code>group</code> variable for later use in grouping and
summarizing.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">study_starters</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Rename the program variable</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">DT</span>, old <span class="op">=</span> <span class="st">"program"</span>, new <span class="op">=</span> <span class="st">"program_start"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a group variable</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">group</span> <span class="op">:=</span> <span class="st">"start"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program_start  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;        &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783441            CE  start</span></span>
<span><span class="co">#&gt;    2: MID25783491            EE  start</span></span>
<span><span class="co">#&gt;    3: MID25783912           ISE  start</span></span>
<span><span class="co">#&gt;    4: MID25784025            ME  start</span></span>
<span><span class="co">#&gt;    5: MID25784209            CE  start</span></span>
<span><span class="co">#&gt;   ---                                 </span></span>
<span><span class="co">#&gt; 4892: MID26696642            EE  start</span></span>
<span><span class="co">#&gt; 4893: MID26696738            ME  start</span></span>
<span><span class="co">#&gt; 4894: MID26696958            ME  start</span></span>
<span><span class="co">#&gt; 4895: MID26696967            ME  start</span></span>
<span><span class="co">#&gt; 4896: MID26697444            ME  start</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="gather-graduates">Gather graduates<a class="anchor" aria-label="anchor" href="#gather-graduates"></a>
</h2>
<p>Case study graduates are a subset of <code>study_observations</code>.
We filter for the graduates and rename the program variable to prepare
for a merge operation later.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for graduates only</span></span>
<span><span class="va">grad</span> <span class="op">&lt;-</span> <span class="va">study_observations</span><span class="op">[</span><span class="va">group</span> <span class="op">==</span> <span class="st">"grad"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span>, <span class="va">group</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Rename the program variable</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">grad</span>, old <span class="op">=</span> <span class="st">"program"</span>, new <span class="op">=</span> <span class="st">"program_grad"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">grad</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program_grad  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783178          ISE   grad</span></span>
<span><span class="co">#&gt;    2: MID25783441           CE   grad</span></span>
<span><span class="co">#&gt;    3: MID25783491           EE   grad</span></span>
<span><span class="co">#&gt;    4: MID25783912          ISE   grad</span></span>
<span><span class="co">#&gt;    5: MID25784489           CE   grad</span></span>
<span><span class="co">#&gt;   ---                                </span></span>
<span><span class="co">#&gt; 3548: MID26696738           ME   grad</span></span>
<span><span class="co">#&gt; 3549: MID26696771           EE   grad</span></span>
<span><span class="co">#&gt; 3550: MID26696967           ME   grad</span></span>
<span><span class="co">#&gt; 3551: MID26697163           ME   grad</span></span>
<span><span class="co">#&gt; 3552: MID26697447           EE   grad</span></span></code></pre>
<p><strong>Adding variables.</strong> We use a left-outer join to add
starting programs to the graduates data. An NA represents a graduate not
starting in one of the case study programs.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">join_cols</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program_start</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">grad</span> <span class="op">&lt;-</span> <span class="va">join_cols</span><span class="op">[</span><span class="va">grad</span>, on <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">grad</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program_start program_grad  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;        &lt;char&gt;       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783178          &lt;NA&gt;          ISE   grad</span></span>
<span><span class="co">#&gt;    2: MID25783441            CE           CE   grad</span></span>
<span><span class="co">#&gt;    3: MID25783491            EE           EE   grad</span></span>
<span><span class="co">#&gt;    4: MID25783912           ISE          ISE   grad</span></span>
<span><span class="co">#&gt;    5: MID25784489            ME           CE   grad</span></span>
<span><span class="co">#&gt;   ---                                              </span></span>
<span><span class="co">#&gt; 3548: MID26696738            ME           ME   grad</span></span>
<span><span class="co">#&gt; 3549: MID26696771          &lt;NA&gt;           EE   grad</span></span>
<span><span class="co">#&gt; 3550: MID26696967            ME           ME   grad</span></span>
<span><span class="co">#&gt; 3551: MID26697163          &lt;NA&gt;           ME   grad</span></span>
<span><span class="co">#&gt; 3552: MID26697447          &lt;NA&gt;           EE   grad</span></span></code></pre>
<p><strong>Filtering.</strong> For graduation rate we want graduates who
started in their completed program. Retain rows in which start and grad
programs match.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grad</span> <span class="op">&lt;-</span> <span class="va">grad</span><span class="op">[</span><span class="va">program_start</span> <span class="op">==</span> <span class="va">program_grad</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">grad</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program_start program_grad  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;        &lt;char&gt;       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783441            CE           CE   grad</span></span>
<span><span class="co">#&gt;    2: MID25783491            EE           EE   grad</span></span>
<span><span class="co">#&gt;    3: MID25783912           ISE          ISE   grad</span></span>
<span><span class="co">#&gt;    4: MID25784709            CE           CE   grad</span></span>
<span><span class="co">#&gt;    5: MID25784843            CE           CE   grad</span></span>
<span><span class="co">#&gt;   ---                                              </span></span>
<span><span class="co">#&gt; 2073: MID26696337            CE           CE   grad</span></span>
<span><span class="co">#&gt; 2074: MID26696429           ISE          ISE   grad</span></span>
<span><span class="co">#&gt; 2075: MID26696642            EE           EE   grad</span></span>
<span><span class="co">#&gt; 2076: MID26696738            ME           ME   grad</span></span>
<span><span class="co">#&gt; 2077: MID26696967            ME           ME   grad</span></span></code></pre>
<p>The starting program is no longer needed.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Drop an unnecessary variable </span></span>
<span><span class="va">grad</span><span class="op">[</span>, <span class="va">program_start</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">grad</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program_grad  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783441           CE   grad</span></span>
<span><span class="co">#&gt;    2: MID25783491           EE   grad</span></span>
<span><span class="co">#&gt;    3: MID25783912          ISE   grad</span></span>
<span><span class="co">#&gt;    4: MID25784709           CE   grad</span></span>
<span><span class="co">#&gt;    5: MID25784843           CE   grad</span></span>
<span><span class="co">#&gt;   ---                                </span></span>
<span><span class="co">#&gt; 2073: MID26696337           CE   grad</span></span>
<span><span class="co">#&gt; 2074: MID26696429          ISE   grad</span></span>
<span><span class="co">#&gt; 2075: MID26696642           EE   grad</span></span>
<span><span class="co">#&gt; 2076: MID26696738           ME   grad</span></span>
<span><span class="co">#&gt; 2077: MID26696967           ME   grad</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="combine-starters-and-graduates">Combine starters and graduates<a class="anchor" aria-label="anchor" href="#combine-starters-and-graduates"></a>
</h2>
<p><strong>Binding.</strong> Combine two data frames by matching column
names. The structure of this data frame is designed to support the
upcoming summarizing operation.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rename the program variables to match before binding</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">DT</span>, old <span class="op">=</span> <span class="st">"program_start"</span>, new <span class="op">=</span> <span class="st">"program"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">grad</span>, old <span class="op">=</span> <span class="st">"program_grad"</span>, new <span class="op">=</span> <span class="st">"program"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine data tables</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">rbindlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">grad</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783441      CE  start</span></span>
<span><span class="co">#&gt;    2: MID25783491      EE  start</span></span>
<span><span class="co">#&gt;    3: MID25783912     ISE  start</span></span>
<span><span class="co">#&gt;    4: MID25784025      ME  start</span></span>
<span><span class="co">#&gt;    5: MID25784209      CE  start</span></span>
<span><span class="co">#&gt;   ---                           </span></span>
<span><span class="co">#&gt; 6969: MID26696337      CE   grad</span></span>
<span><span class="co">#&gt; 6970: MID26696429     ISE   grad</span></span>
<span><span class="co">#&gt; 6971: MID26696642      EE   grad</span></span>
<span><span class="co">#&gt; 6972: MID26696738      ME   grad</span></span>
<span><span class="co">#&gt; 6973: MID26696967      ME   grad</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="add-demographics">Add demographics<a class="anchor" aria-label="anchor" href="#add-demographics"></a>
</h2>
<p><strong>Creating variables.</strong> Using columns from student, we
add variables for race/ethnicity and sex using a left-outer join.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span>, <span class="va">group</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program  group          race    sex</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt; &lt;char&gt;        &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783441      CE  start         White   Male</span></span>
<span><span class="co">#&gt;    2: MID25783491      EE  start         White   Male</span></span>
<span><span class="co">#&gt;    3: MID25783912     ISE  start         White   Male</span></span>
<span><span class="co">#&gt;    4: MID25784025      ME  start         Black   Male</span></span>
<span><span class="co">#&gt;    5: MID25784209      CE  start International   Male</span></span>
<span><span class="co">#&gt;   ---                                                </span></span>
<span><span class="co">#&gt; 6969: MID26696337      CE   grad        Latine   Male</span></span>
<span><span class="co">#&gt; 6970: MID26696429     ISE   grad         White Female</span></span>
<span><span class="co">#&gt; 6971: MID26696642      EE   grad         White   Male</span></span>
<span><span class="co">#&gt; 6972: MID26696738      ME   grad         White   Male</span></span>
<span><span class="co">#&gt; 6973: MID26696967      ME   grad         White   Male</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="group-and-summarize">Group and summarize<a class="anchor" aria-label="anchor" href="#group-and-summarize"></a>
</h2>
<p>To calculate graduation rate, we want to count the number of students
starting in each of our programs and the number of those graduating in
their starting programs, grouped by race/ethnicity and sex.</p>
<p>These grouping variables are columns in the data set (race, sex,
program, and group)—a structure we designed to support this specific
analytical goal. We can now group and summarize in one line of code.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Count by the grouping variables </span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"group"</span>, <span class="st">"program"</span>, <span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;       group program            race    sex     N</span></span>
<span><span class="co">#&gt;      &lt;char&gt;  &lt;char&gt;          &lt;char&gt; &lt;char&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:  start      CE           White   Male   666</span></span>
<span><span class="co">#&gt;   2:  start      EE           White   Male   879</span></span>
<span><span class="co">#&gt;   3:  start     ISE           White   Male   198</span></span>
<span><span class="co">#&gt;   4:  start      ME           Black   Male   132</span></span>
<span><span class="co">#&gt;   5:  start      CE   International   Male    13</span></span>
<span><span class="co">#&gt;  ---                                            </span></span>
<span><span class="co">#&gt;  96:   grad     ISE   International   Male    10</span></span>
<span><span class="co">#&gt;  97:   grad     ISE           Asian Female     3</span></span>
<span><span class="co">#&gt;  98:   grad     ISE   International Female     3</span></span>
<span><span class="co">#&gt;  99:   grad      ME Native American Female     1</span></span>
<span><span class="co">#&gt; 100:   grad      EE   International Female     1</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="compute-metric">Compute metric<a class="anchor" aria-label="anchor" href="#compute-metric"></a>
</h2>
<p>Transform.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Transform to row-record form</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">program</span> <span class="op">+</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">race</span> <span class="op">~</span> <span class="va">group</span>, value.var <span class="op">=</span> <span class="st">"N"</span>, fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex            race  grad start</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;          &lt;char&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female           Asian     5    11</span></span>
<span><span class="co">#&gt;  2:      CE Female           Black     8    34</span></span>
<span><span class="co">#&gt;  3:      CE Female          Latine     3     7</span></span>
<span><span class="co">#&gt;  4:      CE Female   Other/Unknown     1     5</span></span>
<span><span class="co">#&gt;  5:      CE Female           White    94   204</span></span>
<span><span class="co">#&gt; ---                                           </span></span>
<span><span class="co">#&gt; 49:      ME   Male   International    13    25</span></span>
<span><span class="co">#&gt; 50:      ME   Male          Latine    13    44</span></span>
<span><span class="co">#&gt; 51:      ME   Male Native American     1     7</span></span>
<span><span class="co">#&gt; 52:      ME   Male   Other/Unknown    10    22</span></span>
<span><span class="co">#&gt; 53:      ME   Male           White   583  1195</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span><span class="op">[</span>, <span class="va">rate</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="va">grad</span> <span class="op">/</span> <span class="va">start</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex            race  grad start  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;          &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female           Asian     5    11  45.5</span></span>
<span><span class="co">#&gt;  2:      CE Female           Black     8    34  23.5</span></span>
<span><span class="co">#&gt;  3:      CE Female          Latine     3     7  42.9</span></span>
<span><span class="co">#&gt;  4:      CE Female   Other/Unknown     1     5  20.0</span></span>
<span><span class="co">#&gt;  5:      CE Female           White    94   204  46.1</span></span>
<span><span class="co">#&gt; ---                                                 </span></span>
<span><span class="co">#&gt; 49:      ME   Male   International    13    25  52.0</span></span>
<span><span class="co">#&gt; 50:      ME   Male          Latine    13    44  29.5</span></span>
<span><span class="co">#&gt; 51:      ME   Male Native American     1     7  14.3</span></span>
<span><span class="co">#&gt; 52:      ME   Male   Other/Unknown    10    22  45.5</span></span>
<span><span class="co">#&gt; 53:      ME   Male           White   583  1195  48.8</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="prepare-for-dissemination">Prepare for dissemination<a class="anchor" aria-label="anchor" href="#prepare-for-dissemination"></a>
</h2>
<p>We take several additional steps to prepare the data for
dissemination in tables or charts.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Preserve anonymity</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">grad</span> <span class="op">&gt;=</span> <span class="fl">10</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex          race  grad start  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;        &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female         White    94   204  46.1</span></span>
<span><span class="co">#&gt;  2:      CE   Male         Asian    11    21  52.4</span></span>
<span><span class="co">#&gt;  3:      CE   Male         Black    17    55  30.9</span></span>
<span><span class="co">#&gt;  4:      CE   Male         White   333   666  50.0</span></span>
<span><span class="co">#&gt;  5:      EE Female         Black    41   109  37.6</span></span>
<span><span class="co">#&gt; ---                                               </span></span>
<span><span class="co">#&gt; 21:      ME   Male         Black    33   132  25.0</span></span>
<span><span class="co">#&gt; 22:      ME   Male International    13    25  52.0</span></span>
<span><span class="co">#&gt; 23:      ME   Male        Latine    13    44  29.5</span></span>
<span><span class="co">#&gt; 24:      ME   Male Other/Unknown    10    22  45.5</span></span>
<span><span class="co">#&gt; 25:      ME   Male         White   583  1195  48.8</span></span></code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter by study design</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">race</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"International"</span>, <span class="st">"Other/Unknown"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex   race  grad start  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female  White    94   204  46.1</span></span>
<span><span class="co">#&gt;  2:      CE   Male  Asian    11    21  52.4</span></span>
<span><span class="co">#&gt;  3:      CE   Male  Black    17    55  30.9</span></span>
<span><span class="co">#&gt;  4:      CE   Male  White   333   666  50.0</span></span>
<span><span class="co">#&gt;  5:      EE Female  Black    41   109  37.6</span></span>
<span><span class="co">#&gt;  6:      EE Female  White    33   117  28.2</span></span>
<span><span class="co">#&gt;  7:      EE   Male  Asian    49   128  38.3</span></span>
<span><span class="co">#&gt;  8:      EE   Male  Black    72   204  35.3</span></span>
<span><span class="co">#&gt;  9:      EE   Male Latine    19    48  39.6</span></span>
<span><span class="co">#&gt; 10:      EE   Male  White   345   879  39.2</span></span>
<span><span class="co">#&gt; 11:     ISE Female  Black    14    42  33.3</span></span>
<span><span class="co">#&gt; 12:     ISE Female  White    48    96  50.0</span></span>
<span><span class="co">#&gt; 13:     ISE   Male  Asian    12    27  44.4</span></span>
<span><span class="co">#&gt; 14:     ISE   Male  Black    19    53  35.8</span></span>
<span><span class="co">#&gt; 15:     ISE   Male Latine    10    19  52.6</span></span>
<span><span class="co">#&gt; 16:     ISE   Male  White    98   198  49.5</span></span>
<span><span class="co">#&gt; 17:      ME Female  White    60   178  33.7</span></span>
<span><span class="co">#&gt; 18:      ME   Male  Asian    36    78  46.2</span></span>
<span><span class="co">#&gt; 19:      ME   Male  Black    33   132  25.0</span></span>
<span><span class="co">#&gt; 20:      ME   Male Latine    13    44  29.5</span></span>
<span><span class="co">#&gt; 21:      ME   Male  White   583  1195  48.8</span></span>
<span><span class="co">#&gt;     program    sex   race  grad start  rate</span></span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program       people  grad start  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt;       &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE White Female    94   204  46.1</span></span>
<span><span class="co">#&gt;  2:      CE   Asian Male    11    21  52.4</span></span>
<span><span class="co">#&gt;  3:      CE   Black Male    17    55  30.9</span></span>
<span><span class="co">#&gt;  4:      CE   White Male   333   666  50.0</span></span>
<span><span class="co">#&gt;  5:      EE Black Female    41   109  37.6</span></span>
<span><span class="co">#&gt;  6:      EE White Female    33   117  28.2</span></span>
<span><span class="co">#&gt;  7:      EE   Asian Male    49   128  38.3</span></span>
<span><span class="co">#&gt;  8:      EE   Black Male    72   204  35.3</span></span>
<span><span class="co">#&gt;  9:      EE  Latine Male    19    48  39.6</span></span>
<span><span class="co">#&gt; 10:      EE   White Male   345   879  39.2</span></span>
<span><span class="co">#&gt; 11:     ISE Black Female    14    42  33.3</span></span>
<span><span class="co">#&gt; 12:     ISE White Female    48    96  50.0</span></span>
<span><span class="co">#&gt; 13:     ISE   Asian Male    12    27  44.4</span></span>
<span><span class="co">#&gt; 14:     ISE   Black Male    19    53  35.8</span></span>
<span><span class="co">#&gt; 15:     ISE  Latine Male    10    19  52.6</span></span>
<span><span class="co">#&gt; 16:     ISE   White Male    98   198  49.5</span></span>
<span><span class="co">#&gt; 17:      ME White Female    60   178  33.7</span></span>
<span><span class="co">#&gt; 18:      ME   Asian Male    36    78  46.2</span></span>
<span><span class="co">#&gt; 19:      ME   Black Male    33   132  25.0</span></span>
<span><span class="co">#&gt; 20:      ME  Latine Male    13    44  29.5</span></span>
<span><span class="co">#&gt; 21:      ME   White Male   583  1195  48.8</span></span>
<span><span class="co">#&gt;     program       people  grad start  rate</span></span></code></pre>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"CE"</span>, <span class="st">"Civil"</span>,</span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"EE"</span>, <span class="st">"Electrical"</span>,</span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"ME"</span>, <span class="st">"Mechanical"</span>,</span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"ISE"</span>, <span class="st">"Industrial/Systems"</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                program       people  grad start  rate</span></span>
<span><span class="co">#&gt;                 &lt;char&gt;       &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:              Civil White Female    94   204  46.1</span></span>
<span><span class="co">#&gt;  2:              Civil   Asian Male    11    21  52.4</span></span>
<span><span class="co">#&gt;  3:              Civil   Black Male    17    55  30.9</span></span>
<span><span class="co">#&gt;  4:              Civil   White Male   333   666  50.0</span></span>
<span><span class="co">#&gt;  5:         Electrical Black Female    41   109  37.6</span></span>
<span><span class="co">#&gt;  6:         Electrical White Female    33   117  28.2</span></span>
<span><span class="co">#&gt;  7:         Electrical   Asian Male    49   128  38.3</span></span>
<span><span class="co">#&gt;  8:         Electrical   Black Male    72   204  35.3</span></span>
<span><span class="co">#&gt;  9:         Electrical  Latine Male    19    48  39.6</span></span>
<span><span class="co">#&gt; 10:         Electrical   White Male   345   879  39.2</span></span>
<span><span class="co">#&gt; 11: Industrial/Systems Black Female    14    42  33.3</span></span>
<span><span class="co">#&gt; 12: Industrial/Systems White Female    48    96  50.0</span></span>
<span><span class="co">#&gt; 13: Industrial/Systems   Asian Male    12    27  44.4</span></span>
<span><span class="co">#&gt; 14: Industrial/Systems   Black Male    19    53  35.8</span></span>
<span><span class="co">#&gt; 15: Industrial/Systems  Latine Male    10    19  52.6</span></span>
<span><span class="co">#&gt; 16: Industrial/Systems   White Male    98   198  49.5</span></span>
<span><span class="co">#&gt; 17:         Mechanical White Female    60   178  33.7</span></span>
<span><span class="co">#&gt; 18:         Mechanical   Asian Male    36    78  46.2</span></span>
<span><span class="co">#&gt; 19:         Mechanical   Black Male    33   132  25.0</span></span>
<span><span class="co">#&gt; 20:         Mechanical  Latine Male    13    44  29.5</span></span>
<span><span class="co">#&gt; 21:         Mechanical   White Male   583  1195  48.8</span></span>
<span><span class="co">#&gt;                program       people  grad start  rate</span></span></code></pre>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert categorical variables to factors</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/order_multiway.html">order_multiway</a></span><span class="op">(</span><span class="va">DT</span>,</span>
<span>  quantity <span class="op">=</span> <span class="st">"rate"</span>,</span>
<span>  categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>  ratio_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grad"</span>, <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                program       people  grad start  rate program_rate people_rate</span></span>
<span><span class="co">#&gt;                 &lt;fctr&gt;       &lt;fctr&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;        &lt;num&gt;       &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:              Civil White Female    94   204  46.1         48.1        39.5</span></span>
<span><span class="co">#&gt;  2:              Civil   Asian Male    11    21  52.4         48.1        42.5</span></span>
<span><span class="co">#&gt;  3:              Civil   Black Male    17    55  30.9         48.1        31.8</span></span>
<span><span class="co">#&gt;  4:              Civil   White Male   333   666  50.0         48.1        46.3</span></span>
<span><span class="co">#&gt;  5:         Electrical Black Female    41   109  37.6         37.6        36.4</span></span>
<span><span class="co">#&gt;  6:         Electrical White Female    33   117  28.2         37.6        39.5</span></span>
<span><span class="co">#&gt;  7:         Electrical   Asian Male    49   128  38.3         37.6        42.5</span></span>
<span><span class="co">#&gt;  8:         Electrical   Black Male    72   204  35.3         37.6        31.8</span></span>
<span><span class="co">#&gt;  9:         Electrical  Latine Male    19    48  39.6         37.6        37.8</span></span>
<span><span class="co">#&gt; 10:         Electrical   White Male   345   879  39.2         37.6        46.3</span></span>
<span><span class="co">#&gt; 11: Industrial/Systems Black Female    14    42  33.3         46.2        36.4</span></span>
<span><span class="co">#&gt; 12: Industrial/Systems White Female    48    96  50.0         46.2        39.5</span></span>
<span><span class="co">#&gt; 13: Industrial/Systems   Asian Male    12    27  44.4         46.2        42.5</span></span>
<span><span class="co">#&gt; 14: Industrial/Systems   Black Male    19    53  35.8         46.2        31.8</span></span>
<span><span class="co">#&gt; 15: Industrial/Systems  Latine Male    10    19  52.6         46.2        37.8</span></span>
<span><span class="co">#&gt; 16: Industrial/Systems   White Male    98   198  49.5         46.2        46.3</span></span>
<span><span class="co">#&gt; 17:         Mechanical White Female    60   178  33.7         44.6        39.5</span></span>
<span><span class="co">#&gt; 18:         Mechanical   Asian Male    36    78  46.2         44.6        42.5</span></span>
<span><span class="co">#&gt; 19:         Mechanical   Black Male    33   132  25.0         44.6        31.8</span></span>
<span><span class="co">#&gt; 20:         Mechanical  Latine Male    13    44  29.5         44.6        37.8</span></span>
<span><span class="co">#&gt; 21:         Mechanical   White Male   583  1195  48.8         44.6        46.3</span></span>
<span><span class="co">#&gt;                program       people  grad start  rate program_rate people_rate</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="chart">Chart<a class="anchor" aria-label="anchor" href="#chart"></a>
</h2>
<p>Vertical dashed line is the graduation rate for the program as a
whole.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">rate</span>, y <span class="op">=</span> <span class="va">people</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">program_rate</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Graduation rate (%)"</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span> </span></code></pre></div>
<p><img src="../reference/figures/art-080-graduation-rate-grad-rate-people-1.png" width="70%" style="display: block; margin: auto;"></p>
<p><strong>Reminder.</strong> These are practice data, not research
data—suitable for learning about student-record analysis, but not for
drawing inferences about program attributes or student experiences.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Cook+Hartle:2011" class="csl-entry">
Cook, B., &amp; Hartle, T. W. (2011). <span class="nocase">Why
graduation rates matter—and why they don’t</span>. <em>The Presidency
Magazine</em>, <em>Spring/Summer 2011</em>.
</div>
<div id="ref-IPEDS:2020" class="csl-entry">
NCES-IPEDS. (2020). <em><span>IPEDS Survey Methodology</span></em>.
<span>National Center for Education Statistics</span>; [Online; accessed
2020-07-29]. <a href="https://nces.ed.gov/ipeds/ReportYourData/IpedsSurveyMethodology" class="external-link">https://nces.ed.gov/ipeds/ReportYourData/IpedsSurveyMethodology</a>
</div>
</div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<div class="section level3">
<h3 id="complete-script">Complete script<a class="anchor" aria-label="anchor" href="#complete-script"></a>
</h3>
<p>The vignette code chunks are collected below in a single, condensed
script.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Script</span></span></code></pre></div>
<style type="text/css">
blockquote {
    padding: 10px 20px;
    margin: 0 0 20px;
    border-left: 0px
}
</style>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
