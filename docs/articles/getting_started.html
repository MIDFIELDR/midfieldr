<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • midfieldr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting_started.html">Getting started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cip_filter.html">Identifying programs by CIP codes</a>
    </li>
    <li>
      <a href="../articles/selecting_programs.html">Selecting groups of programs</a>
    </li>
    <li>
      <a href="../articles/imputing_fye.html">Imputing starting majors for FYE students</a>
    </li>
    <li>
      <a href="../articles/grad_rate.html">Computing graduation rate</a>
    </li>
    <li>
      <a href="../articles/stickiness.html">Computing stickiness</a>
    </li>
    <li>
      <a href="../articles/multiway.html">Multiway data, graphs, and tables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers/Talks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/pages/talks.html">Talks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/pages/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/getting_started.Rmd"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="hidden name"><code>getting_started.Rmd</code></div>

    </div>

    
    
<p>To introduce using the package, we present a brief but thorough example that starts with student unit-record data and concludes with a graphical comparison of program “stickiness” with students grouped by program, race, and sex.</p>
<p>Stickiness is the ratio of the number of students graduating from a program to the number ever enrolled in the program <span class="citation">(Ohland et al. 2012)</span>. We compare the stickiness of three programs: Chemical Engineering, Electrical Engineering, and Industrial Engineering.</p>
<div id="really-getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#really-getting-started" class="anchor"></a>Really getting started</h2>
<p>To install R and RStudio, try these links for help,</p>
<ul>
<li>
<a href="https://github.com/DSR-RHIT/install-R-and-RStudio">Installing R and RStudio</a>, Richard Layton, Rose-Hulman Institute of Technology<br>
</li>
<li>
<a href="http://stat545.com/topics.html">All the R things</a>, Jenny Bryan, RStudio and University of British Columbia<br>
</li>
<li>
<a href="http://kbroman.org/pages/tutorials.html">R tutorials</a>, Karl Broman, University of Wisconsin Madison</li>
</ul>
<p>To install midfielddata and midfieldr,</p>
<ul>
<li>See our <a href="index.html">installation instructions</a>
</li>
</ul>
<p>We recommend you always work within an R Project,</p>
<ul>
<li>
<a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">RStudio Project</a>.</li>
</ul>
<p>With all that overhead out of the way, you are ready to install the following packages</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(dplyr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">install.packages</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">install.packages</span>(seplyr)</a></code></pre></div>
</div>
<div id="select-programs-to-study" class="section level2">
<h2 class="hasAnchor">
<a href="#select-programs-to-study" class="anchor"></a>Select programs to study</h2>
<p>Within your R project, open a new R script and load the packages using</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">library</span>(midfieldr)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">library</span>(seplyr)</a></code></pre></div>
<p>We use <code><a href="../reference/cip_filter.html">cip_filter()</a></code> to search the <code>cip</code> dataset first for “Engineering” and then filter the result for “Chemical”, “Electrical”, and “Industrial”.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="dt">series =</span> <span class="st">"Engineering"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    <span class="dt">series =</span> <span class="kw">c</span>(<span class="st">"Chemical"</span>, <span class="st">"Electrical"</span>, <span class="st">"Industrial"</span>),</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    <span class="dt">reference =</span> .</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; # A tibble: 24 x 6</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;    cip2  cip2name     cip4  cip4name           cip6  cip6name             </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt;                </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  1 14    Engineering  1407  Chemical Engineer~ 1407~ Chemical Engineering </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  2 14    Engineering  1407  Chemical Engineer~ 1407~ Chemical and Biomole~</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  3 14    Engineering  1407  Chemical Engineer~ 1407~ Chemical Engineering~</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  4 14    Engineering  1410  Electrical, Elect~ 1410~ Electrical, Electron~</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  5 14    Engineering  1410  Electrical, Elect~ 1410~ Laser and Optical En~</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  6 14    Engineering  1410  Electrical, Elect~ 1410~ Telecommunications E~</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt;  7 14    Engineering  1410  Electrical, Elect~ 1410~ Electrical, Electron~</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt;  8 14    Engineering  1435  Industrial Engine~ 1435~ Industrial Engineeri~</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt;  9 15    Engineering~ 1503  Electrical Engine~ 1503~ Electrical, Electron~</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; 10 15    Engineering~ 1503  Electrical Engine~ 1503~ Laser and Optical Te~</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; # ... with 14 more rows</span></a></code></pre></div>
<p>The results show that the codes we want are 1407 Chemical Engineering, 1410 Electrical Engineering, and 1435 Industrial Engineering.</p>
<p>We extract the series for each major and assign our own program label using <code><a href="../reference/cip_label.html">cip_label()</a></code>. We can assign the default code name, e.g., using “cip4name” or we can assign our own label. Here for example, I’ve used “Electrical Engineering” instead of the longer, default 4-digit code name “Electrical/Electronics and Communications Engineering.”</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">set1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="dt">series =</span> <span class="st">"^1407"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/cip_label.html">cip_label</a></span>(<span class="dt">program =</span> <span class="st">"cip4name"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">set2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="dt">series =</span> <span class="st">"^1410"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/cip_label.html">cip_label</a></span>(<span class="dt">program =</span> <span class="st">"Electrical Engineering"</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">set3 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="dt">series =</span> <span class="st">"^1435"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="../reference/cip_label.html">cip_label</a></span>(<span class="dt">program =</span> <span class="st">"cip4name"</span>)</a></code></pre></div>
<p>Combine the data frames.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">program_group &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(set1, set2, set3) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; # A tibble: 8 x 7</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;   cip2  cip2name  cip4  cip4name         cip6   cip6name         program  </span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; 1 14    Engineer~ 1407  Chemical Engine~ 140701 Chemical Engine~ Chemical~</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; 2 14    Engineer~ 1407  Chemical Engine~ 140702 Chemical and Bi~ Chemical~</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; 3 14    Engineer~ 1407  Chemical Engine~ 140799 Chemical Engine~ Chemical~</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; 4 14    Engineer~ 1410  Electrical, Ele~ 141001 Electrical, Ele~ Electric~</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; 5 14    Engineer~ 1410  Electrical, Ele~ 141003 Laser and Optic~ Electric~</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; 6 14    Engineer~ 1410  Electrical, Ele~ 141004 Telecommunicati~ Electric~</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt; 7 14    Engineer~ 1410  Electrical, Ele~ 141099 Electrical, Ele~ Electric~</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt; 8 14    Engineer~ 1435  Industrial Engi~ 143501 Industrial Engi~ Industri~</span></a></code></pre></div>
</div>
<div id="count-the-students" class="section level2">
<h2 class="hasAnchor">
<a href="#count-the-students" class="anchor"></a>Count the students</h2>
<p>First we extract the 6-digit CIP codes from our program group to use as search terms.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">program_group_cip6 &lt;-<span class="st"> </span>program_group[[<span class="st">"cip6"</span>]]</a></code></pre></div>
<p>Use <code><a href="../reference/ever_filter.html">ever_filter()</a></code> to access the <code>midfieldterms</code> dataset and extract all students who ever enrolled in these programs. Use <code><a href="../reference/race_sex_join.html">race_sex_join()</a></code> to access the <code>midfieldstudents</code> dataset and append students’ race and sex to the data frame.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">students &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ever_filter.html">ever_filter</a></span>(<span class="dt">series =</span> program_group_cip6) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/race_sex_join.html">race_sex_join</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; # A tibble: 6,402 x 4</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt;    id          cip6   race          sex  </span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt;  1 MID25783178 140701 Black         Male </span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt;  2 MID25783178 143501 Black         Male </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;  3 MID25783197 140701 White         Male </span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt;  4 MID25783257 140701 White         Male </span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;  5 MID25783491 141001 White         Male </span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt;  6 MID25783606 141001 White         Male </span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt;  7 MID25783912 143501 White         Male </span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt;  8 MID25784118 141001 White         Male </span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt;  9 MID25784209 141001 International Male </span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; 10 MID25784234 143501 White         Male </span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt; # ... with 6,392 more rows</span></a></code></pre></div>
<p>Next we join our custom program names to the student data.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">students &lt;-<span class="st"> </span><span class="kw">left_join</span>(students, program_group, <span class="dt">by =</span> <span class="st">"cip6"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; # A tibble: 6,402 x 10</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt;    id     cip6  race  sex   cip2  cip2name cip4  cip4name cip6name program</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;  1 MID25~ 1407~ Black Male  14    Enginee~ 1407  Chemica~ Chemica~ Chemic~</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;  2 MID25~ 1435~ Black Male  14    Enginee~ 1435  Industr~ Industr~ Indust~</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt;  3 MID25~ 1407~ White Male  14    Enginee~ 1407  Chemica~ Chemica~ Chemic~</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt;  4 MID25~ 1407~ White Male  14    Enginee~ 1407  Chemica~ Chemica~ Chemic~</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;  5 MID25~ 1410~ White Male  14    Enginee~ 1410  Electri~ Electri~ Electr~</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt;  6 MID25~ 1410~ White Male  14    Enginee~ 1410  Electri~ Electri~ Electr~</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt;  7 MID25~ 1435~ White Male  14    Enginee~ 1435  Industr~ Industr~ Indust~</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt;  8 MID25~ 1410~ White Male  14    Enginee~ 1410  Electri~ Electri~ Electr~</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt;  9 MID25~ 1410~ Inte~ Male  14    Enginee~ 1410  Electri~ Electri~ Electr~</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt; 10 MID25~ 1435~ White Male  14    Enginee~ 1435  Industr~ Industr~ Indust~</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt; # ... with 6,392 more rows</span></a></code></pre></div>
<p>We create a vector of grouping variables and use the seplyr <code>group_summarize()</code> function to count the numbers of students ever enrolled in these programs. We define the new variable <code>ever</code> to denote the count.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">grouping_variables &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"program"</span>, <span class="st">"race"</span>, <span class="st">"sex"</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">ever_enrolled &lt;-<span class="st"> </span>students <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw">group_summarize</span>(grouping_variables, <span class="dt">ever =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt; # A tibble: 48 x 4</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt;    program              race            sex     ever</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt;    &lt;chr&gt;                &lt;chr&gt;           &lt;chr&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt;  1 Chemical Engineering Asian           Female    56</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt;  2 Chemical Engineering Asian           Male      98</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt;  3 Chemical Engineering Black           Female   147</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt;  4 Chemical Engineering Black           Male      98</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt;  5 Chemical Engineering Hispanic        Female    37</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;  6 Chemical Engineering Hispanic        Male      57</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt;  7 Chemical Engineering International   Female     8</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt;  8 Chemical Engineering International   Male      23</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt;  9 Chemical Engineering Native American Female     7</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt; 10 Chemical Engineering Native American Male       8</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt; # ... with 38 more rows</span></a></code></pre></div>
<p>Following similar steps, we use <code><a href="../reference/grad_filter.html">grad_filter()</a></code> to access the <code>midfielddegrees</code> dataset and extract all students who graduated from these programs. We group and summarize the counts using <code>grad</code> as the new count variable.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">graduated &lt;-<span class="st"> </span><span class="kw"><a href="../reference/grad_filter.html">grad_filter</a></span>(<span class="dt">series =</span> program_group_cip6) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/race_sex_join.html">race_sex_join</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">left_join</span>(program_group, <span class="dt">by =</span> <span class="st">"cip6"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">  </span><span class="kw">group_summarize</span>(grouping_variables, <span class="dt">grad =</span> <span class="kw">n</span>())</a></code></pre></div>
</div>
<div id="compute-the-metric" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-the-metric" class="anchor"></a>Compute the metric</h2>
<p>We join the two data frames by the grouping variables.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">stickiness &lt;-<span class="st"> </span><span class="kw">left_join</span>(ever_enrolled, graduated, <span class="dt">by =</span> grouping_variables)</a></code></pre></div>
<p>We suggest omitting observations with 5 or fewer students ever enrolled.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">stickiness &lt;-<span class="st"> </span>stickiness <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(ever <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)</a></code></pre></div>
<p>And we compute stickiness, the ratio of <code>grad</code> to <code>ever</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">stickiness &lt;-<span class="st"> </span>stickiness <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">stick =</span> <span class="kw">round</span>(grad <span class="op">/</span><span class="st"> </span>ever, <span class="dv">3</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt; # A tibble: 41 x 6</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt;    program              race            sex     ever  grad stick</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt;                &lt;chr&gt;           &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;  1 Chemical Engineering Asian           Female    56    26 0.464</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  2 Chemical Engineering Asian           Male      98    35 0.357</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  3 Chemical Engineering Black           Female   147    52 0.354</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  4 Chemical Engineering Black           Male      98    26 0.265</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  5 Chemical Engineering Hispanic        Female    37    11 0.297</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;  6 Chemical Engineering Hispanic        Male      57    18 0.316</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;  7 Chemical Engineering International   Female     8     4 0.5  </span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt;  8 Chemical Engineering International   Male      23     7 0.304</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt;  9 Chemical Engineering Native American Female     7     1 0.143</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; 10 Chemical Engineering Native American Male       8     3 0.375</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; # ... with 31 more rows</span></a></code></pre></div>
</div>
<div id="graph-the-results" class="section level2">
<h2 class="hasAnchor">
<a href="#graph-the-results" class="anchor"></a>Graph the results</h2>
<p>To prepare the stickiness data for graphing, we remove ambiguous race levels (Unknown, International, or Other) and then combine race and sex into a single variable.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">stickiness_mw &lt;-<span class="st"> </span>stickiness <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>race <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"Unknown"</span>, <span class="st">"International"</span>, <span class="st">"Other"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>sex <span class="op">%in%</span><span class="st"> "Unknown"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">race_sex =</span> <span class="kw">paste</span>(race, sex))</a></code></pre></div>
<p>We graph these results in a <em>multiway dot plot</em> <span class="citation">(Cleveland 1993)</span>, a display type based on a data structure of two categorical variables (program and race/ethnicity/sex) and one quantitative variable (stickiness).</p>
<p><code><a href="../reference/multiway_order.html">multiway_order()</a></code> converts the two categorical variables to factors and orders their levels by median stickiness.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">stickiness_mw &lt;-<span class="st"> </span>stickiness_mw <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(program, race_sex, stick) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/multiway_order.html">multiway_order</a></span>(<span class="dt">return_medians =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="st">  </span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; # A tibble: 27 x 5</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt;    program             race_sex             stick med_program med_race_sex</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt;    &lt;fct&gt;               &lt;fct&gt;                &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt;  1 Chemical Engineeri~ Asian Female         0.464       0.356        0.449</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt;  2 Chemical Engineeri~ Asian Male           0.357       0.356        0.474</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;  3 Chemical Engineeri~ Black Female         0.354       0.356        0.4  </span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt;  4 Chemical Engineeri~ Black Male           0.265       0.356        0.331</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt;  5 Chemical Engineeri~ Hispanic Female      0.297       0.356        0.297</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt;  6 Chemical Engineeri~ Hispanic Male        0.316       0.356        0.36 </span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt;  7 Chemical Engineeri~ Native American Fem~ 0.143       0.356        0.143</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt;  8 Chemical Engineeri~ Native American Male 0.375       0.356        0.229</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;  9 Chemical Engineeri~ White Female         0.368       0.356        0.368</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; 10 Chemical Engineeri~ White Male           0.395       0.356        0.427</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; # ... with 17 more rows</span></a></code></pre></div>
<p>We use conventional ggplot2 functions to graph stickiness in a multiway dot plot. We also apply our own <code><a href="../reference/utils_graph.html">theme_midfield()</a></code> to edit the visual properties of the graph.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">ggplot</span>(stickiness_mw, <span class="kw">aes</span>(<span class="dt">x =</span> stick, <span class="dt">y =</span> race_sex)) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>program, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">as.table =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Stickiness"</span>, <span class="dt">y =</span> <span class="st">""</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/utils_graph.html">theme_midfield</a></span>()</a></code></pre></div>
<p><img src="../man/figures/getting-started-fig1-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>The ordering of the rows and panels of the multiway plot tell us that for these three engineering majors, Industrial Engineering has the greatest stickiness and Electrical the least; that Asian men have the greatest stickiness and Native American Women the least. The visual anomalies are White women in Electrical with lower stickiness than expected by the ranking overall and Asian men in Chemical, also lower than expected.</p>
<p>Results will vary depending on the programs one compares. Variations can also be expected if one uses the whole population data available to MIDFIELD member institutions.</p>
</div>
<div id="next-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#next-steps" class="anchor"></a>Next steps</h2>
<p>The individual <a href="https://midfieldr.github.io/midfieldr/articles/index.html">vignettes</a> provide a more thorough illustration of each function.</p>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-cleveland1993">
<p>Cleveland, William S. 1993. <em>Visualizing Data</em>. Summit, NJ: Hobart Press.</p>
</div>
<div id="ref-stickiness2012">
<p>Ohland, Matthew, Marisa Orr, Richard Layton, Susan Lord, and Russell Long. 2012. “Introducing Stickiness as a Versatile Metric of Engineering Persistence.” In <em>Proceedings of the Frontiers in Education Conference</em>, 1–5.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#really-getting-started">Really getting started</a></li>
      <li><a href="#select-programs-to-study">Select programs to study</a></li>
      <li><a href="#count-the-students">Count the students</a></li>
      <li><a href="#compute-the-metric">Compute the metric</a></li>
      <li><a href="#graph-the-results">Graph the results</a></li>
      <li><a href="#next-steps">Next steps</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
