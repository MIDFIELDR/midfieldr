<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>FYE proxies • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Courier_Prime-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="FYE proxies">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1.9002</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Planning</h6>
    <a class="dropdown-item" href="../articles/art-010-planning.html">Records, programs, blocs, metrics</a>
    <h6 class="dropdown-header" data-toc-skip>Initial processing</h6>
    <a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-030-degree-seeking.html">Degree seeking</a>
    <a class="dropdown-item" href="../articles/art-040-programs.html">Programs</a>
    <h6 class="dropdown-header" data-toc-skip>Blocs</h6>
    <a class="dropdown-item" href="../articles/art-050-blocs.html">Ever enrolled</a>
    <a class="dropdown-item" href="../articles/art-060-fye-proxies.html">FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-070-starters.html">Starters</a>
    <a class="dropdown-item" href="../articles/art-080-graduates.html">Graduates</a>
    <h6 class="dropdown-header" data-toc-skip>Groupings</h6>
    <a class="dropdown-item" href="../articles/art-090-groupings.html">Program labels and demographics</a>
    <h6 class="dropdown-header" data-toc-skip>Metrics</h6>
    <a class="dropdown-item" href="../articles/art-100-grad-rate.html">Graduation rate</a>
    <a class="dropdown-item" href="../articles/art-110-stickiness.html">Stickiness</a>
    <h6 class="dropdown-header" data-toc-skip>Displays</h6>
    <a class="dropdown-item" href="../articles/art-120-multiway.html">Multiway data and charts</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="art-060-fye-proxies_files/kePrint-0.0.1/kePrint.js"></script><link href="art-060-fye-proxies_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>FYE proxies</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-060-fye-proxies.Rmd" class="external-link"><code>vignettes/art-060-fye-proxies.Rmd</code></a></small>
      <div class="d-none name"><code>art-060-fye-proxies.Rmd</code></div>
    </div>

    
    
<p>Before we can treat “starters”, we have to introduce “FYE
proxies”—estimates of the degree-granting engineering programs
First-Year Engineering (FYE) students would have declared had they not
been required to enroll in FYE.</p>
<p>Users of midfielddata practice data are not required to reproduce
this vignette—the results are included with midfieldr in the
<code>fye_proxy</code> data set.</p>
<p>This vignette in the MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li>Planning<br>
</li>
<li>Initial processing<br>
</li>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">Blocs</span>
<ul>
<li>Ever-enrolled<br>
</li>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">FYE
proxies</span><br>
</li>
<li>Starters<br>
</li>
<li>Graduates<br>
</li>
</ul>
</li>
<li>Groupings<br>
</li>
<li>Metrics<br>
</li>
<li>Displays</li>
</ol>
<div class="section level2">
<h2 id="potential-for-starter-miscounts">Potential for starter miscounts<a class="anchor" aria-label="anchor" href="#potential-for-starter-miscounts"></a>
</h2>
<p>At some US institutions, engineering students are required to
complete a First-Year Engineering (FYE) program as a prerequisite for
declaring an engineering major. Administratively, degree-granting
engineering programs such as Electrical Engineering or Mechanical
Engineering treat their incoming post-FYE students as their “starting”
cohorts. However, when computing a metric such as graduation rate that
requires a count of starters, FYE records must be treated with special
care to avoid a miscount.</p>
<p>To illustrate the potential for miscounting starters, suppose we wish
to calculate a Mechanical Engineering (ME) graduation rate. Students
starting in ME constitute the starting pool and the fraction of that
pool graduating in ME is the graduation rate.</p>
<p>At FYE institutions, an ME program would typically define their
starting pool as the post-FYE cohort entering their program. This may be
the best information available, but it invariably undercounts starters
by failing to account for FYE students who leave the institution or
switch to non-engineering majors. In the absence of the FYE requirement
some of these students would have been ME starters. By neglecting these
students, the count of ME starters is artificially low resulting in an
ME graduation rate that is artificially high. The same is true for every
degree-granting engineering major in an FYE institution.</p>
<p>Because of the special nature of FYE programs, we cannot address
starter miscounts by grouping FYE students with those admitted with
“undecided” or “unknown” CIP codes—FYE students are neither. They were
admitted as Engineering majors (2-digit CIP 14). We simply don’t know to
which degree-granting program (6-digit CIP) they intended to
transition.</p>
<p>Therefore, to avoid miscounting starters at FYE institutions, we
estimate the 6-digit CIP codes of the degree-granting engineering
programs that FYE students would have declared had they not been
required to enroll in FYE.</p>
</div>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>FYE</dt>
<dd>
<p>First-Year Engineering program, a common-first-year curriculum that
is a prerequisite for declaring an engineering major at some US
institutions. Denoted by its own CIP code, FYE is not a degree-granting
program.</p>
</dd>
<dt>FYE proxy</dt>
<dd>
<p>Our estimate of the degree-granting engineering program in which an
FYE student would have enrolled had they not been required to enroll in
FYE. The proxy, a 6-digit CIP code, denotes the program of which the FYE
student can be considered a starter.</p>
</dd>
<dt>bloc</dt>
<dd>
<p>A grouping of student-level data dealt with as a unit, for example,
starters, students ever-enrolled, graduates, transfer students,
traditional and non-traditional students, migrators, etc.</p>
</dd>
<dt>starters</dt>
<dd>
<p>Bloc of degree-seeking students in their initial terms enrolled in
degree-granting programs.</p>
</dd>
<dt>migrators</dt>
<dd>
<p>Bloc of students who leave one program to enroll in another. Also
called <em>switchers.</em></p>
</dd>
<dt>multiple imputation</dt>
<dd>
<p>Method of imputing missing categorical data, in this case, imputing
the FYE proxy 6-digit CIP codes.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<p>We apply <code><a href="../reference/prep_fye_mice.html">prep_fye_mice()</a></code> to the <code>student</code> and
<code>term</code> source files to construct a data frame suitable for
imputation using the mice R package. The procedure has four steps:</p>
<ol style="list-style-type: decimal">
<li><p>Use <code><a href="../reference/prep_fye_mice.html">prep_fye_mice()</a></code> from the midfieldr package to
estimate some of the FYE proxy CIPs, treat the remainder as missing
values, and structure the data frame for imputation.</p></li>
<li><p>Optional. If the default predictor variables (institution,
race/ethnicity, and sex) do not meet the needs of your study, you can
define your own.</p></li>
<li><p>Use <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code> from the mice package to impute the
6-digit CIP missing values.</p></li>
<li><p>Post-processing to convert the results to useful form and to
remove migrators.</p></li>
</ol>
<p>Three outcomes are possible, depending on your goals and available
data:</p>
<ul>
<li><p>Use midfielddata practice data to recreate the
<code>fye_proxy</code> data set included with midfieldr—as we do in this
vignette.</p></li>
<li><p>Use midfielddata practice data to create an alternate set of FYE
proxies based on a different random number seed or different predictor
variables. The result would have the same IDs as <code>fye_proxy</code>
but different ID-proxy pairings.</p></li>
<li><p>Use MIDFIELD research data and construct your own FYE
proxies.</p></li>
</ul>
<p>For a given set of source files, FYE proxies need be created only
once and written to file. The result can be used as needed unless the
source files change.</p>
<p><em>Reminder.</em>   midfielddata datasets are for practice, not
research.</p>
</div>
<div class="section level2">
<h2 id="load-data">Load data<a class="anchor" aria-label="anchor" href="#load-data"></a>
</h2>
<p><em>Start.</em>   If you are writing your own script to follow along,
we use these packages in this article:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://midfieldr.github.io/midfieldr/">"midfieldr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://midfieldr.github.io/midfielddata/" class="external-link">"midfielddata"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/amices/mice" class="external-link">"mice"</a></span><span class="op">)</span></span></code></pre></div>
<p><em>Load.</em>   Practice datasets. View data dictionaries via
<code><a href="https://midfieldr.github.io/midfielddata/reference/student.html" class="external-link">?student</a></code>, <code><a href="https://midfieldr.github.io/midfielddata/reference/term.html" class="external-link">?term</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load practice data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span><span class="op">)</span></span></code></pre></div>
<p><em>Loads with midfieldr.</em>   Prepared data, derived in <a href="art-040-programs.html#reusable-code">Programs</a>. View data
dictionary via <code><a href="../reference/study_programs.html">?study_programs</a></code>.</p>
<ul>
<li><code>study_programs</code></li>
</ul>
</div>
<div class="section level2">
<h2 id="initial-processing">Initial processing<a class="anchor" aria-label="anchor" href="#initial-processing"></a>
</h2>
<p>Unlike the initial processing in previous articles, we do not filter
for data sufficiency and degree seeking.</p>
<p><em>Select (optional).</em>   Reduce the number of columns. Code
reproduced from <a href="art-000-getting-started.html#reusable-code">Getting
started</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Optional. Copy of source files with all variables</span></span>
<span><span class="va">source_student</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">student</span><span class="op">)</span></span>
<span><span class="va">source_term</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Optional. Select variables required by midfieldr functions</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_student</span><span class="op">)</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_term</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="prep_fye_mice">
<code>prep_fye_mice()</code><a class="anchor" aria-label="anchor" href="#prep_fye_mice"></a>
</h2>
<p>The purpose of <code><a href="../reference/prep_fye_mice.html">prep_fye_mice()</a></code> is preparing a data frame
for the mice R package. Operates on the complete, unfiltered
<code>student</code> and <code>term</code> source data to create a data
frame with three predictor variables and an FYE proxy variable. The
values in <code>proxy</code> are determined by a student’s first
post-FYE program code, as follows:</p>
<ol style="list-style-type: decimal">
<li><p><em>Post-FYE in Engineering.</em>   The student completes FYE and
enrolls in an engineering major. For this outcome, we know that at the
student’s first opportunity, they enrolled in an engineering major of
their choosing. The CIP code of that program is returned as the
student’s FYE proxy.</p></li>
<li><p><em>Post-FYE not in Engineering.</em>   The student migrates to a
non-engineering major or has no post-FYE records in the database. The
data provide no indication of the student’s preferred degree-granting
engineering major. Thus their FYE proxy value is returned as NA, to be
treated as missing data to be imputed.</p></li>
</ol>
<p><em>Arguments.</em></p>
<ul>
<li><p><strong><code>midfield_student</code></strong>   Data frame of
student observations, keyed by student ID. Default is
<code>student</code>. Required variables are <code>mcid</code>,
<code>race</code>, and <code>sex</code>. Use all rows of your source
<code>student</code> data table.</p></li>
<li><p><strong><code>midfield_term</code></strong>   Data frame of term
observations keyed by student ID. Default is <code>term</code>. Required
variables are <code>mcid</code>, <code>institution</code>,
<code>term</code>, and <code>cip6</code>. Use all rows of your source
<code>term</code> data table.</p></li>
<li><p><strong><code>fye_codes</code></strong>   Optional character
vector of 6-digit CIP codes assigned to FYE programs. Default is
“140102”. Argument to be used by name.</p></li>
</ul>
<p><em>Implicit arguments.</em>   The following implementations yield
identical results.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Required arguments in order and explicitly named</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_fye_mice.html">prep_fye_mice</a></span><span class="op">(</span>midfield_student <span class="op">=</span> <span class="va">student</span>, midfield_term <span class="op">=</span> <span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Required arguments in order, but not named</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_fye_mice.html">prep_fye_mice</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Using the implicit defaults</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_fye_mice.html">prep_fye_mice</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p><em>Output.</em>   The function returns one row per FYE student keyed
by student ID. All variables except ID are returned as factors to meet
the requirements of <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_fye_mice.html">prep_fye_mice</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid   race    sex   institution  proxy</span></span>
<span><span class="co">#&gt;               &lt;char&gt; &lt;fctr&gt; &lt;fctr&gt;        &lt;fctr&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt;    1: MCID3111190643  Asian Female Institution J   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    2: MCID3111190747  Asian Female Institution J   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    3: MCID3111288144  Asian Female Institution J   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   ---                                                  </span></span>
<span><span class="co">#&gt; 5787: MCID3112328635  White   Male Institution J 143501</span></span>
<span><span class="co">#&gt; 5788: MCID3112328655  White   Male Institution J 143501</span></span>
<span><span class="co">#&gt; 5789: MCID3112382784  White   Male Institution J 143501</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="missing-data">Missing data<a class="anchor" aria-label="anchor" href="#missing-data"></a>
</h2>
<p>The output of <code>prep_fye_mive()</code> should contain missing
values in the proxy column only. Other variables are complete. A
race/ethnicity or sex value of “unknown” is treated as an observed
value, not missing data. And while no values of ID or institution are
unknown or missing in this example, such observations (if they existed)
would have to be removed.</p>
<p>Checking that all variables except <code>proxy</code> are
complete.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of unique IDs</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">mcid</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Number of complete cases on four variables</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">race</span>, <span class="va">sex</span>, <span class="va">institution</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Number of missing observations in <code>proxy</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number NAs in proxy</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">proxy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2152</span></span>
<span></span>
<span><span class="co"># Percentage NAs in proxy</span></span>
<span><span class="fl">100</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">proxy</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 37.2</span></span></code></pre></div>
<p><em>Missing at random (MAR).</em>   These missing <code>proxy</code>
data are caused by a student’s decision to migrate to a non-engineering
major or to leave the database. At the time of making that decision, the
FYE student would not yet have enrolled in a degree-granting engineering
major, thus their decision is unlikely to be related to any specific
engineering major.</p>
<p>That a CIP is missing, therefore, is unlikely to be related to a
specific CIP value—but may be related to other observations such as
institution, race/ethnicity, or sex. Missing data of this type are
classified as “missing at random” (MAR) which are suitable for multiple
imputation and yield unbiased results <span class="citation">(<a href="#ref-GraceMartin:2012">Grace-Martin 2012</a>)</span>.</p>
<p><em>Multiple imputation.</em>   Lastly, while 5–10 imputations are
generally considered adequate for unbiasedness, Bodner <span class="citation">(<a href="#ref-Bodner:2008">2008</a>)</span> recommends
having as many imputations as the percentage of missing data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of proxies to be imputed</span></span>
<span><span class="op">(</span><span class="va">N_impute</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">proxy</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2152</span></span>
<span></span>
<span><span class="co"># Number of observations with complete predictor information</span></span>
<span><span class="op">(</span><span class="va">N_complete</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">race</span>, <span class="va">sex</span>, <span class="va">institution</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5789</span></span>
<span></span>
<span><span class="co"># Percent missing proxies</span></span>
<span><span class="op">(</span><span class="va">percent_missing</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="va">N_impute</span> <span class="op">/</span> <span class="va">N_complete</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 37.174</span></span></code></pre></div>
<p>As shown here, the overall percentage of missing data is 37.17%,
suggesting we set the number of imputations to 37.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For the "m" argument in mice()</span></span>
<span><span class="op">(</span><span class="va">m_imputations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">percent_missing</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 37</span></span></code></pre></div>
<p><em>Chart.</em>   The chart displays the percent missing data by
category. The <code>institution</code> category isn’t used because the
practice data contain FYE students in one institution only. The vertical
dashed line indicates the 37% percent missing data overall.</p>
<div class="figure">
<img src="../reference/figures/art-060-fig01-1.png" alt="Figure 1: Percent missing data by category." width="100%"><p class="caption">
Figure 1: Percent missing data by category.
</p>
</div>
</div>
<div class="section level2">
<h2 id="setting-up-mice">Setting up <code>mice()</code><a class="anchor" aria-label="anchor" href="#setting-up-mice"></a>
</h2>
<p>The mice package <span class="citation">(<a href="#ref-vanBuuren+Oudshoorn:2011">van Buuren and Groothuis-Oudshoorn
2011</a>)</span> implements multiple imputation by chained equations
(MICE). MICE is also known as “fully conditional specification” or
“sequential regression multiple imputation” and is suitable for
categorical variables such as ours <span class="citation">(<a href="#ref-azur2011">Azur et al. 2011</a>)</span>. Our computational
procedure follows the approach suggested by Dhana <span class="citation">(<a href="#ref-dhana2017">2017</a>)</span>.</p>
<div class="section level3">
<h3 id="standard-predictors">Standard predictors<a class="anchor" aria-label="anchor" href="#standard-predictors"></a>
</h3>
<p><em>Framework.</em>   Our first use of <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code> is to
examine the imputation framework by calling the function with zero
iterations on the <code>DT</code> data frame. <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code>
produces a “multiply-imputed data set”, an R object of class “mids”.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Imputation framework</span></span>
<span><span class="va">framework</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></span><span class="op">(</span><span class="va">DT</span>, maxit <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Number of logged events: 2</span></span>
<span><span class="va">framework</span></span>
<span><span class="co">#&gt; Class: mids</span></span>
<span><span class="co">#&gt; Number of multiple imputations:  5 </span></span>
<span><span class="co">#&gt; Imputation methods:</span></span>
<span><span class="co">#&gt;        mcid        race         sex institution       proxy </span></span>
<span><span class="co">#&gt;          ""          ""          ""          ""   "polyreg" </span></span>
<span><span class="co">#&gt; PredictorMatrix:</span></span>
<span><span class="co">#&gt;             mcid race sex institution proxy</span></span>
<span><span class="co">#&gt; mcid           0    1   1           0     1</span></span>
<span><span class="co">#&gt; race           0    0   1           0     1</span></span>
<span><span class="co">#&gt; sex            0    1   0           0     1</span></span>
<span><span class="co">#&gt; institution    0    1   1           0     1</span></span>
<span><span class="co">#&gt; proxy          0    1   1           0     0</span></span>
<span><span class="co">#&gt; Number of logged events:  2 </span></span>
<span><span class="co">#&gt;   it im dep     meth         out</span></span>
<span><span class="co">#&gt; 1  0  0     constant        mcid</span></span>
<span><span class="co">#&gt; 2  0  0     constant institution</span></span></code></pre></div>
<p><em>Logged events warning.</em>   The printout above includes a
warning about two “logged events”—an indication that two variables will
not be used as predictors. We can isolate the warning for a closer
look,</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Examine the warning</span></span>
<span><span class="va">framework</span><span class="op">$</span><span class="va">loggedEvents</span></span>
<span><span class="co">#&gt;   it im dep     meth         out</span></span>
<span><span class="co">#&gt; 1  0  0     constant        mcid</span></span>
<span><span class="co">#&gt; 2  0  0     constant institution</span></span></code></pre></div>
<p>The two variables are <code>mcid</code> and
<code>institution</code>.</p>
<ul>
<li><p><code>mcid</code> was never intended to be a predictor variable.
We retain the ID column so that imputed CIP values are assigned to
specific IDs.</p></li>
<li><p><code>institution</code> usually is a predictor. In this case,
however, the FYE students are all at the same institution—a
characteristic of the midfielddata practice data only.</p></li>
</ul>
<p><em>Imputation methods.</em>   We look more closely at two elements
of this framework. The first is the imputation method vector.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Imputation method</span></span>
<span><span class="va">method_vector</span> <span class="op">&lt;-</span> <span class="va">framework</span><span class="op">[[</span><span class="st">"method"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">method_vector</span></span>
<span><span class="co">#&gt;        mcid        race         sex institution       proxy </span></span>
<span><span class="co">#&gt;          ""          ""          ""          ""   "polyreg"</span></span></code></pre></div>
<p>The “polyreg” imputation method (polytomous logistic regression) is
appropriate for data, like ours, comprising unordered categorical
variables. Variable <code>proxy</code> is imputed using the polyreg
method; the other variables, being predictors, are not imputed, thus
their methods are empty.</p>
<p>Had the method not been correctly assigned, we would assign it as
follows,</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Manually assign the variable(s) being imputed</span></span>
<span><span class="va">method_vector</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"proxy"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"polyreg"</span></span>
<span></span>
<span><span class="co"># Manually assign the variable(s) not being imputed</span></span>
<span><span class="va">method_vector</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"institution"</span>, <span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">""</span></span>
<span><span class="va">method_vector</span></span>
<span><span class="co">#&gt;        mcid        race         sex institution       proxy </span></span>
<span><span class="co">#&gt;          ""          ""          ""          ""   "polyreg"</span></span></code></pre></div>
<p><em>Predictor matrix.</em>   The second element to review is the
predictor matrix. A row label identifies the variable being predicted;
the columns indicate the predictor variables.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Imputation predictor matrix</span></span>
<span><span class="va">predictor_matrix</span> <span class="op">&lt;-</span> <span class="va">framework</span><span class="op">[[</span><span class="st">"predictorMatrix"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">predictor_matrix</span></span>
<span><span class="co">#&gt;             mcid race sex institution proxy</span></span>
<span><span class="co">#&gt; mcid           0    1   1           0     1</span></span>
<span><span class="co">#&gt; race           0    0   1           0     1</span></span>
<span><span class="co">#&gt; sex            0    1   0           0     1</span></span>
<span><span class="co">#&gt; institution    0    1   1           0     1</span></span>
<span><span class="co">#&gt; proxy          0    1   1           0     0</span></span></code></pre></div>
<p>However, only those variables assigned a method are imputed. In our
case, the only variable to be imputed is <code>proxy</code>, so the only
row of this matrix that gets used is the last row.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Predictor row for this example</span></span>
<span><span class="va">predictor_matrix</span><span class="op">[</span><span class="st">"proxy"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;        mcid        race         sex institution       proxy </span></span>
<span><span class="co">#&gt;           0           1           1           0           0</span></span></code></pre></div>
<p>The zeros and ones tell us that <code>proxy</code> is going to be
predicted by race and sex. Again, the institution variable is not a
predictor because the practice data contain one FYE institution only.
(This would not be the case if one were using the MIDFIELD research
database.)</p>
<p>Had the default setting been incorrect, we can set them manually.
Again, note that the bottom row is the only row we need because only the
<code>proxy</code> variable is being imputed.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Manually assign zero columns</span></span>
<span><span class="va">predictor_matrix</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"proxy"</span>, <span class="st">"institution"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="co"># Manually assign predictor columns</span></span>
<span><span class="va">predictor_matrix</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">predictor_matrix</span></span>
<span><span class="co">#&gt;             mcid race sex institution proxy</span></span>
<span><span class="co">#&gt; mcid           0    0   0           0     0</span></span>
<span><span class="co">#&gt; race           0    0   0           0     0</span></span>
<span><span class="co">#&gt; sex            0    0   0           0     0</span></span>
<span><span class="co">#&gt; institution    0    0   0           0     0</span></span>
<span><span class="co">#&gt; proxy          0    1   1           0     0</span></span></code></pre></div>
<p>If the data included more than one FYE institution, the manual
assignment would be,</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Not run</span></span>
<span><span class="va">predictor_matrix</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"proxy"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">predictor_matrix</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span>, <span class="st">"institution"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="optional-predictors">Optional predictors<a class="anchor" aria-label="anchor" href="#optional-predictors"></a>
</h3>
<p>The default predictors set up by <code><a href="../reference/prep_fye_mice.html">prep_fye_mice()</a></code> are
institution (required), race/ethnicity, and sex. If these are
acceptable, you can skip to the next section, <a href="#imputing-missing-values">Imputing missing values</a>.</p>
<p>Predictors can be edited or added before invoking
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code>. As before, ensure that the only missing values are
in the proxy column. Other variables are expected to be complete (no NA
values). A value of “unknown” in a predictor column, e.g.,
race/ethnicity or sex, is an acceptable value, not missing data.
Observations with missing or unknown values in the ID or institution
columns should be removed.</p>
<p>For example, suppose we wish to replace race/ethnicity and sex with a
<code>people</code> variable that has four possible values
(<code>Domestic Female</code>, <code>Domestic Male</code>,
<code>International Female</code>, and <code>International Male</code>)
where “domestic” means a US citizen; and we want to add a variable that
encodes the <code>year</code> of a student’s first term in FYE.</p>
<p><em>Creating variables.</em>   Remove any unknown observations of
race/ethnicity and sex to create the desired <code>people</code>
variable.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data frame to illustrate optional predictors</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Factor to character</span></span>
<span><span class="va">cols_to_edit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span><span class="op">)</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="op">(</span><span class="va">cols_to_edit</span><span class="op">)</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="va">as.character</span><span class="op">)</span>, .SDcols <span class="op">=</span> <span class="va">cols_to_edit</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter unknown race and sex</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="va">opt_DT</span><span class="op">[</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"Unknown"</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="va">opt_DT</span><span class="op">[</span><span class="va">race</span> <span class="op">!=</span> <span class="st">"Other/Unknown"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create origin variable</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="va">origin</span> <span class="op">:=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">race</span> <span class="op">!=</span> <span class="st">"International"</span>, <span class="st">"Domestic"</span>,</span>
<span>  <span class="va">race</span> <span class="op">==</span> <span class="st">"International"</span>, <span class="st">"International"</span>,</span>
<span>  default <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="va">opt_DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">origin</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create people variable</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">origin</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">people</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race"</span>, <span class="st">"sex"</span>, <span class="st">"origin"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display result</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">opt_DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"people"</span>, <span class="st">"institution"</span>, <span class="st">"proxy"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">opt_DT</span></span>
<span><span class="co">#&gt;                 mcid          people   institution  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111190643 Domestic Female Institution J   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    2: MCID3111190747 Domestic Female Institution J   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    3: MCID3111288144 Domestic Female Institution J   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   ---                                                    </span></span>
<span><span class="co">#&gt; 5569: MCID3112328635   Domestic Male Institution J 143501</span></span>
<span><span class="co">#&gt; 5570: MCID3112328655   Domestic Male Institution J 143501</span></span>
<span><span class="co">#&gt; 5571: MCID3112382784   Domestic Male Institution J 143501</span></span></code></pre></div>
<p>Check the unique values.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display unique people</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">opt_DT</span><span class="op">$</span><span class="va">people</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Domestic Female      Domestic Male        International Female</span></span>
<span><span class="co">#&gt; [4] International Male  </span></span>
<span><span class="co">#&gt; 4 Levels: Domestic Female Domestic Male ... International Male</span></span></code></pre></div>
<p><em>Adding a variable.</em>   Obtain the student’s first term in the
data set from the <code>term</code> data table using a left-outer
join.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add all term variables by ID</span></span>
<span><span class="va">cols_to_join</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="va">cols_to_join</span><span class="op">[</span><span class="va">opt_DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter for first term</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">opt_DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="va">opt_DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create year variable</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="va">year</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">term</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="va">year</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span><span class="op">[</span>, <span class="va">term</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display result</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">opt_DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"people"</span>, <span class="st">"institution"</span>, <span class="st">"year"</span>, <span class="st">"proxy"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">opt_DT</span></span>
<span><span class="co">#&gt; Key: &lt;mcid&gt;</span></span>
<span><span class="co">#&gt;                 mcid             people   institution year  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111142290      Domestic Male Institution J 1988 141001</span></span>
<span><span class="co">#&gt;    2: MCID3111142294      Domestic Male Institution J 1988 141001</span></span>
<span><span class="co">#&gt;    3: MCID3111142961 International Male Institution J 1988 142101</span></span>
<span><span class="co">#&gt;   ---                                                            </span></span>
<span><span class="co">#&gt; 5569: MCID3112447659      Domestic Male Institution J 2009   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5570: MCID3112447663      Domestic Male Institution J 2009   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5571: MCID3112447664      Domestic Male Institution J 2009   &lt;NA&gt;</span></span></code></pre></div>
<p><em>Filtering.</em>   Ensure complete cases except in
<code>proxy</code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Identify complete cases in predictor variables</span></span>
<span><span class="va">rows_we_want</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">opt_DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">people</span>, <span class="va">institution</span>, <span class="va">year</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for complete predictors</span></span>
<span><span class="va">opt_DT</span> <span class="op">&lt;-</span> <span class="va">opt_DT</span><span class="op">[</span><span class="va">rows_we_want</span><span class="op">]</span></span>
<span><span class="va">opt_DT</span></span>
<span><span class="co">#&gt; Key: &lt;mcid&gt;</span></span>
<span><span class="co">#&gt;                 mcid             people   institution year  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111142290      Domestic Male Institution J 1988 141001</span></span>
<span><span class="co">#&gt;    2: MCID3111142294      Domestic Male Institution J 1988 141001</span></span>
<span><span class="co">#&gt;    3: MCID3111142961 International Male Institution J 1988 142101</span></span>
<span><span class="co">#&gt;   ---                                                            </span></span>
<span><span class="co">#&gt; 5569: MCID3112447659      Domestic Male Institution J 2009   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5570: MCID3112447663      Domestic Male Institution J 2009   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5571: MCID3112447664      Domestic Male Institution J 2009   &lt;NA&gt;</span></span></code></pre></div>
<p><em>Framework</em>   for optional predictors.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Imputation framework</span></span>
<span><span class="va">opt_framework</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></span><span class="op">(</span><span class="va">opt_DT</span>, maxit <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Number of logged events: 2</span></span>
<span><span class="va">opt_framework</span></span>
<span><span class="co">#&gt; Class: mids</span></span>
<span><span class="co">#&gt; Number of multiple imputations:  5 </span></span>
<span><span class="co">#&gt; Imputation methods:</span></span>
<span><span class="co">#&gt;        mcid      people institution        year       proxy </span></span>
<span><span class="co">#&gt;          ""          ""          ""          ""   "polyreg" </span></span>
<span><span class="co">#&gt; PredictorMatrix:</span></span>
<span><span class="co">#&gt;             mcid people institution year proxy</span></span>
<span><span class="co">#&gt; mcid           0      1           0    1     1</span></span>
<span><span class="co">#&gt; people         0      0           0    1     1</span></span>
<span><span class="co">#&gt; institution    0      1           0    1     1</span></span>
<span><span class="co">#&gt; year           0      1           0    0     1</span></span>
<span><span class="co">#&gt; proxy          0      1           0    1     0</span></span>
<span><span class="co">#&gt; Number of logged events:  2 </span></span>
<span><span class="co">#&gt;   it im dep     meth         out</span></span>
<span><span class="co">#&gt; 1  0  0     constant        mcid</span></span>
<span><span class="co">#&gt; 2  0  0     constant institution</span></span></code></pre></div>
<p><em>Imputation method</em>   for optional predictors.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Imputation framework</span></span>
<span><span class="va">opt_method_vector</span> <span class="op">&lt;-</span> <span class="va">opt_framework</span><span class="op">[[</span><span class="st">"method"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">opt_method_vector</span></span>
<span><span class="co">#&gt;        mcid      people institution        year       proxy </span></span>
<span><span class="co">#&gt;          ""          ""          ""          ""   "polyreg"</span></span></code></pre></div>
<p><em>Predictor matrix</em>   for optional predictors.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Imputation predictor matrix</span></span>
<span><span class="va">opt_predictor_matrix</span> <span class="op">&lt;-</span> <span class="va">opt_framework</span><span class="op">[[</span><span class="st">"predictorMatrix"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">opt_predictor_matrix</span></span>
<span><span class="co">#&gt;             mcid people institution year proxy</span></span>
<span><span class="co">#&gt; mcid           0      1           0    1     1</span></span>
<span><span class="co">#&gt; people         0      0           0    1     1</span></span>
<span><span class="co">#&gt; institution    0      1           0    1     1</span></span>
<span><span class="co">#&gt; year           0      1           0    0     1</span></span>
<span><span class="co">#&gt; proxy          0      1           0    1     0</span></span></code></pre></div>
<p><em>Percent missing data</em>   for setting the number of multiple
imputations.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">N_impute</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">opt_DT</span><span class="op">$</span><span class="va">proxy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">N_fye</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">opt_DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Percent missing data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="va">N_impute</span> <span class="op">/</span> <span class="va">N_fye</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 37</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="imputing-missing-values">Imputing missing values<a class="anchor" aria-label="anchor" href="#imputing-missing-values"></a>
</h2>
<p>The three essential arguments for <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code> are the
<code>DT</code> data frame, the <code>method_vector</code>, and the
<code>predictor_matrix</code>. The number of multiple imputations
<code>m</code> is set to 37 as discussed in <a href="#missing-data">Missing data</a>. The default <code>seed</code>
argument is NULL, but by setting the seed as shown the vignette results
are reproducible. Setting <code>printFlag = TRUE</code> displays
progress in the console.</p>
<p>For the practice data, 5 iterations of 37 imputations takes about 3
minutes (depending on your machine). For MIDFIELD research data,
however, imputation runs significantly longer.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Impute missing proxy data</span></span>
<span><span class="va">DT_mids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">DT</span>,</span>
<span>  m <span class="op">=</span> <span class="va">m_imputations</span>,</span>
<span>  maxit <span class="op">=</span> <span class="fl">5</span>, <span class="co"># default</span></span>
<span>  method <span class="op">=</span> <span class="va">method_vector</span>,</span>
<span>  predictorMatrix <span class="op">=</span> <span class="va">predictor_matrix</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">20180624</span>,</span>
<span>  printFlag <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># output in console with printFlag = TRUE</span></span>
<span><span class="co"># &gt;  iter imp variable</span></span>
<span><span class="co"># &gt;   1   1  proxy</span></span>
<span><span class="co"># &gt;   1   2  proxy</span></span>
<span><span class="co"># &gt;   1   3  proxy</span></span>
<span><span class="co"># &gt;   1   4  proxy</span></span>
<span><span class="co"># &gt;   1   5  proxy</span></span>
<span><span class="co"># &gt;   ---</span></span>
<span><span class="co"># &gt;   5  33  proxy</span></span>
<span><span class="co"># &gt;   5  34  proxy</span></span>
<span><span class="co"># &gt;   5  35  proxy</span></span>
<span><span class="co"># &gt;   5  36  proxy</span></span>
<span><span class="co"># &gt;   5  37  proxy</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="post-processing">Post-processing<a class="anchor" aria-label="anchor" href="#post-processing"></a>
</h2>
<p><em>Extracting the result.</em>   We apply
<code><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">mice::complete()</a></code> to extract the data from the
<code>mids</code> object. The missing data have been replaced by imputed
values.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Revert to default random number generation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract data from the mids object</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">DT_mids</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert to data.table structure</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setDT.html" class="external-link">setDT</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid          race  sex   institution  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111142290         Asian Male Institution J 141001</span></span>
<span><span class="co">#&gt;    2: MCID3111142294         Asian Male Institution J 141001</span></span>
<span><span class="co">#&gt;    3: MCID3111142961 International Male Institution J 142101</span></span>
<span><span class="co">#&gt;   ---                                                       </span></span>
<span><span class="co">#&gt; 5787: MCID3112447659         White Male Institution J 141901</span></span>
<span><span class="co">#&gt; 5788: MCID3112447663         White Male Institution J 140201</span></span>
<span><span class="co">#&gt; 5789: MCID3112447664         White Male Institution J 141001</span></span></code></pre></div>
<p><em>Selecting columns.</em>   To use the result, we need only two
columns: IDs and the the predicted starting programs.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset the data</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">proxy</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111142290 141001</span></span>
<span><span class="co">#&gt;    2: MCID3111142294 141001</span></span>
<span><span class="co">#&gt;    3: MCID3111142961 142101</span></span>
<span><span class="co">#&gt;   ---                      </span></span>
<span><span class="co">#&gt; 5787: MCID3112447659 141901</span></span>
<span><span class="co">#&gt; 5788: MCID3112447663 140201</span></span>
<span><span class="co">#&gt; 5789: MCID3112447664 141001</span></span></code></pre></div>
<p><em>Recoding.</em>   We convert the CIP codes from factor to
character.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert factors</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">proxy</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">proxy</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111142290 141001</span></span>
<span><span class="co">#&gt;    2: MCID3111142294 141001</span></span>
<span><span class="co">#&gt;    3: MCID3111142961 142101</span></span>
<span><span class="co">#&gt;   ---                      </span></span>
<span><span class="co">#&gt; 5787: MCID3112447659 141901</span></span>
<span><span class="co">#&gt; 5788: MCID3112447663 140201</span></span>
<span><span class="co">#&gt; 5789: MCID3112447664 141001</span></span></code></pre></div>
<p><em>Filtering.</em>   Proxies are substitutes for students
<em>starting</em> in FYE. Thus we filter to remove migrators, retaining
the proxies of first-term FYE students only.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Order term data by ID and term</span></span>
<span><span class="va">ordered_term</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">ordered_term</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Obtain first term of all students</span></span>
<span><span class="va">first_term</span> <span class="op">&lt;-</span> <span class="va">ordered_term</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Reduce to first term in FYE</span></span>
<span><span class="va">first_term_fye_mcid</span> <span class="op">&lt;-</span> <span class="va">first_term</span><span class="op">[</span><span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Inner join to remove migrators from working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">first_term_fye_mcid</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkey</a></span><span class="op">(</span><span class="va">DT</span>, <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid  proxy</span></span>
<span><span class="co">#&gt;    1: MCID3111142290 141001</span></span>
<span><span class="co">#&gt;    2: MCID3111142294 141001</span></span>
<span><span class="co">#&gt;    3: MCID3111142961 142101</span></span>
<span><span class="co">#&gt;   ---                      </span></span>
<span><span class="co">#&gt; 4621: MCID3112447659 141901</span></span>
<span><span class="co">#&gt; 4622: MCID3112447663 140201</span></span>
<span><span class="co">#&gt; 4623: MCID3112447664 141001</span></span></code></pre></div>
<p><em>Verify prepared data.</em>   To avoid deriving this data frame
each time it is needed in other vignettes, the same information is
provided in the <code>fye_proxy</code> data frame included with
midfieldr. Here we verify that the two data frames have the same
content.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">fye_proxy</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="assessing-fye-proxies">Assessing FYE proxies<a class="anchor" aria-label="anchor" href="#assessing-fye-proxies"></a>
</h2>
<div class="section level3">
<h3 id="credibility">Credibility<a class="anchor" aria-label="anchor" href="#credibility"></a>
</h3>
<p>Here we summarize the FYE proxy data set to see how many students our
algorithm assigned to which engineering majors. Start by extracting the
unique set of CIP codes from the proxy data set.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Identify unique CIP codes in the proxy data</span></span>
<span><span class="va">proxy_cips</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">fye_proxy</span><span class="op">$</span><span class="va">proxy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">proxy_cips</span></span>
<span><span class="co">#&gt;  [1] "140201" "140301" "140701" "140801" "140901" "141001" "141101" "141401"</span></span>
<span><span class="co">#&gt;  [9] "141801" "141901" "142101" "143301" "143501"</span></span></code></pre></div>
<p>Obtain the program names from the <code>cip</code> data set (provided
with midfieldr). We use the 4-digit names that in engineering generally
represent department-level programs.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Obtain the 4-digit program names corresponding to these codes</span></span>
<span><span class="va">proxy_program_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span>keep_text <span class="op">=</span> <span class="va">proxy_cips</span><span class="op">)</span></span>
<span><span class="va">proxy_program_names</span> <span class="op">&lt;-</span> <span class="va">proxy_program_names</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">proxy_program_names</span></span>
<span><span class="co">#&gt;       cip6                                                 program</span></span>
<span><span class="co">#&gt;  1: 140201   Aerospace, Aeronautical and Astronautical Engineering</span></span>
<span><span class="co">#&gt;  2: 140301 Agricultural, Biological Engineering and Bioengineering</span></span>
<span><span class="co">#&gt;  3: 140701                                    Chemical Engineering</span></span>
<span><span class="co">#&gt;  4: 140801                                       Civil Engineering</span></span>
<span><span class="co">#&gt;  5: 140901                           Computer Engineering, General</span></span>
<span><span class="co">#&gt;  6: 141001  Electrical, Electronics and Communications Engineering</span></span>
<span><span class="co">#&gt;  7: 141101                                   Engineering Mechanics</span></span>
<span><span class="co">#&gt;  8: 141401         Environmental, Environmental Health Engineering</span></span>
<span><span class="co">#&gt;  9: 141801                                   Materials Engineering</span></span>
<span><span class="co">#&gt; 10: 141901                                  Mechanical Engineering</span></span>
<span><span class="co">#&gt; 11: 142101                          Mining and Mineral Engineering</span></span>
<span><span class="co">#&gt; 12: 143301                                Construction Engineering</span></span>
<span><span class="co">#&gt; 13: 143501                                  Industrial Engineering</span></span></code></pre></div>
<p>Join these names to the proxy data set, summarize by program, and
order the rows by descending N.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Join these program names to the proxy data</span></span>
<span><span class="va">proxy_programs</span> <span class="op">&lt;-</span> <span class="va">proxy_program_names</span><span class="op">[</span><span class="va">fye_proxy</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>cip6 <span class="op">=</span> <span class="va">proxy</span><span class="op">)</span><span class="op">]</span>, <span class="fu">.</span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Count by program and order rows in descending magnitude</span></span>
<span><span class="va">proxy_programs</span> <span class="op">&lt;-</span> <span class="va">proxy_programs</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">proxy_programs</span>, order <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">proxy_programs</span></span>
<span><span class="co">#&gt;                                                     program    N</span></span>
<span><span class="co">#&gt;  1:                                  Mechanical Engineering 1053</span></span>
<span><span class="co">#&gt;  2:  Electrical, Electronics and Communications Engineering  668</span></span>
<span><span class="co">#&gt;  3:                                       Civil Engineering  598</span></span>
<span><span class="co">#&gt;  4:                           Computer Engineering, General  566</span></span>
<span><span class="co">#&gt;  5:   Aerospace, Aeronautical and Astronautical Engineering  516</span></span>
<span><span class="co">#&gt;  6:                                  Industrial Engineering  393</span></span>
<span><span class="co">#&gt;  7:                                    Chemical Engineering  358</span></span>
<span><span class="co">#&gt;  8:                          Mining and Mineral Engineering  134</span></span>
<span><span class="co">#&gt;  9:                                   Engineering Mechanics  133</span></span>
<span><span class="co">#&gt; 10:                                   Materials Engineering  104</span></span>
<span><span class="co">#&gt; 11: Agricultural, Biological Engineering and Bioengineering   82</span></span>
<span><span class="co">#&gt; 12:                                Construction Engineering   17</span></span>
<span><span class="co">#&gt; 13:         Environmental, Environmental Health Engineering    1</span></span></code></pre></div>
<p>For comparison, the National Science Foundation (NSF) reports that in
2012, the top seven US engineering majors ranked by enrollment were
<span class="citation">(<a href="#ref-NSF:2014:online">SEI dashboard
2014</a>)</span>:</p>
<ul>
<li>Mechanical</li>
<li>Electrical</li>
<li>Civil</li>
<li>Chemical</li>
<li>Industrial</li>
<li>Aerospace</li>
<li>Materials</li>
</ul>
<p>In Table 1, we show the FYE proxy programs and indicate the
equivalent NSF ranking cited above. The assignment of proxies is fairly
consistent with the NSF results, though the practice data have a higher
frequency of aerospace proxies than expected. Recall that the practice
data contain only three institutions while the NSF information is based
on nearly 3000 US undergraduate institutions <span class="citation">(<a href="#ref-NSF:2014:ch2">SEI report 2014</a>)</span>.</p>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 1: Frequency of FYE proxies using the practice data
</caption>
<thead><tr>
<th style="text-align:left;background-color: #c7eae5 !important;">
Program
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
NSF ranking
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
N
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Mechanical Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1
</td>
<td style="text-align:right;">
1053
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2
</td>
<td style="text-align:right;">
668
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
3
</td>
<td style="text-align:right;">
598
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Computer Engineering, General
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
</td>
<td style="text-align:right;">
566
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Aerospace, Aeronautical and Astronautical Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
6
</td>
<td style="text-align:right;">
516
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Industrial Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5
</td>
<td style="text-align:right;">
393
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Chemical Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4
</td>
<td style="text-align:right;">
358
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Mining and Mineral Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
</td>
<td style="text-align:right;">
134
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering Mechanics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
</td>
<td style="text-align:right;">
133
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Materials Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
7
</td>
<td style="text-align:right;">
104
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Agricultural, Biological Engineering and Bioengineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
</td>
<td style="text-align:right;">
82
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Construction Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Environmental, Environmental Health Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>We conclude that the imputation is credible at least to the extent
that the ranking of the majors is generally consistent with
expectations.</p>
</div>
<div class="section level3">
<h3 id="quantifying-potential-miscounts">Quantifying potential miscounts<a class="anchor" aria-label="anchor" href="#quantifying-potential-miscounts"></a>
</h3>
<p>The main goal of estimating FYE proxies is to prevent starter
miscounts. Here, we assess the potential for miscounts if FYE records
are not treated as recommended.</p>
<p>We start with the <code>first_term</code> data frame created earlier
(in <a href="#post-processing">Post-processing</a>) containing the
initial term information of all students in the practice data.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First term of all students</span></span>
<span><span class="va">first_term</span></span>
<span><span class="co">#&gt; Index: &lt;cip6&gt;</span></span>
<span><span class="co">#&gt;                  mcid  term   cip6</span></span>
<span><span class="co">#&gt;     1: MCID3111142225 19881 140901</span></span>
<span><span class="co">#&gt;     2: MCID3111142283 19881 240102</span></span>
<span><span class="co">#&gt;     3: MCID3111142290 19881 140102</span></span>
<span><span class="co">#&gt;    ---                            </span></span>
<span><span class="co">#&gt; 97553: MCID3112898894 20181 451001</span></span>
<span><span class="co">#&gt; 97554: MCID3112898895 20181 302001</span></span>
<span><span class="co">#&gt; 97555: MCID3112898940 20181 050103</span></span></code></pre></div>
<p>Identify starters, including FYE proxies, in the four case study
programs. (This procedure is more fully developed in the <a href="art-070-starters.html">Starters</a> vignette.)</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Join proxies by ID (left join) to first-term data</span></span>
<span><span class="va">start</span> <span class="op">&lt;-</span> <span class="va">fye_proxy</span><span class="op">[</span><span class="va">first_term</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span>, <span class="va">proxy</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Distinguish FYE from direct matriculants</span></span>
<span><span class="va">start</span><span class="op">[</span>, <span class="va">matric</span> <span class="op">:=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">proxy</span><span class="op">)</span>, <span class="st">"direct"</span>,</span>
<span>  <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">proxy</span><span class="op">)</span>, <span class="st">"fye"</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create start variable</span></span>
<span><span class="va">start</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">matric</span> <span class="op">==</span> <span class="st">"fye"</span>, <span class="va">proxy</span>,</span>
<span>  <span class="va">matric</span> <span class="op">==</span> <span class="st">"direct"</span>, <span class="va">cip6</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter to retain case study program starters</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">join_labels</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">start</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">start</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">start</span> <span class="op">&lt;-</span> <span class="va">start</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display result</span></span>
<span><span class="va">start</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">matric</span>, <span class="va">start</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;        start program           mcid   cip6  proxy matric</span></span>
<span><span class="co">#&gt;    1: 140801      CE MCID3111170903 140801   &lt;NA&gt; direct</span></span>
<span><span class="co">#&gt;    2: 140801      CE MCID3111170949 140801   &lt;NA&gt; direct</span></span>
<span><span class="co">#&gt;    3: 140801      CE MCID3111174233 140801   &lt;NA&gt; direct</span></span>
<span><span class="co">#&gt;   ---                                                   </span></span>
<span><span class="co">#&gt; 5386: 143501     ISE MCID3112441692 140102 143501    fye</span></span>
<span><span class="co">#&gt; 5387: 143501     ISE MCID3112447596 140102 143501    fye</span></span>
<span><span class="co">#&gt; 5388: 143501     ISE MCID3112447600 140102 143501    fye</span></span></code></pre></div>
<p>This data frame contains all direct-matriculation starters in the
case study programs plus the FYE students with one of these programs as
their estimated proxy.</p>
<p>Grouping by program and type of matriculation, we can determine the
FYE percentage of all starters.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summarize</span></span>
<span><span class="va">start</span> <span class="op">&lt;-</span> <span class="va">start</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"matric"</span>, <span class="st">"program"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Transform to row-record form</span></span>
<span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">start</span>, <span class="va">program</span> <span class="op">~</span> <span class="va">matric</span>, value.var <span class="op">=</span> <span class="st">"N"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute FYE as fraction of total</span></span>
<span><span class="va">start</span><span class="op">[</span>, <span class="va">N_starters</span> <span class="op">:=</span> <span class="va">direct</span> <span class="op">+</span> <span class="va">fye</span><span class="op">]</span></span>
<span><span class="va">start</span><span class="op">[</span>, <span class="va">fye_pct</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="va">fye</span> <span class="op">/</span> <span class="va">N_starters</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">start</span></span>
<span><span class="co">#&gt; Key: &lt;program&gt;</span></span>
<span><span class="co">#&gt;    program direct  fye N_starters fye_pct</span></span>
<span><span class="co">#&gt; 1:      CE    714  598       1312    45.6</span></span>
<span><span class="co">#&gt; 2:      EE    669  668       1337    50.0</span></span>
<span><span class="co">#&gt; 3:     ISE     12  393        405    97.0</span></span>
<span><span class="co">#&gt; 4:      ME   1281 1053       2334    45.1</span></span></code></pre></div>
<p>The results indicate (for the case study data) a potential
under-count of 45% to 97% if FYE proxies are excluded when counting
starters.</p>
</div>
</div>
<div class="section level2">
<h2 id="reusable-code">Reusable code<a class="anchor" aria-label="anchor" href="#reusable-code"></a>
</h2>
<p>Given the number of lines of code and the number of case-specific
parameters involved, a reusable code section is not provided.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-azur2011" class="csl-entry">
Azur, Melissa J., Elizabeth A. Stuart, Constantine Frangakis, and Philip
J. Leaf. 2011. <span>“Multiple Imputation by Chained Equations:
<span>W</span>hat Is It and How Does It Work?”</span> <em>International
Journal of Methods in Psychiatric Research</em> 20 (1): 40–49.
</div>
<div id="ref-Bodner:2008" class="csl-entry">
Bodner, Todd E. 2008. <span>“<span class="nocase">What improves with
increased missing data imputations?</span>”</span> <em><span>Structural
Equation Modeling: A Multidisciplinary Journal</span></em> 15 (4):
651–75. <a href="https://doi.org/10.1080/10705510802339072" class="external-link">https://doi.org/10.1080/10705510802339072</a>.
</div>
<div id="ref-dhana2017" class="csl-entry">
Dhana, Klodian. 2017. <span>“Handling Missing Data with
<span>MICE</span> Package: A Simple Approach.”</span> Edited by Data
Science Plus. [Online; accessed 2018-06-24]; <a href="https://datascienceplus.com/handling-missing-data-with-mice-package-a-simple-approach/" class="external-link uri">https://datascienceplus.com/handling-missing-data-with-mice-package-a-simple-approach/</a>.
</div>
<div id="ref-GraceMartin:2012" class="csl-entry">
Grace-Martin, Karen. 2012. <span>“<span class="nocase">Two recommended
solutions for missing data: Multiple imputation and maximum
likelihood</span>.”</span> Blog post. <a href="https://www.theanalysisfactor.com/missing-data-two-recommended-solutions/" class="external-link">https://www.theanalysisfactor.com/missing-data-two-recommended-solutions/</a>.
</div>
<div id="ref-NSF:2014:online" class="csl-entry">
SEI dashboard. 2014. <em><span class="nocase">Science and Engineering
Indicators: How many degrees are earned in engineering, and what
subfields are most popular?</span></em> National Science Foundation;
[Online; accessed 2022–12–15]. <a href="https://www.nsf.gov/nsb/sei/edTool/data/engineering-01.html" class="external-link">https://www.nsf.gov/nsb/sei/edTool/data/engineering-01.html</a>.
</div>
<div id="ref-NSF:2014:ch2" class="csl-entry">
SEI report. 2014. <em><span class="nocase">Science and Engineering
Indicators: Ch. 2</span></em>. National Science Foundation; [Online;
accessed 2022–12–15]. <a href="https://www.nsf.gov/statistics/seind14/content/chapter-2/chapter-2.pdf" class="external-link">https://www.nsf.gov/statistics/seind14/content/chapter-2/chapter-2.pdf</a>.
</div>
<div id="ref-vanBuuren+Oudshoorn:2011" class="csl-entry">
van Buuren, Stef, and Karin Groothuis-Oudshoorn. 2011. <span>“<span class="nocase">mice: Multivariate Imputation by Chained Equations in
R</span>.”</span> <em>Journal of Statistical Software</em> 45 (3): 1–67.
<a href="https://www.jstatsoft.org/v45/i03/" class="external-link">https://www.jstatsoft.org/v45/i03/</a>.
</div>
</div>
<style type="text/css">
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
</style>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
