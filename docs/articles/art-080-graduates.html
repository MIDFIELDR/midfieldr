<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Graduates • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Courier_Prime-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Graduates">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-case-study" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Case study</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-case-study">
<li><a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a></li>
    <li><a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a></li>
    <li><a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/art-010-planning.html">Planning</a></li>
    <li><a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a></li>
    <li><a class="dropdown-item" href="../articles/art-030-degree-seeking.html">Degree seeking</a></li>
    <li><a class="dropdown-item" href="../articles/art-040-programs.html">Programs</a></li>
    <li><a class="dropdown-item" href="../articles/art-050-blocs.html">Blocs</a></li>
    <li><a class="dropdown-item" href="../articles/art-060-fye-proxies.html">FYE proxies</a></li>
    <li><a class="dropdown-item" href="../articles/art-070-starters.html">Starters</a></li>
    <li><a class="dropdown-item" href="../articles/art-080-graduates.html">Graduates</a></li>
    <li><a class="dropdown-item" href="../articles/art-090-groupings.html">Groupings</a></li>
    <li><a class="dropdown-item" href="../articles/art-100-grad-rate.html">Graduation rate</a></li>
    <li><a class="dropdown-item" href="../articles/art-110-stickiness.html">Stickiness</a></li>
    <li><a class="dropdown-item" href="../articles/art-120-multiway.html">Multiway data and charts</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Graduates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-080-graduates.Rmd" class="external-link"><code>vignettes/art-080-graduates.Rmd</code></a></small>
      <div class="d-none name"><code>art-080-graduates.Rmd</code></div>
    </div>

    
    
<p>An undergraduate student who completes their program and earns their
first degree is a <em>completer</em>. To be counted among their
program’s <em>graduates</em> however usually depends on whether they
satisfy the criterion for <em>timely completion</em>. We derive a
<em>completion status</em> variable to filter student-level records to
obtain a bloc of graduates.</p>
<p>This vignette in the MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li>Planning<br>
</li>
<li>Initial processing<br>
</li>
<li>
<span class="accent">Blocs</span>
<ul>
<li>Ever-enrolled<br>
</li>
<li>FYE proxies<br>
</li>
<li>Starters<br>
</li>
<li>
<span class="accent">Graduates</span><br>
</li>
</ul>
</li>
<li>Groupings<br>
</li>
<li>Metrics<br>
</li>
<li>Displays</li>
</ol>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>bloc</dt>
<dd>
<p>A grouping of student-level data dealt with as a unit, for example,
starters, students ever-enrolled, graduates, transfer students,
traditional and non-traditional students, migrators, etc.</p>
</dd>
<dt>degree-seeking</dt>
<dd>
<p>Describes students advancing toward a bachelor’s degree, accumulating
credit hours in their program with the goal of graduating from their
institution.</p>
</dd>
<dt>completers</dt>
<dd>
<p>Bloc of degree-seeking students who complete their baccalaureate
programs, earning their first degrees.</p>
</dd>
<dt>timely completion criterion</dt>
<dd>
<p>Completing a program in no more than a specified span of years, in
many cases, within 6 years after admission (150% of the “normal” 4-year
span), or possibly less for some transfer students.</p>
</dd>
<dt>completion status</dt>
<dd>
<p>A derived midfieldr variable indicating whether a student completes a
degree, and if so, whether their completion was timely. Possible values
are “timely”, “late”, and “NA”. Late completers are often excluded from
a count of “graduates.”</p>
</dd>
<dt>graduates</dt>
<dd>
<p>Bloc of all graduates (timely completers) from a program, without
regard to their starting programs.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<p>A bloc of graduates (timely completers) can be determined independent
of other blocs.</p>
<ol style="list-style-type: decimal">
<li><p>Filter source student-level records for data sufficiency and
degree-seeking.</p></li>
<li><p>Determine completion status.</p></li>
<li><p>Filter graduates (timely completers).</p></li>
<li><p>Filter by degree program.</p></li>
</ol>
<p>The next step might be to subset the graduates if necessary to meet
the needs of the metric. For example, the graduation rate metric
requires graduates to be a subset of starters in the same program. We
postpone this step until treating the metrics.</p>
<p><em>Reminder.</em>   midfielddata datasets are for practice, not
research.</p>
</div>
<div class="section level2">
<h2 id="load-data">Load data<a class="anchor" aria-label="anchor" href="#load-data"></a>
</h2>
<p><em>Start.</em>   If you are writing your own script to follow along,
we use these packages in this article:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://midfieldr.github.io/midfieldr/">midfieldr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://midfieldr.github.io/midfielddata/" class="external-link">midfielddata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></code></pre></div>
<p><em>Load.</em>   Practice datasets. View data dictionaries via
<code><a href="https://midfieldr.github.io/midfielddata/reference/student.html" class="external-link">?student</a></code>, <code><a href="https://midfieldr.github.io/midfielddata/reference/term.html" class="external-link">?term</a></code>, <code><a href="https://midfieldr.github.io/midfielddata/reference/degree.html" class="external-link">?degree</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load practice data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span><span class="op">)</span></span></code></pre></div>
<p><em>Loads with midfieldr.</em>   Prepared data. View data
dictionaries via <code><a href="../reference/study_programs.html">?study_programs</a></code>,
<code><a href="../reference/baseline_mcid.html">?baseline_mcid</a></code>.</p>
<ul>
<li><p><code>study_programs</code> (derived in <a href="art-040-programs.html#assigning-program-names">Programs</a>).</p></li>
<li><p><code>baseline_mcid</code> (derived in <a href="art-050-blocs.html#initial-processing">Blocs</a>).</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="initial-processing">Initial processing<a class="anchor" aria-label="anchor" href="#initial-processing"></a>
</h2>
<p><em>Select (optional).</em>   Reduce the number of columns. Code
reproduced from <a href="art-000-getting-started.html#reusable-code">Getting
started</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Optional. Copy of source files with all variables</span></span>
<span><span class="va">source_student</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">student</span><span class="op">)</span></span>
<span><span class="va">source_term</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span><span class="va">source_degree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Optional. Select variables required by midfieldr functions</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_student</span><span class="op">)</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_term</span><span class="op">)</span></span>
<span><span class="va">degree</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_degree</span><span class="op">)</span></span></code></pre></div>
<p><em>Initialize.</em>   Use the <code>term</code> and
<code>student</code> data tables to obtain a data frame of student IDs
meeting the data sufficiency and degree-seeking criteria. Appled to the
practice data, this procedure yields the <code>baseline_mcid</code> data
frame derived in <a href="art-050-blocs.html#initial-processing">Blocs</a> and included with
midfieldr.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">baseline_mcid</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="add_completion_status">
<code>add_completion_status()</code><a class="anchor" aria-label="anchor" href="#add_completion_status"></a>
</h2>
<p>Add columns to a data frame of student-level records that indicate
whether a student completed a degree, and if so, whether their
completion was timely.</p>
<p>The input data frame must have columns for ID and the timely
completion term. We use <code><a href="../reference/add_timely_term.html">add_timely_term()</a></code> again, though
alternatively we could have retained the <code>timely_term</code>
variable from previous code chunks.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Timely term required before completion status</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Drop unnecessary columns</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_i"</span>, <span class="st">"level_i"</span>, <span class="st">"adj_span"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span></code></pre></div>
<p><em>Arguments.</em></p>
<ul>
<li><p><strong><code>dframe</code></strong>   Data frame of
student-level records keyed by student ID. Required variables are
<code>mcid</code> and <code>timely_term</code>.</p></li>
<li><p><strong><code>midfield_degree</code></strong>   Data frame of
student-level degree observations keyed by student ID. Default is
<code>degree</code>. Required variables are <code>mcid</code> and
<code>term_degree</code>.</p></li>
</ul>
<p><em>Equivalent usage.</em>   The following implementations yield
identical results,</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Required arguments in order and explicitly named</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span>dframe <span class="op">=</span> <span class="va">DT</span>, midfield_degree <span class="op">=</span> <span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Required arguments in order, but not named</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Using the implicit default for the midfield_degree argument</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="https://winvector.github.io/wrapr//reference/check_equiv_frames.html" class="external-link">check_equiv_frames</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://winvector.github.io/wrapr//reference/check_equiv_frames.html" class="external-link">check_equiv_frames</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p><em>Output.</em>   Adds the following columns to the data frame.</p>
<ul>
<li><p><strong><code>term_degree</code></strong>   Character. Term in
which a program is completed. Encoded YYYYT. NA indicates
non-completion.</p></li>
<li><p><strong><code>completion_status</code></strong>   Character.
Completion status: “timely”, indicating degree completion no later than
the timely completion term; “late”, indicating completion after the
timely completion term; and “NA” indicating non-completion.</p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add completion status and supporting variables</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                  mcid timely_term term_degree completion_status</span></span>
<span><span class="co">#&gt;                &lt;char&gt;      &lt;char&gt;      &lt;char&gt;            &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MCID3111142689       19941       19913            timely</span></span>
<span><span class="co">#&gt;     2: MCID3111142782       19941       19903            timely</span></span>
<span><span class="co">#&gt;     3: MCID3111142881       19951       19894            timely</span></span>
<span><span class="co">#&gt;    ---                                                         </span></span>
<span><span class="co">#&gt; 76873: MCID3112785480       20123        &lt;NA&gt;              &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 76874: MCID3112800920       20153        &lt;NA&gt;              &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 76875: MCID3112870009       20003        &lt;NA&gt;              &lt;NA&gt;</span></span></code></pre></div>
<p>Similar to the details described in the data sufficiency vignette,
<code><a href="../reference/add_completion_status.html">add_completion_status()</a></code> accepts <a href="art-020-data-sufficiency.html#alternate-source-names">Alternate
source names</a> and uses <a href="art-020-data-sufficiency.html#silent-overwriting">Silent
overwriting</a> when existing columns have the same name as one of the
added columns.</p>
<div class="section level3">
<h3 id="closer-look">Closer look<a class="anchor" aria-label="anchor" href="#closer-look"></a>
</h3>
<p>Examining the records of selected students in detail.</p>
<p><em>Example 1.</em>   The student has a degree term, Spring 1997
(encoded <code>19963</code>) indicating successful completion. Their
degree term does not exceed their timely completion term, Spring 1998
(encoded <code>19973</code>), so their completion status is
“timely”.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display one student by ID</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span><span class="op">]</span></span>
<span><span class="co">#&gt; Empty data.table (0 rows and 4 cols): mcid,timely_term,term_degree,completion_status</span></span></code></pre></div>
<p><em>Example 2.</em>   This student too has a degree term, Spring 2017
(encoded <code>20163</code>) indicating successful completion. Their
degree term exceeds their timely completion term, Spring 2016 (encoded
<code>20153</code>), so their completion status is “late”.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display one student by ID</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID26696871"</span><span class="op">]</span></span>
<span><span class="co">#&gt; Empty data.table (0 rows and 4 cols): mcid,timely_term,term_degree,completion_status</span></span></code></pre></div>
<p><em>Example 3.</em>   The student’s degree term is NA, indicating
they did not complete their program. Thus completion status is NA as
well.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display one student by ID</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID26697615"</span><span class="op">]</span></span>
<span><span class="co">#&gt; Empty data.table (0 rows and 4 cols): mcid,timely_term,term_degree,completion_status</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="graduates">Graduates<a class="anchor" aria-label="anchor" href="#graduates"></a>
</h2>
<p>Defining “graduates” as timely completers, we filter to retain
records for which completion status is “timely”. This data set comprises
all timely graduates in the practice data.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Graduates</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter for unique IDs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                  mcid</span></span>
<span><span class="co">#&gt;                &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MCID3111142689</span></span>
<span><span class="co">#&gt;     2: MCID3111142782</span></span>
<span><span class="co">#&gt;     3: MCID3111142881</span></span>
<span><span class="co">#&gt;    ---               </span></span>
<span><span class="co">#&gt; 40438: MCID3112692944</span></span>
<span><span class="co">#&gt; 40439: MCID3112694738</span></span>
<span><span class="co">#&gt; 40440: MCID3112730841</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="filter-by-program">Filter by program<a class="anchor" aria-label="anchor" href="#filter-by-program"></a>
</h2>
<p>In this case, “filter by program” means to filter by <em>degree
program.</em> Hence we join variables from <code>degree</code> to obtain
the CIP codes of the graduates.</p>
<p><em>Add variables.</em>   Left join with selected variables from
<code>degree</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add degree CIP codes and terms</span></span>
<span><span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="va">degree</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term_degree</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">cols_we_want</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                  mcid term_degree   cip6</span></span>
<span><span class="co">#&gt;                &lt;char&gt;      &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MCID3111142689       19913 090401</span></span>
<span><span class="co">#&gt;     2: MCID3111142782       19903 260101</span></span>
<span><span class="co">#&gt;     3: MCID3111142881       19894 450601</span></span>
<span><span class="co">#&gt;    ---                                  </span></span>
<span><span class="co">#&gt; 40538: MCID3112692944       20153 090101</span></span>
<span><span class="co">#&gt; 40539: MCID3112694738       20143 230101</span></span>
<span><span class="co">#&gt; 40540: MCID3112730841       20164 040401</span></span></code></pre></div>
<p>If our IDs are all graduates, there should be no NA values in the CIP
column after joining. We check as follows, where the result is the
integer number of rows with an incomplete case, i.e., an NA in either
column. The result is zero.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Verify no NAs in CIP column</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p><em>Filter.</em>   Join program labels and filter to retain the
desired programs.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter by program</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">study_programs</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;         cip6 program           mcid term_degree</span></span>
<span><span class="co">#&gt;       &lt;char&gt;  &lt;char&gt;         &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: 141001      EE MCID3111142965       19901</span></span>
<span><span class="co">#&gt;    2: 141001      EE MCID3111145102       19893</span></span>
<span><span class="co">#&gt;    3: 141001      EE MCID3111146537       19913</span></span>
<span><span class="co">#&gt;   ---                                          </span></span>
<span><span class="co">#&gt; 3264: 141901      ME MCID3112618976       20153</span></span>
<span><span class="co">#&gt; 3265: 141001      EE MCID3112619484       20133</span></span>
<span><span class="co">#&gt; 3266: 141901      ME MCID3112641535       20143</span></span></code></pre></div>
<p><em>Filter.</em>   Filter to retain observations in the first degree
term only. Multiple degrees are allowed but only if they occur in the
first degree term.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter by first degree term</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">term_degree</span><span class="op">)</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid   cip6 program term_degree</span></span>
<span><span class="co">#&gt;               &lt;char&gt; &lt;char&gt;  &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MCID3111142965 141001      EE       19901</span></span>
<span><span class="co">#&gt;    2: MCID3111145102 141001      EE       19893</span></span>
<span><span class="co">#&gt;    3: MCID3111146537 141001      EE       19913</span></span>
<span><span class="co">#&gt;   ---                                          </span></span>
<span><span class="co">#&gt; 3262: MCID3112618976 141901      ME       20153</span></span>
<span><span class="co">#&gt; 3263: MCID3112619484 141001      EE       20133</span></span>
<span><span class="co">#&gt; 3264: MCID3112641535 141901      ME       20143</span></span></code></pre></div>
<p><em>Filter.</em>   Drop unnecessary variables and filter for unique
observations of ID and degree program label.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"term_degree"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                 mcid program</span></span>
<span><span class="co">#&gt;               &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MCID3111142965      EE</span></span>
<span><span class="co">#&gt;    2: MCID3111145102      EE</span></span>
<span><span class="co">#&gt;    3: MCID3111146537      EE</span></span>
<span><span class="co">#&gt;   ---                       </span></span>
<span><span class="co">#&gt; 3262: MCID3112618976      ME</span></span>
<span><span class="co">#&gt; 3263: MCID3112619484      EE</span></span>
<span><span class="co">#&gt; 3264: MCID3112641535      ME</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reusable-code">Reusable code<a class="anchor" aria-label="anchor" href="#reusable-code"></a>
</h2>
<p><em>Preparation.</em>   The data frame of baseline IDs is the intake
for this section.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">baseline_mcid</span><span class="op">)</span></span></code></pre></div>
<p><em>Graduates.</em>   A summary code chunk for ready reference.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Gather graduates, degree CIPs and terms</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">degree</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term_degree</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter by programs and first degree terms</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">study_programs</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">term_degree</span><span class="op">)</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"term_degree"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs">

</div>
<!-- blockquote { -->
<!--     padding:     10px 20px; -->
<!--     margin:      0 0 20px; -->
<!--     border-left: 0px -->
<!-- } -->
<!-- caption { -->
<!--     color:       #525252; -->
<!--     text-align:  left; -->
<!--     font-weight: normal; -->
<!--     font-size:   medium; -->
<!--     line-height: 1.5; -->
<!-- } -->
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
