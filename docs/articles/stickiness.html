<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stickiness metric • midfieldr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">midfieldr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/data.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cip_filter.html">Selecting CIP codes</a>
    </li>
    <li>
      <a href="../articles/stickiness.html">Stickiness metric</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Stickiness metric</h1>
            
          </div>

    
    
<div class="contents">
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<p>“Stickiness” is a longitudinal persistence metric that tracks all students who contact an instructional program to determine what percentage “stick” to that program and graduate in it. Stickiness is defined as the ratio of the number of students graduating in a program to the number of students ever enrolled in the program.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>In this article, we show you how to use functions in midfieldr to compute program stickiness. Our workflow is:</p>
<ul>
<li>select the programs</li>
<li>count the students ever enrolled</li>
<li>count the students graduating<br>
</li>
<li>compute stickiness</li>
<li>graph stickiness</li>
</ul>
<p>Because our research focuses on intersectionality, we typically disaggregate the data by program, sex, and race/ethnicity. You may of course choose your own combination of variables to study.</p>
</div>
<div id="select-the-programs" class="section level2">
<h2 class="hasAnchor">
<a href="#select-the-programs" class="anchor"></a>Select the programs</h2>
<p>For this example, we compare the stickiness of three engineering programs: Civil, Electrical, and Mechanical. Their 4-digit CIP codes were found by keyword search as illustrated in <a href="cip_filter.html">Selecting CIP codes</a>.</p>
<p>We use:</p>
<ul>
<li>
<code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/cip_filter">midfieldr::cip_filter()</a></code> to obtain the relevant program codes.<br>
</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/tibble/topics/add_column">tibble::add_column()</a></code> to label the program groups we’ve defined. The <code>PGRM</code> variable is handy later for grouping data and for titling graph panels.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># obtain 2, 4, and 6-digit CIP codes and names</span>
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(tibble)
<span class="kw">library</span>(midfieldr) 
cve &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="st">"^1408"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">PGRM =</span> <span class="st">"Civil Engineering"</span>)
ele &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="st">"^1410"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">PGRM =</span> <span class="st">"Electrical Engineering"</span>)
mce &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="st">"^1419"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">PGRM =</span> <span class="st">"Mechanical Engineering"</span>)</code></pre></div>
<p>Selecting our own <code>PGRM</code> label is important when using collections not specifically identified as groups in the CIP dataset, e.g., Humanities, Physical Sciences, and the collections provided in <code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/named_series">midfieldr::named_series</a></code>.</p>
<p>Next we bind the individual program data frames into one data frame. We use:</p>
<ul>
<li>
<code><a href="http://dplyr.tidyverse.org/reference/bind.html">dplyr::bind_rows()</a></code> to bind the programs into one data frame</li>
<li>
<code><a href="http://dplyr.tidyverse.org/reference/select.html">dplyr::select()</a></code> to keep two variables: <code>CIP6</code> for finding the desired student records and <code>PGRM</code> for grouping.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># bind the four programs</span>
programs &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(cve, ele, mce) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">select</span>(CIP6, PGRM)

<span class="co"># examine the result</span>
programs
<span class="co">#&gt;      CIP6                   PGRM</span>
<span class="co">#&gt; 1  140801      Civil Engineering</span>
<span class="co">#&gt; 2  140802      Civil Engineering</span>
<span class="co">#&gt; 3  140803      Civil Engineering</span>
<span class="co">#&gt; 4  140804      Civil Engineering</span>
<span class="co">#&gt; 5  140805      Civil Engineering</span>
<span class="co">#&gt; 6  140899      Civil Engineering</span>
<span class="co">#&gt; 7  141001 Electrical Engineering</span>
<span class="co">#&gt; 8  141003 Electrical Engineering</span>
<span class="co">#&gt; 9  141004 Electrical Engineering</span>
<span class="co">#&gt; 10 141099 Electrical Engineering</span>
<span class="co">#&gt; 11 141901 Mechanical Engineering</span></code></pre></div>
</div>
<div id="count-students-ever-enrolled" class="section level2">
<h2 class="hasAnchor">
<a href="#count-students-ever-enrolled" class="anchor"></a>Count students ever enrolled</h2>
<p>A student contributes to a program’s “ever enrolled” total if the program’s CIP code appears in the student’s <code>term</code> data. Each unique student/program combination is counted only once.</p>
<p>To gather the students ever enrolled, we use:</p>
<ul>
<li>
<code>student</code> dataset for student race/ethnicity and sex.</li>
<li>
<code>term</code> dataset for the programs in which students are enrolled term-by-term.</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/gather_ever">midfieldr::gather_ever()</a></code> to subset <code>term</code> for those students ever enrolled in <code>programs</code> and add variables <code>ETHNIC</code> and <code>SEX</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># gather students ever enrolled in the programs</span>
<span class="kw">library</span>(midfieldstudent)
<span class="kw">library</span>(midfieldterm)
ever &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gather_ever.html">gather_ever</a></span>(term, programs)

<span class="co"># examine the result</span>
<span class="kw">glimpse</span>(ever)
<span class="co">#&gt; Observations: 58,306</span>
<span class="co">#&gt; Variables: 10</span>
<span class="co">#&gt; $ MID         &lt;dbl&gt; 820102025, 820102025, 820102025, 820102025, 820102...</span>
<span class="co">#&gt; $ </span><span class="re">BEGIN</span><span class="co">YEAR   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ TYEAR       &lt;dbl&gt; 2004, 2003, 2004, 2004, 2005, 1990, 1991, 1991, 19...</span>
<span class="co">#&gt; $ TTERM       &lt;chr&gt; "SP", "FA", "FA", "SM", "SP", "FA", "SP", "FA", "S...</span>
<span class="co">#&gt; $ INSTITUTION &lt;chr&gt; "Institution 1", "Institution 1", "Institution 1",...</span>
<span class="co">#&gt; $ TCIPN       &lt;chr&gt; "TCIP", "TCIP", "TCIP", "TCIP", "TCIP", "TCIP", "T...</span>
<span class="co">#&gt; $ CIP6        &lt;chr&gt; "140801", "140801", "140801", "140801", "140801", ...</span>
<span class="co">#&gt; $ PGRM        &lt;chr&gt; "Civil Engineering", "Civil Engineering", "Civil E...</span>
<span class="co">#&gt; $ ETHNIC      &lt;chr&gt; "No Response", "No Response", "No Response", "No R...</span>
<span class="co">#&gt; $ SEX         &lt;chr&gt; "M", "M", "M", "M", "M", "M", "M", "M", "M", "M", ...</span></code></pre></div>
<p>At this point, one decides how to group the the students for counting. In our example, we group by race/ethnicity, sex, and program. We use:</p>
<ul>
<li>
<code><a href="http://dplyr.tidyverse.org/reference/tally.html">dplyr::count()</a></code> to group and count the students by program, ethnicity/race, and sex. The count is assigned to the default variable <code>n</code>.</li>
<li>
<code><a href="http://dplyr.tidyverse.org/reference/select.html">dplyr::rename()</a></code> to rename <code>n</code> to <code>EVER</code> for the number of students in this group ever enrolled in the program.</li>
<li>
<code><a href="http://dplyr.tidyverse.org/reference/arrange.html">dplyr::arrange()</a></code> to arrange the rows of the resulting data frame in order of descending magnitude of the count.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># count ever enrolled by grouping variables </span>
ever_count &lt;-<span class="st"> </span><span class="kw">count</span>(ever, PGRM, ETHNIC, SEX)  <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">rename</span>(<span class="dt">EVER =</span> n) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(EVER))

<span class="co"># examine the result</span>
ever_count
<span class="co">#&gt; # A tibble: 53 x 4</span>
<span class="co">#&gt;    PGRM                   ETHNIC          SEX    EVER</span>
<span class="co">#&gt;    &lt;chr&gt;                  &lt;chr&gt;           &lt;chr&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1 Mechanical Engineering White           M     21092</span>
<span class="co">#&gt;  2 Civil Engineering      White           M     11146</span>
<span class="co">#&gt;  3 Electrical Engineering White           M      8029</span>
<span class="co">#&gt;  4 Civil Engineering      White           F      3080</span>
<span class="co">#&gt;  5 Mechanical Engineering White           F      2573</span>
<span class="co">#&gt;  6 Mechanical Engineering Hispanic/Latino M      1302</span>
<span class="co">#&gt;  7 Mechanical Engineering No Response     M      1071</span>
<span class="co">#&gt;  8 Electrical Engineering International   M       974</span>
<span class="co">#&gt;  9 Electrical Engineering White           F       961</span>
<span class="co">#&gt; 10 Mechanical Engineering International   M       953</span>
<span class="co">#&gt; # ... with 43 more rows</span></code></pre></div>
<p>To get a sense of the data, we visualize it using a “multiway” graph. (See <a href="multiway.html">Multiway data and graphs</a> for an in-depth discussion of multiways.) To construct the graph, we use ggplot2 and the following midfieldr graph functions:</p>
<ul>
<li>
<code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/graph_functions">midfieldr::expon_scale_x_log10()</a></code> creates exponential powers-of-ten notation and logarithmic grid lines.<br>
</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/graph_functions">midfieldr::midfield_theme()</a></code>, the ggplot <code>theme_minimal()</code> with some revisions.</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/rcb">midfieldr::rcb()</a></code> yields a hexadecimal code for specific colors named in the <code><a href="http://www.rdocumentation.org/packages/midfieldr/topics/rcb_colors">midfieldr::rcb_colors</a></code> dataset.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># multiway graph of ever enrolled numbers </span>
<span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(ever_count, <span class="kw">aes</span>(<span class="dt">x =</span> EVER, <span class="dt">y =</span> <span class="kw">reorder</span>(ETHNIC, EVER, median), <span class="dt">col =</span> SEX)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span><span class="st">  </span>
<span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span><span class="kw">reorder</span>(PGRM, <span class="op">-</span>EVER, median), <span class="dt">ncol =</span> <span class="dv">1</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Number of students ever enrolled"</span>, <span class="dt">y =</span> <span class="st">""</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="kw"><a href="../reference/rcb.html">rcb</a></span>(<span class="st">"mid_Br"</span>), <span class="kw"><a href="../reference/rcb.html">rcb</a></span>(<span class="st">"mid_BG"</span>))) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="../reference/graph_functions.html">expon_scale_x_log10</a></span>() <span class="op">+</span>
<span class="st">    </span><span class="kw"><a href="../reference/graph_functions.html">midfield_theme</a></span>() </code></pre></div>
<p><img src="stickiness_files/figure-html/unnamed-chunk-5-1.png" width="691.2"></p>
</div>
<div id="count-students-graduating" class="section level2">
<h2 class="hasAnchor">
<a href="#count-students-graduating" class="anchor"></a>Count students graduating</h2>
</div>
<div id="compute-stickiness" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-stickiness" class="anchor"></a>Compute stickiness</h2>
</div>
<div id="graph-stickiness" class="section level2">
<h2 class="hasAnchor">
<a href="#graph-stickiness" class="anchor"></a>Graph stickiness</h2>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Matthew Ohland, Marisa Orr, Richard Layton, Susan Lord and Russell Long (2012) Introducing “stickiness” as a versatile metric of engineering persistence, in proc. <em>2012 Frontiers in Education Conference</em>, Seattle, WA, pp. 1–5. <a href="http://dx.doi.org/10.1109/FIE.2012.6462214">DOI 10.1109/FIE.2012.6462214</a>.<a href="#fnref1">↩</a></p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#getting-started">Getting started</a></li>
      <li><a href="#select-the-programs">Select the programs</a></li>
      <li><a href="#count-students-ever-enrolled">Count students ever enrolled</a></li>
      <li><a href="#count-students-graduating">Count students graduating</a></li>
      <li><a href="#compute-stickiness">Compute stickiness</a></li>
      <li><a href="#graph-stickiness">Graph stickiness</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
