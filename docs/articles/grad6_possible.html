<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Possible to graduate • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Possible to graduate">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting_started.html">Getting started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cip_filter.html">Identifying program CIP codes</a>
    </li>
    <li>
      <a href="../articles/selecting_programs.html">Select and label programs</a>
    </li>
    <li>
      <a href="../articles/imputing_fye.html">Imputing starting majors for FYE students</a>
    </li>
    <li>
      <a href="../articles/grad_rate.html">Computing graduation rate</a>
    </li>
    <li>
      <a href="../articles/stickiness.html">Computing stickiness</a>
    </li>
    <li>
      <a href="../articles/multiway.html">Multiway data, graphs, and tables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers/Talks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/pages/talks.html">Talks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/pages/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Possible to graduate</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/grad6_possible.Rmd"><code>vignettes/grad6_possible.Rmd</code></a></small>
      <div class="hidden name"><code>grad6_possible.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>Students for whom graduation in 6 years is not possible must be excluded from the counts used in many persistence metrics. We refer to this as the “possible to graduate in 6 years” condition (or <em>pos-grad-6</em> for short).</p>
<p>For example, suppose a first-time-in-college, first-year student starts in the Fall of 2010. If 2011 were the last term for which we have data from that institution, then the student’s graduation status cannot be known. It follows that this student must be excluded from a count of non-graduates if that count affects the persistence metric, e.g., graduation rate.</p>
<p>Care must be taken, then, in the first 6-year span and in the final 6-year span of an institution’s data to exclude students for whom <em>pos-grad-6</em> is false. And different institutions have provided data over different spans of years.</p>
</div>
<div id="examine-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#examine-the-data" class="anchor"></a>Examine the data</h2>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyverse</span>))
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">midfielddata</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">midfieldr</span>)</pre></body></html></div>
<p>We want <code>midfieldstudents</code> for their starting term and transfer status; `<code>midfieldterms</code> for their first and last recorded terms, standing, and level; and <code>midfielddegrees</code> for the term they are awarded a degree if any.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">students</span> <span class="kw">&lt;-</span> <span class="no">midfieldstudents</span> <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>, <span class="no">institution</span>, <span class="no">term_enter</span>, <span class="no">transfer</span>)

<span class="no">terms</span> <span class="kw">&lt;-</span> <span class="no">midfieldterms</span> <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>, <span class="no">institution</span>, <span class="no">term</span>, <span class="no">level</span>, <span class="no">standing</span>)

<span class="no">degrees</span> <span class="kw">&lt;-</span> <span class="no">midfielddegrees</span> <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>, <span class="no">institution</span>, <span class="no">term_degree</span>)</pre></body></html></div>
<p>Review</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu">glimpse</span>(<span class="no">students</span>)
<span class="co">#&gt; Rows: 97,640</span>
<span class="co">#&gt; Columns: 4</span>
<span class="co">#&gt; $ id          &lt;chr&gt; "MID25783135", "MID25783147", "MID25783156", "MID257831...</span>
<span class="co">#&gt; $ institution &lt;chr&gt; "Institution M", "Institution M", "Institution M", "Ins...</span>
<span class="co">#&gt; $ term_enter  &lt;dbl&gt; 19911, 20041, 20011, 19921, 20091, 20051, 19946, 20051,...</span>
<span class="co">#&gt; $ transfer    &lt;chr&gt; "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", ...</span>
<span class="fu">glimpse</span>(<span class="no">terms</span>)
<span class="co">#&gt; Rows: 727,369</span>
<span class="co">#&gt; Columns: 5</span>
<span class="co">#&gt; $ id          &lt;chr&gt; "MID25783135", "MID25783135", "MID25783147", "MID257831...</span>
<span class="co">#&gt; $ institution &lt;chr&gt; "Institution M", "Institution M", "Institution M", "Ins...</span>
<span class="co">#&gt; $ term        &lt;dbl&gt; 19911, 19913, 20041, 20043, 20051, 20053, 20055, 20061,...</span>
<span class="co">#&gt; $ level       &lt;chr&gt; "01 Freshman", "02 Sophomore", "01 Freshman", "02 Sopho...</span>
<span class="co">#&gt; $ standing    &lt;chr&gt; "First Time in College", "Good Standing", "First Time i...</span>
<span class="fu">glimpse</span>(<span class="no">degrees</span>)
<span class="co">#&gt; Rows: 97,640</span>
<span class="co">#&gt; Columns: 3</span>
<span class="co">#&gt; $ id          &lt;chr&gt; "MID25783135", "MID25783147", "MID25783156", "MID257831...</span>
<span class="co">#&gt; $ institution &lt;chr&gt; "Institution M", "Institution M", "Institution M", "Ins...</span>
<span class="co">#&gt; $ term_degree &lt;dbl&gt; NA, NA, NA, 19963, NA, NA, 20001, NA, 20023, 19966, 199...</span></pre></body></html></div>
<p>Using terms, find the min and max terms in the data for each institution</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="kw">tibble.print_min</span> <span class="kw">=</span> <span class="fl">12L</span>)
<span class="no">this_group</span> <span class="kw">&lt;-</span> <span class="fu">group_by</span>(<span class="no">terms</span>, <span class="no">institution</span>)
<span class="no">inst_span</span>  <span class="kw">&lt;-</span> <span class="fu">summarize</span>(
    <span class="no">this_group</span>,
    <span class="kw">inst_min</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span>(<span class="no">term</span>),
    <span class="kw">inst_max</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">term</span>)
    ) <span class="kw">%&gt;%</span>
    <span class="fu">arrange</span>(<span class="no">inst_min</span>)
<span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span>

<span class="no">inst_span</span>
<span class="co">#&gt; # A tibble: 12 x 3</span>
<span class="co">#&gt;    institution   inst_min inst_max</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Institution A    19871    20034</span>
<span class="co">#&gt;  2 Institution E    19871    20034</span>
<span class="co">#&gt;  3 Institution F    19871    20044</span>
<span class="co">#&gt;  4 Institution G    19871    20051</span>
<span class="co">#&gt;  5 Institution H    19871    20036</span>
<span class="co">#&gt;  6 Institution K    19871    20034</span>
<span class="co">#&gt;  7 Institution M    19871    20096</span>
<span class="co">#&gt;  8 Institution J    19873    20096</span>
<span class="co">#&gt;  9 Institution B    19884    20104</span>
<span class="co">#&gt; 10 Institution C    19903    20154</span>
<span class="co">#&gt; 11 Institution L    20021    20164</span>
<span class="co">#&gt; 12 Institution D    20041    20154</span></pre></body></html></div>
<p>For the 6-year span at the end of an institution’s data span, all graduates can be counted—the non-graduates must be checked for pos-grad-6.</p>
<p>Separate grads from non-grads.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">pos_grad6_id</span> <span class="kw">&lt;-</span> <span class="no">degrees</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(!<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(<span class="no">term_degree</span>)) <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>)

<span class="no">non_grads</span> <span class="kw">&lt;-</span> <span class="no">degrees</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(<span class="no">term_degree</span>)) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>()</pre></body></html></div>
<p>Confirm that the student IDs are unique.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu">glimpse</span>(<span class="no">pos_grad6_id</span>)
<span class="co">#&gt; Rows: 47,499</span>
<span class="co">#&gt; Columns: 1</span>
<span class="co">#&gt; $ id &lt;chr&gt; "MID25783162", "MID25783178", "MID25783188", "MID25783195", "MID...</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>(<span class="no">pos_grad6_id</span>$<span class="no">id</span>))
<span class="co">#&gt; [1] 47499</span>

<span class="fu">glimpse</span>(<span class="no">non_grads</span>)
<span class="co">#&gt; Rows: 50,141</span>
<span class="co">#&gt; Columns: 3</span>
<span class="co">#&gt; $ id          &lt;chr&gt; "MID25783135", "MID25783147", "MID25783156", "MID257831...</span>
<span class="co">#&gt; $ institution &lt;chr&gt; "Institution M", "Institution M", "Institution M", "Ins...</span>
<span class="co">#&gt; $ term_degree &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>(<span class="no">non_grads</span>$<span class="no">id</span>))
<span class="co">#&gt; [1] 50141</span></pre></body></html></div>
<p>Join the student’s entering term and transfer status and the institution’s last term with the non-grads.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">non_grads</span> <span class="kw">&lt;-</span> <span class="no">non_grads</span> <span class="kw">%&gt;%</span>
    <span class="fu">left_join</span>(<span class="no">.</span>, <span class="no">students</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"id"</span>, <span class="st">"institution"</span>)) <span class="kw">%&gt;%</span>
    <span class="fu">left_join</span>(<span class="no">.</span>, <span class="no">inst_span</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="st">"institution"</span>) <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>, <span class="no">institution</span>, <span class="no">transfer</span>, <span class="no">inst_max</span>, <span class="no">term_enter</span>) <span class="kw">%&gt;%</span>
    <span class="fu">mutate</span>(<span class="kw">delta</span> <span class="kw">=</span> <span class="no">inst_max</span> - <span class="no">term_enter</span>)

<span class="no">non_grads</span>
<span class="co">#&gt; # A tibble: 50,141 x 6</span>
<span class="co">#&gt;    id          institution   transfer inst_max term_enter delta</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 MID25783135 Institution M N           20096      19911   185</span>
<span class="co">#&gt;  2 MID25783147 Institution M N           20096      20041    55</span>
<span class="co">#&gt;  3 MID25783156 Institution M N           20096      20011    85</span>
<span class="co">#&gt;  4 MID25783166 Institution M N           20096      20091     5</span>
<span class="co">#&gt;  5 MID25783167 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  6 MID25783184 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  7 MID25783199 Institution M N           20096      20061    35</span>
<span class="co">#&gt;  8 MID25783220 Institution M N           20096      19971   125</span>
<span class="co">#&gt;  9 MID25783223 Institution M N           20096      19903   193</span>
<span class="co">#&gt; 10 MID25783226 Institution M Y           20096      20031    65</span>
<span class="co">#&gt; 11 MID25783227 Institution M N           20096      20031    65</span>
<span class="co">#&gt; 12 MID25783257 Institution M N           20096      20051    45</span>
<span class="co">#&gt; # ... with 50,129 more rows</span>

<span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>(<span class="no">non_grads</span>$<span class="no">delta</span>))
<span class="co">#&gt;   [1]   0   1   3   5   8  10  11  13  15  18  20  21  23  25  28  30  31  33</span>
<span class="co">#&gt;  [19]  35  38  40  41  43  45  48  50  51  53  55  58  60  61  62  63  65  68</span>
<span class="co">#&gt;  [37]  70  71  72  73  75  78  80  81  82  83  85  88  90  91  92  93  95  98</span>
<span class="co">#&gt;  [55] 100 101 102 103 105 108 110 111 112 113 115 118 120 121 122 123 125 128</span>
<span class="co">#&gt;  [73] 130 131 132 133 135 138 140 141 143 145 148 150 151 152 153 155 158 160</span>
<span class="co">#&gt;  [91] 161 162 163 165 166 168 170 171 172 173 175 176 178 180 181 183 185 190</span>
<span class="co">#&gt; [109] 191 193 195 200 201 203 205 210 211 213 215 220 221 223 225 230 231 233</span>
<span class="co">#&gt; [127] 241 243 250 251</span></pre></body></html></div>
<p>If the <span class="math inline">\(\Delta \geq 60\)</span> then clearly it was possible for a student to graduate in 6 years. Add the keepers to the pos-grad-6 set of IDs.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">keepers</span> <span class="kw">&lt;-</span> <span class="no">non_grads</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">delta</span> <span class="kw">&gt;=</span> <span class="fl">60</span>) <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>)

<span class="no">pos_grad6_id</span> <span class="kw">&lt;-</span> <span class="fu">bind_rows</span>(<span class="no">pos_grad6_id</span>, <span class="no">keepers</span>)
<span class="fu">glimpse</span>(<span class="no">pos_grad6_id</span>)
<span class="co">#&gt; Rows: 71,189</span>
<span class="co">#&gt; Columns: 1</span>
<span class="co">#&gt; $ id &lt;chr&gt; "MID25783162", "MID25783178", "MID25783188", "MID25783195", "MID...</span></pre></body></html></div>
<p>The group of non-grads that remains needs further study</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">study_group</span> <span class="kw">&lt;-</span> <span class="no">non_grads</span> <span class="kw">%&gt;%</span>
        <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">delta</span> <span class="kw">&lt;</span> <span class="fl">60</span>)

<span class="no">study_group</span>
<span class="co">#&gt; # A tibble: 26,451 x 6</span>
<span class="co">#&gt;    id          institution   transfer inst_max term_enter delta</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 MID25783147 Institution M N           20096      20041    55</span>
<span class="co">#&gt;  2 MID25783166 Institution M N           20096      20091     5</span>
<span class="co">#&gt;  3 MID25783167 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  4 MID25783184 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  5 MID25783199 Institution M N           20096      20061    35</span>
<span class="co">#&gt;  6 MID25783257 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  7 MID25783275 Institution M N           20096      20061    35</span>
<span class="co">#&gt;  8 MID25783284 Institution M N           20096      20041    55</span>
<span class="co">#&gt;  9 MID25783301 Institution M N           20096      20041    55</span>
<span class="co">#&gt; 10 MID25783311 Institution M N           20096      20061    35</span>
<span class="co">#&gt; 11 MID25783322 Institution M N           20096      20061    35</span>
<span class="co">#&gt; 12 MID25783344 Institution M N           20096      20041    55</span>
<span class="co">#&gt; # ... with 26,439 more rows</span></pre></body></html></div>
<p>Let’s start by separating transfers and non-transfers. Non-transfers with <span class="math inline">\(\Delta &lt; 60\)</span> will be assumed to not satisfy pos-grad-6. Their IDs will be excluded from further analysis.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">non_transfer</span> <span class="kw">&lt;-</span> <span class="no">study_group</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">transfer</span> <span class="kw">==</span> <span class="st">"N"</span>)

<span class="no">exclude_id</span> <span class="kw">&lt;-</span> <span class="no">non_transfer</span>
<span class="no">exclude_id</span>
<span class="co">#&gt; # A tibble: 23,051 x 6</span>
<span class="co">#&gt;    id          institution   transfer inst_max term_enter delta</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 MID25783147 Institution M N           20096      20041    55</span>
<span class="co">#&gt;  2 MID25783166 Institution M N           20096      20091     5</span>
<span class="co">#&gt;  3 MID25783167 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  4 MID25783184 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  5 MID25783199 Institution M N           20096      20061    35</span>
<span class="co">#&gt;  6 MID25783257 Institution M N           20096      20051    45</span>
<span class="co">#&gt;  7 MID25783275 Institution M N           20096      20061    35</span>
<span class="co">#&gt;  8 MID25783284 Institution M N           20096      20041    55</span>
<span class="co">#&gt;  9 MID25783301 Institution M N           20096      20041    55</span>
<span class="co">#&gt; 10 MID25783311 Institution M N           20096      20061    35</span>
<span class="co">#&gt; 11 MID25783322 Institution M N           20096      20061    35</span>
<span class="co">#&gt; 12 MID25783344 Institution M N           20096      20041    55</span>
<span class="co">#&gt; # ... with 23,039 more rows</span></pre></body></html></div>
<p>For the transfer students, the length of time from their entering term to the last term in the institution data depends on their entering status. Join level and standing from terms data.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">transfer</span> <span class="kw">&lt;-</span> <span class="no">study_group</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">transfer</span> <span class="kw">==</span> <span class="st">"Y"</span>) <span class="kw">%&gt;%</span>
    <span class="fu">left_join</span>(<span class="no">.</span>, <span class="no">terms</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"id"</span>, <span class="st">"institution"</span>)) <span class="kw">%&gt;%</span>
    <span class="fu">select</span>(<span class="no">id</span>, <span class="no">delta</span>, <span class="no">term_enter</span>, <span class="no">term</span>, <span class="no">level</span>, <span class="no">standing</span>)

<span class="no">transfer</span>
<span class="co">#&gt; # A tibble: 13,524 x 6</span>
<span class="co">#&gt;    id          delta term_enter  term level       standing             </span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                </span>
<span class="co">#&gt;  1 MID25821313    33      20063 20063 03 Junior   New Transfer         </span>
<span class="co">#&gt;  2 MID25853268    23      20081 20081 04 Senior   New Transfer         </span>
<span class="co">#&gt;  3 MID25853268    23      20081 20083 04 Senior   Good Standing        </span>
<span class="co">#&gt;  4 MID25853778    51      20053 20043 01 Freshman First Time in College</span>
<span class="co">#&gt;  5 MID25853778    51      20053 20053 01 Freshman Good Standing        </span>
<span class="co">#&gt;  6 MID25854173    53      20051 20051 04 Senior   New Transfer         </span>
<span class="co">#&gt;  7 MID25854173    53      20051 20053 04 Senior   Good Standing        </span>
<span class="co">#&gt;  8 MID25854239    53      20051 20051 04 Senior   New Transfer         </span>
<span class="co">#&gt;  9 MID25854239    53      20051 20053 04 Senior   Good Standing        </span>
<span class="co">#&gt; 10 MID25854239    53      20051 20054 04 Senior   Good Standing        </span>
<span class="co">#&gt; 11 MID25854239    53      20051 20061 04 Senior   Good Standing        </span>
<span class="co">#&gt; 12 MID25854239    53      20051 20063 04 Senior   Good Standing        </span>
<span class="co">#&gt; # ... with 13,512 more rows</span></pre></body></html></div>
<p>Transfers meeting any of these criteria satisfy the pos-grad-6 condition.</p>
<ul>
<li>level is Freshman and <span class="math inline">\(\Delta &gt;= 55\)</span>
</li>
<li>level is Sophomore and <span class="math inline">\(\Delta &gt;= 45\)</span>
</li>
<li>level is Junior and <span class="math inline">\(\Delta &gt;= 35\)</span>
</li>
<li>level is Senior and <span class="math inline">\(\Delta &gt;= 25\)</span>
</li>
</ul>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">keepers</span> <span class="kw">&lt;-</span> <span class="no">transfer</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>((<span class="no">level</span> <span class="kw">==</span> <span class="st">"Freshman"</span>   <span class="kw">&amp;</span> <span class="no">delta</span> <span class="kw">&gt;</span> <span class="fl">50</span>) <span class="kw">|</span>
                    (<span class="no">level</span> <span class="kw">==</span> <span class="st">"Sophomore"</span> <span class="kw">&amp;</span> <span class="no">delta</span> <span class="kw">&gt;</span> <span class="fl">40</span>) <span class="kw">|</span>
                    (<span class="no">level</span> <span class="kw">==</span> <span class="st">"Junior"</span>    <span class="kw">&amp;</span> <span class="no">delta</span> <span class="kw">&gt;</span> <span class="fl">30</span>) <span class="kw">|</span>
                    (<span class="no">level</span> <span class="kw">==</span> <span class="st">"Senior"</span>    <span class="kw">&amp;</span> <span class="no">delta</span> <span class="kw">&gt;</span> <span class="fl">20</span>)
                 )

<span class="no">keepers</span>
<span class="co">#&gt; # A tibble: 0 x 6</span>
<span class="co">#&gt; # ... with 6 variables: id &lt;chr&gt;, delta &lt;dbl&gt;, term_enter &lt;dbl&gt;, term &lt;dbl&gt;,</span>
<span class="co">#&gt; #   level &lt;chr&gt;, standing &lt;chr&gt;</span></pre></body></html></div>
</div>
<div id="issue-bin" class="section level2">
<h2 class="hasAnchor">
<a href="#issue-bin" class="anchor"></a>Issue bin</h2>
<p>By institution, last term_enter that a student could matriculate and have 6 years’ worth of data:</p>
<ul>
<li>Institution A, Institution E, Institution K, Institution H – 19981<br>
</li>
<li>Institution F, Institution G – 19991<br>
</li>
<li>Institution B, Institution M, Institution J – 20041<br>
</li>
<li>Institution C, Institution D – 20101<br>
</li>
<li>Institution L – 20111</li>
</ul>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
