<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Computing graduation rate • midfieldr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Computing graduation rate">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting_started.html">Getting started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cip_filter.html">Identifying programs by CIP codes</a>
    </li>
    <li>
      <a href="../articles/selecting_programs.html">Selecting groups of programs</a>
    </li>
    <li>
      <a href="../articles/imputing_fye.html">Imputing starting majors for FYE students</a>
    </li>
    <li>
      <a href="../articles/grad_rate.html">Computing graduation rate</a>
    </li>
    <li>
      <a href="../articles/stickiness.html">Computing stickiness</a>
    </li>
    <li>
      <a href="../articles/multiway.html">Multiway data, graphs, and tables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers/Talks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/pages/talks.html">Talks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/pages/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Computing graduation rate</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/grad_rate.Rmd"><code>vignettes/grad_rate.Rmd</code></a></small>
      <div class="hidden name"><code>grad_rate.Rmd</code></div>

    </div>

    
    
<p>In the US, the Integrated Postsecondary Education Data System (IPEDS) defines “graduation rate” as the fraction of full-time, first-time, degree/certificate-seeking undergraduate students in a particular year who complete the program in which they matriculate within 150 percent of normal time, i.e., 6 years for a 4-year program <span class="citation">(“IPEDS Survey Components” 2018)</span>.</p>
<p>The IPEDS definition excludes students who begin college part-time, who enroll mid-year, and who transfer from one institution to another. The American Council on Education (ACE) estimates that this definition of graduation rate may exclude up to 60% of students at 4-year institutions <span class="citation">(Cook and Hartle 2011)</span>.</p>
<p>So why use the metric? As Cook and Hartle state,</p>
<blockquote>
<p>So given their complexity, do college graduation rates really matter? In fact, they do because in the eyes of the public, policy makers, and the media, they provide a clear, simple, and logical—if often misleading—number.</p>
</blockquote>
<p>So with these caveats in mind, we provide the tools for determining program graduation rates per the IPEDS definition.</p>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<p>Packages used:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(seplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(midfieldr)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(midfielddata)</a></code></pre></div>
<p>In this article, we show you how to use midfieldr functions to compute program stickiness. Our workflow is:</p>
<ul>
<li>select the programs</li>
<li>count the students starting in a program</li>
<li>if the programs include engineering, impute starting majors for FYE students</li>
<li>count the students graduating<br>
</li>
<li>compute graduation rate</li>
<li>create a multiway graph</li>
</ul>
</div>
<div id="choose-the-programs-to-study" class="section level2">
<h2 class="hasAnchor">
<a href="#choose-the-programs-to-study" class="anchor"></a>Choose the programs to study</h2>
<p>The <a href="selecting_programs.html">Selecting groups of programs</a> vignette describes the process for obtaining the program codes and names for four engineering programs: Civil, Electrical, Industrial, and Mechanical. The output of that vignette is saved as a midfieldr case data set, <code>case_program_group</code>. You may</p>
<ul>
<li>create the program group by running the code in the vignette</li>
<li>or load the saved case data</li>
</ul>
<p>The case data are loaded with midfieldr. Simply assign the data to an object such as <code>program_group</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># information saved from an earlier vignette</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">program_group &lt;-<span class="st"> </span>case_program_group</a></code></pre></div>
<p>Examine the result: there are a total of 12 CIP codes for these programs. We have all six columns from the <code>cip</code> dataset and the <code>program</code> column we added using <code><a href="../reference/cip_label.html">cip_label()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># check the result</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">program_group</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; # A tibble: 12 x 7</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;    cip2  cip2name    cip4  cip4name        cip6  cip6name        program  </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;  1 14    Engineering 1408  Civil Engineer~ 1408~ Civil Engineer~ Civil En~</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;  2 14    Engineering 1408  Civil Engineer~ 1408~ Geotechnical E~ Civil En~</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;  3 14    Engineering 1408  Civil Engineer~ 1408~ Structural Eng~ Civil En~</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;  4 14    Engineering 1408  Civil Engineer~ 1408~ Transportation~ Civil En~</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  5 14    Engineering 1408  Civil Engineer~ 1408~ Water Resource~ Civil En~</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  6 14    Engineering 1408  Civil Engineer~ 1408~ Civil Engineer~ Civil En~</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  7 14    Engineering 1410  Electrical, El~ 1410~ Electrical, El~ Electric~</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  8 14    Engineering 1410  Electrical, El~ 1410~ Laser and Opti~ Electric~</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  9 14    Engineering 1410  Electrical, El~ 1410~ Telecommunicat~ Electric~</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; 10 14    Engineering 1410  Electrical, El~ 1410~ Electrical, El~ Electric~</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; 11 14    Engineering 1419  Mechanical Eng~ 1419~ Mechanical Eng~ Mechanic~</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; 12 14    Engineering 1435  Industrial Eng~ 1435~ Industrial Eng~ Industri~</span></a></code></pre></div>
</div>
<div id="starter_filter" class="section level2">
<h2 class="hasAnchor">
<a href="#starter_filter" class="anchor"></a>starter_filter()</h2>
<p>We use <code><a href="../reference/starter_filter.html">starter_filter()</a></code> to collect all students starting in the programs we are studying. <code><a href="../reference/starter_filter.html">starter_filter()</a></code> has one required argument:</p>
<ul>
<li>
<code>series</code> atomic character vector of 6-digit CIP codes</li>
</ul>
<p>The <code>series</code> argument in this case is an atomic vector of the 6-digit CIP codes in our <code>program_group</code>. The function uses these codes to search <code>midfieldstudents</code>, the default reference data set.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">program_series &lt;-<span class="st"> </span>program_group[[<span class="st">"cip6"</span>]] <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw">unique</span>(.) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw">sort</span>(.) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw">print</span>(.)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;  [1] "140801" "140802" "140803" "140804" "140805" "140899" "141001"</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;  [8] "141003" "141004" "141099" "141901" "143501"</span></a></code></pre></div>
<p>Extract all students from <code>midfieldstudents</code> starting in these programs.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">students &lt;-<span class="st"> </span><span class="kw"><a href="../reference/starter_filter.html">starter_filter</a></span>(<span class="dt">series =</span> program_series) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">glimpse</span>(.)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; Observations: 5,026</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; Variables: 2</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; $ id   &lt;chr&gt; "MID25792087", "MID25796088", "MID25799551", "MID25799578...</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; $ cip6 &lt;chr&gt; "141901", "140801", "141001", "141001", "140801", "141901...</span></a></code></pre></div>
<p>When studying engineering programs, we must account for the <a href="https://midfieldr.github.io/midfieldr/articles/imputing_fye.html">imputed starting majors</a> of students at institutions with a required first year engineering (FYE) program. For the data in this package, the imputed values are saved in the <code>case_fye</code> data set. Use <code><a href="../reference/starter_filter.html">starter_filter()</a></code> again with <code>case_fye</code> as the optional <code>reference</code> argument.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">fye &lt;-<span class="st"> </span><span class="kw"><a href="../reference/starter_filter.html">starter_filter</a></span>(<span class="dt">series =</span> program_series, <span class="dt">reference =</span> case_fye) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">glimpse</span>(.)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; Observations: 3,823</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; Variables: 2</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; $ id   &lt;chr&gt; "MID25916711", "MID25870152", "MID25873126", "MID25881417...</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; $ cip6 &lt;chr&gt; "140801", "141901", "140801", "143501", "140801", "141001...</span></a></code></pre></div>
<p>Then bind the two data frames.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">started &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(students, fye) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw">glimpse</span>(.)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; Observations: 8,849</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; Variables: 2</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; $ id   &lt;chr&gt; "MID25792087", "MID25796088", "MID25799551", "MID25799578...</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; $ cip6 &lt;chr&gt; "141901", "140801", "141001", "141001", "140801", "141901...</span></a></code></pre></div>
<p>Confirm that the CIPs are the ones we expect and that no student ID has been inadvertently duplicated.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># should be a subset of the program_group CIP we started with</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw">sort</span>(<span class="kw">unique</span>(started[[<span class="st">"cip6"</span>]]))</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; [1] "140801" "141001" "141901" "143501"</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co"># should match the dimension of starters</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="kw">isTRUE</span>(<span class="kw">nrow</span>(started) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(started[[<span class="st">"id"</span>]])))</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
<div id="grad_filter" class="section level2">
<h2 class="hasAnchor">
<a href="#grad_filter" class="anchor"></a>grad_filter()</h2>
<p>Next we gather the graduates in our program group, but restrict ourselves to students who graduate in the same program in which they started.</p>
<p>We use <code><a href="../reference/grad_filter.html">grad_filter()</a></code> to search the <code>midfielddegrees</code> dataset using the programs listed in <code>program_series</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># count students graduating from programs</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">graduated &lt;-<span class="st"> </span><span class="kw"><a href="../reference/grad_filter.html">grad_filter</a></span>(<span class="dt">series =</span> program_series) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw">print</span>(.)</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt; # A tibble: 4,676 x 2</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt;   id          cip6  </span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt; 1 MID25783178 143501</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt; 2 MID25783197 140801</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt; 3 MID25783441 140801</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; 4 MID25783491 141001</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt; 5 MID25783912 143501</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt; # ... with 4,671 more rows</span></a></code></pre></div>
<p>Open the help page by running</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">?<span class="kw"><a href="../reference/grad_filter.html">grad_filter</a></span>()</a></code></pre></div>
</div>
<div id="graduates-must-be-starters" class="section level2">
<h2 class="hasAnchor">
<a href="#graduates-must-be-starters" class="anchor"></a>Graduates must be starters</h2>
<p>Again, only students who graduate from the program in which they start are counted when computing graduation rate per the IPEDS definition. Thus we keep only those graduates whose IDs appear among the starters.</p>
<p>Before joining, we first change the <code>cip6</code> variable to <code>start</code> and <code>grad</code> in their respective data frames.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># started &lt;- rename(started, start = cip6)</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co"># graduated &lt;- rename(graduated, grad = cip6)</span></a></code></pre></div>
<p>In the join, we keep all starters and we keep only those graduates whose ID is also in the starters.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">start_series &lt;-<span class="st"> </span>started[[<span class="st">"id"</span>]] <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span><span class="kw">glimpse</span>(.)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt;  chr [1:8849] "MID25792087" "MID25796088" "MID25799551" "MID25799578" ...</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">collapse_series &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/stringr/topics/str_c">str_c</a></span>(start_series, <span class="dt">collapse =</span> <span class="st">"|"</span>)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">graduated &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">  graduated,</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">  stringr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/stringr/topics/str_detect">str_detect</a></span>(id, collapse_series)</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="st">  </span><span class="kw">print</span>(.)</a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt; # A tibble: 3,380 x 2</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt;   id          cip6  </span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt; 1 MID25783441 140801</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt; 2 MID25783491 141001</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="co">#&gt; 3 MID25783912 143501</span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18"><span class="co">#&gt; 4 MID25784334 140801</span></a>
<a class="sourceLine" id="cb12-19" data-line-number="19"><span class="co">#&gt; 5 MID25784418 140801</span></a>
<a class="sourceLine" id="cb12-20" data-line-number="20"><span class="co">#&gt; # ... with 3,375 more rows</span></a></code></pre></div>
<p>Join race and sex to both data frames, and the program names.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># assign the variables for grouping</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">grouping_variables &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"program"</span>, <span class="st">"race"</span>, <span class="st">"sex"</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co"># count students</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">started &lt;-<span class="st"> </span>started <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="../reference/race_sex_join.html">race_sex_join</a></span>(.) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="st">  </span><span class="kw">left_join</span>(., program_group, <span class="dt">by =</span> <span class="st">"cip6"</span>) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="st">  </span><span class="kw">group_summarize</span>(., grouping_variables, <span class="st">"start"</span> =<span class="st"> </span><span class="kw">n</span>()) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="st">  </span><span class="kw">print</span>(.)</a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt; # A tibble: 63 x 4</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;   program           race     sex    start</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;   &lt;chr&gt;             &lt;chr&gt;    &lt;chr&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt; 1 Civil Engineering Asian    Female    18</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt; 2 Civil Engineering Asian    Male      47</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt; 3 Civil Engineering Black    Female    56</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; 4 Civil Engineering Black    Male      99</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; 5 Civil Engineering Hispanic Female    16</span></a>
<a class="sourceLine" id="cb13-18" data-line-number="18"><span class="co">#&gt; # ... with 58 more rows</span></a>
<a class="sourceLine" id="cb13-19" data-line-number="19">graduated &lt;-<span class="st"> </span>graduated <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-20" data-line-number="20"><span class="st">  </span><span class="kw"><a href="../reference/race_sex_join.html">race_sex_join</a></span>(.) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-21" data-line-number="21"><span class="st">  </span><span class="kw">left_join</span>(., program_group, <span class="dt">by =</span> <span class="st">"cip6"</span>) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-22" data-line-number="22"><span class="st">  </span><span class="kw">group_summarize</span>(., grouping_variables, <span class="st">"grad"</span> =<span class="st"> </span><span class="kw">n</span>()) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb13-23" data-line-number="23"><span class="st">  </span><span class="kw">print</span>(.)</a>
<a class="sourceLine" id="cb13-24" data-line-number="24"><span class="co">#&gt; # A tibble: 59 x 4</span></a>
<a class="sourceLine" id="cb13-25" data-line-number="25"><span class="co">#&gt;   program           race     sex     grad</span></a>
<a class="sourceLine" id="cb13-26" data-line-number="26"><span class="co">#&gt;   &lt;chr&gt;             &lt;chr&gt;    &lt;chr&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb13-27" data-line-number="27"><span class="co">#&gt; 1 Civil Engineering Asian    Female     7</span></a>
<a class="sourceLine" id="cb13-28" data-line-number="28"><span class="co">#&gt; 2 Civil Engineering Asian    Male      18</span></a>
<a class="sourceLine" id="cb13-29" data-line-number="29"><span class="co">#&gt; 3 Civil Engineering Black    Female    18</span></a>
<a class="sourceLine" id="cb13-30" data-line-number="30"><span class="co">#&gt; 4 Civil Engineering Black    Male      33</span></a>
<a class="sourceLine" id="cb13-31" data-line-number="31"><span class="co">#&gt; 5 Civil Engineering Hispanic Female     3</span></a>
<a class="sourceLine" id="cb13-32" data-line-number="32"><span class="co">#&gt; # ... with 54 more rows</span></a></code></pre></div>
<p>And join the two data frames</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># tally stickiness, by group</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">grad_rate &lt;-<span class="st"> </span><span class="kw">left_join</span>(started, graduated, <span class="dt">by =</span> grouping_variables) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(., start <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(., <span class="dt">rate =</span> <span class="kw">round</span>(grad <span class="op">/</span><span class="st"> </span>start, <span class="dv">2</span>)) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">  </span><span class="kw">print</span>(.)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; # A tibble: 47 x 6</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt;   program           race     sex    start  grad  rate</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt;   &lt;chr&gt;             &lt;chr&gt;    &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt; 1 Civil Engineering Asian    Female    18     7  0.39</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; 2 Civil Engineering Asian    Male      47    18  0.38</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt; 3 Civil Engineering Black    Female    56    18  0.32</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; 4 Civil Engineering Black    Male      99    33  0.33</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; 5 Civil Engineering Hispanic Female    16     3  0.19</span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt; # ... with 42 more rows</span></a></code></pre></div>
<p>Graph</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># prepare data for graph</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">grad_rate_mw &lt;-<span class="st"> </span>grad_rate <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(., <span class="op">!</span>race <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"Unknown"</span>, <span class="st">"International"</span>, <span class="st">"Other"</span>)) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="st">  </span><span class="kw">filter</span>(., <span class="op">!</span>sex <span class="op">%in%</span><span class="st"> "Unknown"</span>) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(., <span class="dt">race_sex =</span> <span class="kw">str_c</span>(race, sex, <span class="dt">sep =</span> <span class="st">" "</span>)) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="st">  </span>seplyr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/seplyr/topics/select_se">select_se</a></span>(., <span class="kw">c</span>(<span class="st">"program"</span>, <span class="st">"race_sex"</span>, <span class="st">"rate"</span>)) <span class="op">%.&gt;%</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="../reference/multiway_order.html">multiway_order</a></span>(.)</a>
<a class="sourceLine" id="cb15-8" data-line-number="8"></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co"># graph</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="kw">ggplot</span>(grad_rate_mw, <span class="kw">aes</span>(<span class="dt">x =</span> rate, <span class="dt">y =</span> race_sex)) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>program, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">as.table =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Graduation rate (IPEDS definition)"</span>, <span class="dt">y =</span> <span class="st">""</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="st">  </span><span class="kw"><a href="../reference/utils_graph.html">theme_midfield</a></span>()</a></code></pre></div>
<p><img src="../man/figures/grad-rate-fig1-1.png" width="70%" style="display: block; margin: auto;"></p>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-ace2011">
<p>Cook, Bryan, and Terry W. Hartle. 2011. “Why Graduation Rates Matter—and Why They Don’t.” Edited by American Council on Education. <a href="http://www.acenet.edu/the-presidency/columns-and-features/Pages/Why-Graduation-Rates-Matter%E2%80%94and-Why-They-Don%E2%80%99t.aspx">http://www.acenet.edu/the-presidency/columns-and-features/Pages/Why-Graduation-Rates-Matter%E2%80%94and-Why-They-Don%E2%80%99t.aspx</a>.</p>
</div>
<div id="ref-ipeds2018">
<p>“IPEDS Survey Components.” 2018. National Center for Education Statistics (NCES); <a href="https://nces.ed.gov/ipeds/use-the-data/survey-components/outcome-measures" class="uri">https://nces.ed.gov/ipeds/use-the-data/survey-components/outcome-measures</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#getting-started">Getting started</a></li>
      <li><a href="#choose-the-programs-to-study">Choose the programs to study</a></li>
      <li><a href="#starter_filter">starter_filter()</a></li>
      <li><a href="#grad_filter">grad_filter()</a></li>
      <li><a href="#graduates-must-be-starters">Graduates must be starters</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
