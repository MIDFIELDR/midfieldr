<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Multiway graphs • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="../deps/bs3compat-0.2.5.1/tabs.js"></script><script src="../deps/bs3compat-0.2.5.1/bs3compat.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<link href="../syntax-highlighting.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Multiway graphs">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc" data-headroom>
    

      <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a class="navbar-brand mb-0 h1" href="../index.html">midfieldr</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <button type="button" id="version-badge" class="badge badge-default d-none d-lg-block" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Released version">1.0.0.9018</button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav mr-auto ml-3">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-002-case-study-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-004-case-study-students.html">Students</a>
    <a class="dropdown-item" href="../articles/art-006-case-study-stickiness.html">Stickiness</a>
    <a class="dropdown-item" href="../articles/art-008-case-study-grad-rate.html">Graduation rate</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-010-program-codes.html">Program codes and names</a>
    <a class="dropdown-item" href="../articles/art-015-subsetting-midfield-data.html">Subsetting MIDFIELD data</a>
    <a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-030-timely-completion.html">Timely completion</a>
    <a class="dropdown-item" href="../articles/art-040-fye-programs.html">FYE programs</a>
    <a class="dropdown-item" href="../articles/art-050-multiway-graphs.html">Multiway graphs</a>
    <a class="dropdown-item" href="../articles/art-060-tabulating-data.html">Tabulating data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control mr-sm-2" aria-label="Search" name="search-input" data-search-index="/search.json" id="search-input" placeholder="Search..." autocomplete="off">
</form>

      <ul class="navbar-nav ml-1">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
  </div>
</nav><div class="container template-article">
<script src="art-050-multiway-graphs_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <img src="../package-logo.png" class="pkg-logo" alt=""><div class="page-header pb-2 mt-4 mb-2 border-bottom toc-ignore">
      <h1 class="display-4" data-toc-skip>Multiway graphs</h1>
                        <h4 data-toc-skip class="author">Richard Layton</h4>
            
            <h4 data-toc-skip class="date">2021-07-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/art-050-multiway-graphs.Rmd" class="external-link"><code>vignettes/art-050-multiway-graphs.Rmd</code></a></small>
      <div class="d-none name"><code>art-050-multiway-graphs.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor" aria-hidden="true"></a>Introduction</h2>
<p>We take some time in this early tutorial to create some graphs because, as Wickham and Grolemund state <span class="citation"><a href="#ref-Wickham+Grolemund:2017" role="doc-biblioref">[1]</a></span>,</p>
<blockquote>
<p>Visualization is a great place to start with R programming, because the payoff is so clear; you get to make elegant and informative plots that help you understand the data.</p>
</blockquote>
<p>In particular, we introduce graphs of <em>multiway data</em> in which there is is one quantitative variable and two categorical variables. As explained by Cleveland <span class="citation"><a href="#ref-Cleveland:1993" role="doc-biblioref">[2]</a></span>,</p>
<blockquote>
<p>… the quantitative variable is a response, and the goal is to study how it depends on the categorical variables, which are factors. What distinguishes multiway data is the cross-classification of the categorical variables; there is a value of the response for each combination of levels of the two categorical variables.</p>
</blockquote>
<p>The structure of multiway data is specific: a categorical variable with <span class="math inline">\(m\)</span> levels; an independent categorical variable with <span class="math inline">\(n\)</span> levels; and a single quantitative value associated with every combinations of levels of the two categories. Multiway data are typically organized as three columns with <span class="math inline">\(m \times n\)</span> rows.</p>
<p>Note that “multiway” in our context refers to the data structure and graph design defined by Cleveland, not to the methods of analysis described by Kroonenberg <span class="citation"><a href="#ref-Kroonenberg:2008" role="doc-biblioref">[3]</a></span>.</p>
<div id="outline" class="section level3">
<h3 class="hasAnchor">
<a href="#outline" class="anchor" aria-hidden="true"></a>Outline</h3>
<ul>
<li>Start with the case study stickiness results (<code>study_stickiness</code>)</li>
<li>Practice conditioning multiway data for display</li>
<li>Practice creating multiway graphs and their duals</li>
<li>Practice tabulating multiway data</li>
</ul>
</div>
<div id="in-this-vignette" class="section level3">
<h3 class="hasAnchor">
<a href="#in-this-vignette" class="anchor" aria-hidden="true"></a>In this vignette</h3>
<p>midfieldr functions</p>
<ul>
<li><a href="../reference/condition_multiway.html"><code>condition_multiway()</code></a></li>
</ul>
<p>packages</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/sfirke/janitor" class="external-link">"janitor"</a></span><span class="op">)</span></code></pre></div>
<p>We can control how a data.table is printed to the screen with the following options.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># optional code to control data.table printing</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>
  datatable.print.nrows <span class="op">=</span> <span class="fl">10</span>,
  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,
  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
</div>
</div>
<div id="prepare-data" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-data" class="anchor" aria-hidden="true"></a>Prepare data</h2>
<p>Longitudinal “stickiness” is the ratio of the number of students graduating in a program to the number of students ever enrolled in that program <span class="citation"><a href="#ref-Ohland+Orr+others:2012" role="doc-biblioref">[4]</a></span>. The stickiness metric is developed in a separate vignette—here we focus on graphing a result.</p>
<p>We computed stickiness for a case study in Civil, Electrical, Industrial, and Mechanical Engineering and saved the results as the data set, <code>study_stickiness</code>. You may view its help page by running</p>
<pre><code><a href="../reference/study_stickiness.html">? study_stickiness</a></code></pre>
<p>The data is loaded with midfieldr (we don’t have to use <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> to access it.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># examine the built-in data</span>
<span class="va">study_stickiness</span>
<span class="co">#&gt;        program            race    sex  ever  grad stick</span>
<span class="co">#&gt;         &lt;char&gt;          &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil           Asian Female    17    12  70.6</span>
<span class="co">#&gt;  2:      Civil           Black Female    54    28  51.9</span>
<span class="co">#&gt;  3:      Civil           White Female   329   232  70.5</span>
<span class="co">#&gt;  4:      Civil           Asian   Male    37    24  64.9</span>
<span class="co">#&gt;  5:      Civil           Black   Male    98    43  43.9</span>
<span class="co">#&gt; ---                                                    </span>
<span class="co">#&gt; 34: Mechanical Hispanic/Latinx   Male    76    47  61.8</span>
<span class="co">#&gt; 35: Mechanical   International   Male    37    19  51.4</span>
<span class="co">#&gt; 36: Mechanical Native American   Male    14     8  57.1</span>
<span class="co">#&gt; 37: Mechanical   Other/Unknown   Male    48    28  58.3</span>
<span class="co">#&gt; 38: Mechanical           White   Male  1940  1265  65.2</span></code></pre></div>
<p>Categorical variables are often provided as character variables. Without ordering the levels, the rows and panels of the multiway graph are ordered alphabetically—not the best design for gaining insights from the graph.</p>
<p>To condition the categorical variables, we use <code><a href="../reference/condition_multiway.html">condition_multiway()</a></code> to convert them to factors with levels ordered by the median response values. To see its help page, run</p>
<pre><code>? condition_multiway()</code></pre>
<p>The function requires exactly three columns, two for the categorical variables and one for the quantitative variables. To achieve that, we combine race and sex into one column,</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a new memory location</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_stickiness</span><span class="op">)</span>

<span class="co"># Construct one of the categorical variables </span>
<span class="va">DT</span><span class="op">[</span>, <span class="va">race_sex</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span>

<span class="co"># Examine the result</span>
<span class="va">DT</span>
<span class="co">#&gt;        program            race    sex  ever  grad stick             race_sex</span>
<span class="co">#&gt;         &lt;char&gt;          &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt;               &lt;char&gt;</span>
<span class="co">#&gt;  1:      Civil           Asian Female    17    12  70.6         Asian Female</span>
<span class="co">#&gt;  2:      Civil           Black Female    54    28  51.9         Black Female</span>
<span class="co">#&gt;  3:      Civil           White Female   329   232  70.5         White Female</span>
<span class="co">#&gt;  4:      Civil           Asian   Male    37    24  64.9           Asian Male</span>
<span class="co">#&gt;  5:      Civil           Black   Male    98    43  43.9           Black Male</span>
<span class="co">#&gt; ---                                                                         </span>
<span class="co">#&gt; 34: Mechanical Hispanic/Latinx   Male    76    47  61.8 Hispanic/Latinx Male</span>
<span class="co">#&gt; 35: Mechanical   International   Male    37    19  51.4   International Male</span>
<span class="co">#&gt; 36: Mechanical Native American   Male    14     8  57.1 Native American Male</span>
<span class="co">#&gt; 37: Mechanical   Other/Unknown   Male    48    28  58.3   Other/Unknown Male</span>
<span class="co">#&gt; 38: Mechanical           White   Male  1940  1265  65.2           White Male</span></code></pre></div>
<p>And we select the columns we need, dropping the others,</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Keep the multiway variables</span>
<span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"race_sex"</span>, <span class="st">"stick"</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">..cols_we_want</span><span class="op">]</span>

<span class="co"># Examine the result</span>
<span class="va">DT</span>
<span class="co">#&gt;        program             race_sex stick</span>
<span class="co">#&gt;         &lt;char&gt;               &lt;char&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil         Asian Female  70.6</span>
<span class="co">#&gt;  2:      Civil         Black Female  51.9</span>
<span class="co">#&gt;  3:      Civil         White Female  70.5</span>
<span class="co">#&gt;  4:      Civil           Asian Male  64.9</span>
<span class="co">#&gt;  5:      Civil           Black Male  43.9</span>
<span class="co">#&gt; ---                                      </span>
<span class="co">#&gt; 34: Mechanical Hispanic/Latinx Male  61.8</span>
<span class="co">#&gt; 35: Mechanical   International Male  51.4</span>
<span class="co">#&gt; 36: Mechanical Native American Male  57.1</span>
<span class="co">#&gt; 37: Mechanical   Other/Unknown Male  58.3</span>
<span class="co">#&gt; 38: Mechanical           White Male  65.2</span></code></pre></div>
<p>The quantitative variable is <code>stick</code> (stickiness); the first categorical variable is <code>program</code>; the second categorical variable is race/ethnicity/sex. Before conditioning, the categorical variables are characters,</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first category is a character</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span>

<span class="co"># second category is a character</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span></code></pre></div>
<p>We process the data frame</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># condition as multiway data</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></code></pre></div>
<p>No change to the row and column structure, but as you can see, the previous character variables have been converted to factors,</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DT</span>
<span class="co">#&gt;        program             race_sex stick</span>
<span class="co">#&gt;         &lt;fctr&gt;               &lt;fctr&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil         Asian Female  70.6</span>
<span class="co">#&gt;  2:      Civil         Black Female  51.9</span>
<span class="co">#&gt;  3:      Civil         White Female  70.5</span>
<span class="co">#&gt;  4:      Civil           Asian Male  64.9</span>
<span class="co">#&gt;  5:      Civil           Black Male  43.9</span>
<span class="co">#&gt; ---                                      </span>
<span class="co">#&gt; 34: Mechanical Hispanic/Latinx Male  61.8</span>
<span class="co">#&gt; 35: Mechanical   International Male  51.4</span>
<span class="co">#&gt; 36: Mechanical Native American Male  57.1</span>
<span class="co">#&gt; 37: Mechanical   Other/Unknown Male  58.3</span>
<span class="co">#&gt; 38: Mechanical           White Male  65.2</span></code></pre></div>
<p>The levels of the factors are ordered non-alphabetically. <code>program</code> is now a factor with 4 levels; <code>race_sex</code> is a factor with 11 levels.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first category is now a factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="co">#&gt; [1] "Civil"      "Industrial" "Mechanical" "Electrical"</span>

<span class="co"># second category is now a factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Black Male"             "Other/Unknown Male"     "International Male"    </span>
<span class="co">#&gt;  [4] "Black Female"           "Native American Male"   "Hispanic/Latinx Male"  </span>
<span class="co">#&gt;  [7] "Asian Male"             "White Female"           "White Male"            </span>
<span class="co">#&gt; [10] "Asian Female"           "Hispanic/Latinx Female"</span></code></pre></div>
<p>We would expect 4 <span class="math inline">\(\times\)</span> 9 = 36 observations. However, some rows are omitted to preserve confidentiality, leaving us with 38 observations.</p>
<p>The median values that determine the order of the levels can be obtained by using the <code>details</code> argument.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># return median stickiness by category</span>
<span class="va">DT_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span>, details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>By ordering the data by <code>program</code>, you can see that a given program has a single value of <code>med_program</code> copied as many times as needed.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># optional code to control data.table printing</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>datatable.print.topn <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>

<span class="co"># programs have a median stickiness across race-sex groups</span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;        program               race_sex med_program med_race_sex stick</span>
<span class="co">#&gt;         &lt;fctr&gt;                 &lt;fctr&gt;       &lt;num&gt;        &lt;num&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil           Asian Female       58.90        70.85  70.6</span>
<span class="co">#&gt;  2:      Civil           Black Female       58.90        56.95  51.9</span>
<span class="co">#&gt;  3:      Civil           White Female       58.90        65.10  70.5</span>
<span class="co">#&gt;  4:      Civil             Asian Male       58.90        63.90  64.9</span>
<span class="co">#&gt;  5:      Civil             Black Male       58.90        45.90  43.9</span>
<span class="co">#&gt;  6:      Civil   Hispanic/Latinx Male       58.90        60.35  58.9</span>
<span class="co">#&gt;  7:      Civil     International Male       58.90        52.95  42.9</span>
<span class="co">#&gt;  8:      Civil     Other/Unknown Male       58.90        50.00  31.2</span>
<span class="co">#&gt;  9:      Civil             White Male       58.90        65.10  68.3</span>
<span class="co">#&gt; 10: Industrial           Asian Female       59.60        70.85  50.0</span>
<span class="co">#&gt; ---                                                                 </span>
<span class="co">#&gt; 29: Electrical           Asian Female       62.45        70.85  71.1</span>
<span class="co">#&gt; 30: Electrical           Black Female       62.45        56.95  61.7</span>
<span class="co">#&gt; 31: Electrical Hispanic/Latinx Female       62.45        72.05  71.4</span>
<span class="co">#&gt; 32: Electrical           White Female       62.45        65.10  63.2</span>
<span class="co">#&gt; 33: Electrical             Asian Male       62.45        63.90  64.5</span>
<span class="co">#&gt; 34: Electrical             Black Male       62.45        45.90  45.1</span>
<span class="co">#&gt; 35: Electrical   Hispanic/Latinx Male       62.45        60.35  55.2</span>
<span class="co">#&gt; 36: Electrical     International Male       62.45        52.95  59.2</span>
<span class="co">#&gt; 37: Electrical     Other/Unknown Male       62.45        50.00  50.0</span>
<span class="co">#&gt; 38: Electrical             White Male       62.45        65.10  63.7</span></code></pre></div>
<p>Similarly, by ordering the data by <code>race_sex</code>, you can see that a given demographic group has a single value of <code>med_race_sex</code> copied as many times as needed.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># race_sex groupings have a median stickiness across programs</span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;        program               race_sex med_program med_race_sex stick</span>
<span class="co">#&gt;         &lt;fctr&gt;                 &lt;fctr&gt;       &lt;num&gt;        &lt;num&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil             Black Male       58.90        45.90  43.9</span>
<span class="co">#&gt;  2: Electrical             Black Male       62.45        45.90  45.1</span>
<span class="co">#&gt;  3: Industrial             Black Male       59.60        45.90  53.8</span>
<span class="co">#&gt;  4: Mechanical             Black Male       61.80        45.90  46.7</span>
<span class="co">#&gt;  5:      Civil     Other/Unknown Male       58.90        50.00  31.2</span>
<span class="co">#&gt;  6: Electrical     Other/Unknown Male       62.45        50.00  50.0</span>
<span class="co">#&gt;  7: Mechanical     Other/Unknown Male       61.80        50.00  58.3</span>
<span class="co">#&gt;  8:      Civil     International Male       58.90        52.95  42.9</span>
<span class="co">#&gt;  9: Electrical     International Male       62.45        52.95  59.2</span>
<span class="co">#&gt; 10: Industrial     International Male       59.60        52.95  54.5</span>
<span class="co">#&gt; ---                                                                 </span>
<span class="co">#&gt; 29:      Civil             White Male       58.90        65.10  68.3</span>
<span class="co">#&gt; 30: Electrical             White Male       62.45        65.10  63.7</span>
<span class="co">#&gt; 31: Industrial             White Male       59.60        65.10  65.0</span>
<span class="co">#&gt; 32: Mechanical             White Male       61.80        65.10  65.2</span>
<span class="co">#&gt; 33:      Civil           Asian Female       58.90        70.85  70.6</span>
<span class="co">#&gt; 34: Electrical           Asian Female       62.45        70.85  71.1</span>
<span class="co">#&gt; 35: Industrial           Asian Female       59.60        70.85  50.0</span>
<span class="co">#&gt; 36: Mechanical           Asian Female       61.80        70.85  82.6</span>
<span class="co">#&gt; 37: Electrical Hispanic/Latinx Female       62.45        72.05  71.4</span>
<span class="co">#&gt; 38: Mechanical Hispanic/Latinx Female       61.80        72.05  72.7</span></code></pre></div>
<div id="exercises" class="section level3">
<h3 class="hasAnchor">
<a href="#exercises" class="anchor" aria-hidden="true"></a>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Determine the class of the categorical variables in the built-in data set <code>study_grad_rate</code>.</li>
<li>Apply <code><a href="../reference/condition_multiway.html">condition_multiway()</a></code>. Confirm that the categorical variables are factors.</li>
<li>Determine the order of the factor levels.</li>
</ol>
</div>
</div>
<div id="create-a-multiway-graph" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-multiway-graph" class="anchor" aria-hidden="true"></a>Create a multiway graph</h2>
<p>We use conventional ggplot2 functions to create the multiway graphs.</p>
<p>By previously ordering the levels of the factors, we have structured the data so that the rows and panels of the multiway graph are ordered by the appropriate medians. The panel medians are drawn as vertical dashed lines.</p>
<p><em>Reminder:</em> These are practice data, not suitable for drawing inferences about student performance, i.e., not for research.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create one multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">race_sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_program</span><span class="op">)</span>,
    linetype <span class="op">=</span> <span class="fl">2</span>,
    color <span class="op">=</span> <span class="st">"gray70"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"Stickiness"</span>,
    y <span class="op">=</span> <span class="st">""</span>,
    title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>,
    caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span>
  <span class="op">)</span></code></pre></div>
<p><img src="../man/figures/art-050-multiway-graphs-fig1-1.png" width="70%" style="display: block; margin: auto;"><br></p>
<p>This graph permits a direct visual comparison of how stickiness varies by race and sex within a particular major.</p>
<p>Reading a multiway graph</p>
<ul>
<li>We can more effectively compare values within a panel than between panels.</li>
<li>Because rows are ordered, one expects a generally increasing trend within a panel. A response greater or smaller than expected creates a visual asymmetry. The interesting stories are often in these visual anomalies.</li>
<li>To explore the comparison between panels, we swap the row and panel categories, creating the dual multiway.</li>
</ul>
<div id="exercise" class="section level3">
<h3 class="hasAnchor">
<a href="#exercise" class="anchor" aria-hidden="true"></a>Exercise</h3>
<ol style="list-style-type: decimal">
<li>Create a multiway graph using the conditioned <code>study_grad_rate</code> data</li>
</ol>
</div>
</div>
<div id="create-the-dual-multiway-graph" class="section level2">
<h2 class="hasAnchor">
<a href="#create-the-dual-multiway-graph" class="anchor" aria-hidden="true"></a>Create the dual multiway graph</h2>
<p>The previous graph does not facilitate visual comparisons of members of the same race-sex group. As Cleveland says,</p>
<blockquote>
<p>Because of this asymmetry, it is often important to explore multiway data by as many multiway dot plots as there are categorical variables, with each variable assigned once to the levels.</p>
</blockquote>
<p>To create the <em>dual multiway</em> graph, we swap the roles of the rows and panels.</p>
<ul>
<li>
<code>y = race_sex</code> becomes <code>y = program</code>
</li>
<li>
<code>facet_wrap(vars(program) ...</code> becomes <code>facet_wrap(vars(race_sex) ...</code>
</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create the dual multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">program</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_race_sex</span><span class="op">)</span>,
    linetype <span class="op">=</span> <span class="fl">2</span>,
    color <span class="op">=</span> <span class="st">"gray70"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"Stickiness"</span>,
    y <span class="op">=</span> <span class="st">""</span>,
    title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>,
    caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span>
  <span class="op">)</span></code></pre></div>
<p><img src="../man/figures/art-050-multiway-graphs-fig2-1.png" width="70%" style="display: block; margin: auto;"><br></p>
<p>This graph permits a direct visual comparison of how stickiness varies by major for one group of students.</p>
<p>Both multiways should be created for discussion. Usually one or the other will convey a more compelling visual story that gets included in the published findings.</p>
<div id="exercise-1" class="section level3">
<h3 class="hasAnchor">
<a href="#exercise-1" class="anchor" aria-hidden="true"></a>Exercise</h3>
<ol style="list-style-type: decimal">
<li>Create the dual multiway graph using the conditioned <code>study_grad_rate</code> data</li>
</ol>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor" aria-hidden="true"></a>References</h2>
<div id="refs" class="references csl-bib-body references csl-bib-body">
<div id="ref-Wickham+Grolemund:2017" class="csl-entry">
<div class="csl-left-margin">[1] </div>
<div class="csl-right-inline">H. Wickham and G. Grolemund, <em><span class="nocase">R for Data Science</span></em>. Sebastopol, CA: <span>O’Reilly Media, Inc.</span>, 2017 [Online]. Available: <a href="https://r4ds.had.co.nz/" class="external-link">https://r4ds.had.co.nz/</a>
</div>
</div>
<div id="ref-Cleveland:1993" class="csl-entry">
<div class="csl-left-margin">[2] </div>
<div class="csl-right-inline">W. S. Cleveland, <em><span>Visualizing Data</span></em>. Summit, NJ: <span>Hobart Press</span>, 1993. </div>
</div>
<div id="ref-Kroonenberg:2008" class="csl-entry">
<div class="csl-left-margin">[3] </div>
<div class="csl-right-inline">P. M. Kroonenberg, <em><span>Applied Multiway Data Analysis</span></em>. Hoboken, NJ: <span>Wiley</span>, 2008. </div>
</div>
<div id="ref-Ohland+Orr+others:2012" class="csl-entry">
<div class="csl-left-margin">[4] </div>
<div class="csl-right-inline">M. Ohland, M. Orr, R. Layton, S. Lord, and R. Long, <span>“<span class="nocase">Introducing stickiness as a versatile metric of engineering persistence</span>,”</span> in <em><span class="nocase">Proceedings of the Frontiers in Education Conference</span></em>, 2012, pp. 1–5. </div>
</div>
</div>
</div>
<div id="appendix" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix" class="anchor" aria-hidden="true"></a>Appendix</h2>
<div id="complete-script" class="section level3">
<h3 class="hasAnchor">
<a href="#complete-script" class="anchor" aria-hidden="true"></a>Complete script</h3>
<p>The vignette code chunks are collected below in a single, condensed script.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span>

<span class="co"># optional code to control data.table printing</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>
  datatable.print.nrows <span class="op">=</span> <span class="fl">10</span>,
  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,
  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="co"># data preparation</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_stickiness</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="va">DT_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span>, details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>

<span class="co"># creating a multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">race_sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_program</span><span class="op">)</span>,
    linetype <span class="op">=</span> <span class="fl">2</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"Stickiness"</span>,
    y <span class="op">=</span> <span class="st">""</span>,
    title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>,
    caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span>
  <span class="op">)</span>

<span class="co"># creating the dual multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">program</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_race_sex</span><span class="op">)</span>,
    linetype <span class="op">=</span> <span class="fl">2</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"Stickiness"</span>,
    y <span class="op">=</span> <span class="st">""</span>,
    title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>,
    caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span>
  <span class="op">)</span>

<span class="co"># creating a table for publication</span>
<span class="va">block_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="va">block_form</span><span class="op">[</span>, <span class="va">stick</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">stick</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">block_form</span><span class="op">)</span>
<span class="va">row_form</span><span class="op">[</span>, <span class="va">race_sex</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">row_form</span>, <span class="va">race_sex</span> <span class="op">~</span> <span class="va">program</span>, value.var <span class="op">=</span> <span class="st">"stick"</span><span class="op">)</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">row_form</span>,
  old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>
    <span class="st">"race_sex"</span>,
    <span class="st">"Civil Engineering"</span>,
    <span class="st">"Electrical Engineering"</span>,
    <span class="st">"Industrial Engineering"</span>,
    <span class="st">"Mechanical Engineering"</span>
  <span class="op">)</span>,
  new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>
    <span class="st">"Race/ethnicity/sex"</span>,
    <span class="st">"Civil"</span>,
    <span class="st">"Electrical"</span>,
    <span class="st">"Industrial"</span>,
    <span class="st">"Mechanical"</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<style type="text/css">
blockquote {
    padding: 10px 20px;
    margin: 0 0 20px;
    font-size: 12px;
    border-left: 0px solid
}
</style>
</div>
</div>
  </div>
 <div class="col-md-3 d-none d-md-block" id="pkgdown-sidebar">
        <div class="sticky-top">
    <nav id="toc"><h2 data-toc-skip>Contents</h2>

    </nav>
</div>
      </div>

</div>



      <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link external-link">Richard Layton</a>, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  

  

  </body>
</html>
