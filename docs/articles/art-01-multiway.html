<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multiway graphs and tables • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Multiway graphs and tables">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9014</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/art-00-midfield-data.html">Introduction</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/art-01-multiway.html">Multiway graphs and tables</a>
    </li>
    <li>
      <a href="../articles/art-02-program-codes.html">Program codes</a>
    </li>
    <li>
      <a href="../articles/art-03-case-selection.html">Case selection</a>
    </li>
    <li>
      <a href="../articles/art-04-data-sufficiency.html">Data sufficiency</a>
    </li>
    <li>
      <a href="../articles/art-05-stickiness.html">Stickiness</a>
    </li>
    <li>
      <a href="../articles/art-06-timely-completion.html">Timely completion</a>
    </li>
    <li>
      <a href="../articles/art-07-fye-programs.html">FYE programs</a>
    </li>
    <li>
      <a href="../articles/art-08-graduation-rate.html">Graduation rate</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="art-01-multiway_files/header-attrs-2.8/header-attrs.js"></script><script src="art-01-multiway_files/kePrint-0.0.1/kePrint.js"></script><link href="art-01-multiway_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Multiway graphs and tables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/art-01-multiway.Rmd" class="external-link"><code>vignettes/art-01-multiway.Rmd</code></a></small>
      <div class="hidden name"><code>art-01-multiway.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor" aria-hidden="true"></a>Introduction</h2>
<p>We take some time in this early tutorial to create some graphs because, as Wickham and Grolemund state <span class="citation">(<a href="#ref-Wickham+Grolemund:2017" role="doc-biblioref">2017</a>)</span>,</p>
<p><small></small></p>
<blockquote>
<p>Visualization is a great place to start with R programming, because the payoff is so clear; you get to make elegant and informative plots that help you understand the data.</p>
</blockquote>
<p></p>
<p>In particular, we introduce graphs of <em>multiway data</em> in which there is is one quantitative variable and two categorical variables. As explained by Cleveland <span class="citation">(<a href="#ref-Cleveland:1993" role="doc-biblioref">1993</a>)</span>,</p>
<p><small></small></p>
<blockquote>
<p>… the quantitative variable is a response, and the goal is to study how it depends on the categorical variables, which are factors. What distinguishes multiway data is the cross-classification of the categorical variables; there is a value of the response for each combination of levels of the two categorical variables.</p>
</blockquote>
<p></p>
<p>The structure of multiway data is specific: a categorical variable with <span class="math inline">\(m\)</span> levels; an independent categorical variable with <span class="math inline">\(n\)</span> levels; and a single quantitative value associated with every combinations of levels of the two categories. Multiway data are typically organized as three columns with <span class="math inline">\(m \times n\)</span> rows.</p>
<p>Note that “multiway” in our context refers to the data structure and graph design defined by Cleveland, not to the methods of analysis described by Kroonenberg <span class="citation">(<a href="#ref-Kroonenberg:2008" role="doc-biblioref">2008</a>)</span>.</p>
<div id="outline" class="section level3">
<h3 class="hasAnchor">
<a href="#outline" class="anchor" aria-hidden="true"></a>Outline</h3>
<ul>
<li>Start with the case study stickiness results (<code>study_stickiness</code>)</li>
<li>Practice conditioning multiway data for display</li>
<li>Practice creating multiway graphs and their duals</li>
<li>Practice tabulating multiway data</li>
</ul>
</div>
<div id="this-vignette-uses" class="section level3">
<h3 class="hasAnchor">
<a href="#this-vignette-uses" class="anchor" aria-hidden="true"></a>This vignette uses</h3>
<p>midfieldr functions</p>
<ul>
<li><code><a href="../reference/condition_multiway.html">condition_multiway()</a></code></li>
</ul>
<p>packages</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></code></pre></div>
<p>We can control how a data.table is printed to the screen with the following options.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># optional code to control data.table printing</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>datatable.print.nrows <span class="op">=</span> <span class="fl">10</span>, 
        datatable.print.topn  <span class="op">=</span> <span class="fl">5</span>, 
        datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="prepare-data" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-data" class="anchor" aria-hidden="true"></a>Prepare data</h2>
<p>Longitudinal “stickiness” is the ratio of the number of students graduating in a program to the number of students ever enrolled in that program <span class="citation">(<a href="#ref-Ohland+Orr+others:2012" role="doc-biblioref">Ohland et al., 2012</a>)</span>. The stickiness metric is developed in a separate vignette—here we focus on graphing a result.</p>
<p>We computed stickiness for a case study in Civil, Electrical, Industrial, and Mechanical Engineering and saved the results as the data set, <code>study_stickiness</code>. You may view its help page by running</p>
<pre><code><a href="../reference/study_stickiness.html">? study_stickiness</a></code></pre>
<p>The data is loaded with midfieldr (we don’t have to use <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> to access it.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># examine the built-in data </span>
<span class="va">study_stickiness</span>
<span class="co">#&gt;                    program             race_sex stick</span>
<span class="co">#&gt;                     &lt;char&gt;               &lt;char&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil Engineering         Asian Female  0.45</span>
<span class="co">#&gt;  2:      Civil Engineering         Black Female  0.35</span>
<span class="co">#&gt;  3:      Civil Engineering         White Female  0.46</span>
<span class="co">#&gt;  4:      Civil Engineering           Asian Male  0.48</span>
<span class="co">#&gt;  5:      Civil Engineering           Black Male  0.36</span>
<span class="co">#&gt; ---                                                  </span>
<span class="co">#&gt; 27: Mechanical Engineering           Asian Male  0.57</span>
<span class="co">#&gt; 28: Mechanical Engineering           Black Male  0.35</span>
<span class="co">#&gt; 29: Mechanical Engineering Hispanic/Latinx Male  0.43</span>
<span class="co">#&gt; 30: Mechanical Engineering Native American Male  0.29</span>
<span class="co">#&gt; 31: Mechanical Engineering           White Male  0.46</span></code></pre></div>
<p>Categorical variables are often provided as character variables. Without ordering the levels, the rows and panels of the multiway graph are ordered alphabetically—not the best design for gaining insights from the graph.</p>
<p>To condition the categorical variables, we use <code><a href="../reference/condition_multiway.html">condition_multiway()</a></code> to convert them to factors with levels ordered by the median response values. To see its help page, run</p>
<pre><code>? condition_multiway()</code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a new memory location </span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_stickiness</span><span class="op">)</span></code></pre></div>
<p>The quantitative variable is <code>stick</code> (stickiness); the first categorical variable is <code>program</code>; the second categorical variable is race/ethnicity/sex. Before conditioning, the categorical variables are characters,</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first category is a character</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span>

<span class="co"># second category is a character</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span></code></pre></div>
<p>We process the data frame</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># condition as multiway data</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></code></pre></div>
<p>No change to the row and column structure, but as you can see, the previous character variables have been converted to factors,</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DT</span>
<span class="co">#&gt;                    program             race_sex stick</span>
<span class="co">#&gt;                     &lt;fctr&gt;               &lt;fctr&gt; &lt;num&gt;</span>
<span class="co">#&gt;  1:      Civil Engineering         Asian Female  0.45</span>
<span class="co">#&gt;  2:      Civil Engineering         Black Female  0.35</span>
<span class="co">#&gt;  3:      Civil Engineering         White Female  0.46</span>
<span class="co">#&gt;  4:      Civil Engineering           Asian Male  0.48</span>
<span class="co">#&gt;  5:      Civil Engineering           Black Male  0.36</span>
<span class="co">#&gt; ---                                                  </span>
<span class="co">#&gt; 27: Mechanical Engineering           Asian Male  0.57</span>
<span class="co">#&gt; 28: Mechanical Engineering           Black Male  0.35</span>
<span class="co">#&gt; 29: Mechanical Engineering Hispanic/Latinx Male  0.43</span>
<span class="co">#&gt; 30: Mechanical Engineering Native American Male  0.29</span>
<span class="co">#&gt; 31: Mechanical Engineering           White Male  0.46</span></code></pre></div>
<p>The levels of the factors are ordered non-alphabetically. <code>program</code> is now a factor with 4 levels; <code>race_sex</code> is a factor with 9 levels.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first category is now a factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="co">#&gt; [1] "Electrical Engineering" "Mechanical Engineering" "Civil Engineering"     </span>
<span class="co">#&gt; [4] "Industrial Engineering"</span>

<span class="co"># second category is now a factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="co">#&gt; [1] "Native American Male"   "Black Male"             "Black Female"          </span>
<span class="co">#&gt; [4] "Hispanic/Latinx Female" "White Female"           "Hispanic/Latinx Male"  </span>
<span class="co">#&gt; [7] "Asian Female"           "White Male"             "Asian Male"</span></code></pre></div>
<p>We would expect 4 <span class="math inline">\(\times\)</span> 9 = 36 observations. However, some rows are omitted to preserve confidentiality, leaving us with 31 observations.</p>
<p>The median values that determine the order of the levels can be obtained by using the <code>details</code> argument.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># return median stickiness by category</span>
<span class="va">DT_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span>, details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>By ordering the data by <code>program</code>, you can see that a given program has a single value of <code>med_program</code> copied as many times as needed.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># optional code to control data.table printing</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>datatable.print.topn  <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>

<span class="co"># programs have a median stickiness across race-sex groups  </span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;                    program               race_sex med_program med_race_sex</span>
<span class="co">#&gt;                     &lt;fctr&gt;                 &lt;fctr&gt;       &lt;num&gt;        &lt;num&gt;</span>
<span class="co">#&gt;  1: Electrical Engineering           Asian Female       0.425        0.470</span>
<span class="co">#&gt;  2: Electrical Engineering           Black Female       0.425        0.385</span>
<span class="co">#&gt;  3: Electrical Engineering Hispanic/Latinx Female       0.425        0.425</span>
<span class="co">#&gt;  4: Electrical Engineering           White Female       0.425        0.430</span>
<span class="co">#&gt;  5: Electrical Engineering             Asian Male       0.425        0.540</span>
<span class="co">#&gt;  6: Electrical Engineering             Black Male       0.425        0.365</span>
<span class="co">#&gt;  7: Electrical Engineering   Hispanic/Latinx Male       0.425        0.440</span>
<span class="co">#&gt;  8: Electrical Engineering             White Male       0.425        0.480</span>
<span class="co">#&gt;  9: Mechanical Engineering           Asian Female       0.430        0.470</span>
<span class="co">#&gt; 10: Mechanical Engineering           Black Female       0.430        0.385</span>
<span class="co">#&gt; ---                                                                       </span>
<span class="co">#&gt; 22:      Civil Engineering             Black Male       0.450        0.365</span>
<span class="co">#&gt; 23:      Civil Engineering   Hispanic/Latinx Male       0.450        0.440</span>
<span class="co">#&gt; 24:      Civil Engineering             White Male       0.450        0.480</span>
<span class="co">#&gt; 25: Industrial Engineering           Asian Female       0.560        0.470</span>
<span class="co">#&gt; 26: Industrial Engineering           Black Female       0.560        0.385</span>
<span class="co">#&gt; 27: Industrial Engineering           White Female       0.560        0.430</span>
<span class="co">#&gt; 28: Industrial Engineering             Asian Male       0.560        0.540</span>
<span class="co">#&gt; 29: Industrial Engineering             Black Male       0.560        0.365</span>
<span class="co">#&gt; 30: Industrial Engineering   Hispanic/Latinx Male       0.560        0.440</span>
<span class="co">#&gt; 31: Industrial Engineering             White Male       0.560        0.480</span>
<span class="co">#&gt;     stick</span>
<span class="co">#&gt;     &lt;num&gt;</span>
<span class="co">#&gt;  1:  0.46</span>
<span class="co">#&gt;  2:  0.42</span>
<span class="co">#&gt;  3:  0.40</span>
<span class="co">#&gt;  4:  0.34</span>
<span class="co">#&gt;  5:  0.51</span>
<span class="co">#&gt;  6:  0.37</span>
<span class="co">#&gt;  7:  0.43</span>
<span class="co">#&gt;  8:  0.43</span>
<span class="co">#&gt;  9:  0.61</span>
<span class="co">#&gt; 10:  0.33</span>
<span class="co">#&gt; ---      </span>
<span class="co">#&gt; 22:  0.36</span>
<span class="co">#&gt; 23:  0.45</span>
<span class="co">#&gt; 24:  0.50</span>
<span class="co">#&gt; 25:  0.48</span>
<span class="co">#&gt; 26:  0.51</span>
<span class="co">#&gt; 27:  0.58</span>
<span class="co">#&gt; 28:  0.65</span>
<span class="co">#&gt; 29:  0.45</span>
<span class="co">#&gt; 30:  0.68</span>
<span class="co">#&gt; 31:  0.56</span></code></pre></div>
<p>Similarly, by ordering the data by <code>race_sex</code>, you can see that a given demographic group has a single value of <code>med_race_sex</code> copied as many times as needed.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># race_sex groupings have a median stickiness across programs </span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;                    program               race_sex med_program med_race_sex</span>
<span class="co">#&gt;                     &lt;fctr&gt;                 &lt;fctr&gt;       &lt;num&gt;        &lt;num&gt;</span>
<span class="co">#&gt;  1: Mechanical Engineering   Native American Male       0.430        0.290</span>
<span class="co">#&gt;  2:      Civil Engineering             Black Male       0.450        0.365</span>
<span class="co">#&gt;  3: Electrical Engineering             Black Male       0.425        0.365</span>
<span class="co">#&gt;  4: Industrial Engineering             Black Male       0.560        0.365</span>
<span class="co">#&gt;  5: Mechanical Engineering             Black Male       0.430        0.365</span>
<span class="co">#&gt;  6:      Civil Engineering           Black Female       0.450        0.385</span>
<span class="co">#&gt;  7: Electrical Engineering           Black Female       0.425        0.385</span>
<span class="co">#&gt;  8: Industrial Engineering           Black Female       0.560        0.385</span>
<span class="co">#&gt;  9: Mechanical Engineering           Black Female       0.430        0.385</span>
<span class="co">#&gt; 10: Electrical Engineering Hispanic/Latinx Female       0.425        0.425</span>
<span class="co">#&gt; ---                                                                       </span>
<span class="co">#&gt; 22: Industrial Engineering           Asian Female       0.560        0.470</span>
<span class="co">#&gt; 23: Mechanical Engineering           Asian Female       0.430        0.470</span>
<span class="co">#&gt; 24:      Civil Engineering             White Male       0.450        0.480</span>
<span class="co">#&gt; 25: Electrical Engineering             White Male       0.425        0.480</span>
<span class="co">#&gt; 26: Industrial Engineering             White Male       0.560        0.480</span>
<span class="co">#&gt; 27: Mechanical Engineering             White Male       0.430        0.480</span>
<span class="co">#&gt; 28:      Civil Engineering             Asian Male       0.450        0.540</span>
<span class="co">#&gt; 29: Electrical Engineering             Asian Male       0.425        0.540</span>
<span class="co">#&gt; 30: Industrial Engineering             Asian Male       0.560        0.540</span>
<span class="co">#&gt; 31: Mechanical Engineering             Asian Male       0.430        0.540</span>
<span class="co">#&gt;     stick</span>
<span class="co">#&gt;     &lt;num&gt;</span>
<span class="co">#&gt;  1:  0.29</span>
<span class="co">#&gt;  2:  0.36</span>
<span class="co">#&gt;  3:  0.37</span>
<span class="co">#&gt;  4:  0.45</span>
<span class="co">#&gt;  5:  0.35</span>
<span class="co">#&gt;  6:  0.35</span>
<span class="co">#&gt;  7:  0.42</span>
<span class="co">#&gt;  8:  0.51</span>
<span class="co">#&gt;  9:  0.33</span>
<span class="co">#&gt; 10:  0.40</span>
<span class="co">#&gt; ---      </span>
<span class="co">#&gt; 22:  0.48</span>
<span class="co">#&gt; 23:  0.61</span>
<span class="co">#&gt; 24:  0.50</span>
<span class="co">#&gt; 25:  0.43</span>
<span class="co">#&gt; 26:  0.56</span>
<span class="co">#&gt; 27:  0.46</span>
<span class="co">#&gt; 28:  0.48</span>
<span class="co">#&gt; 29:  0.51</span>
<span class="co">#&gt; 30:  0.65</span>
<span class="co">#&gt; 31:  0.57</span></code></pre></div>
</div>
<div id="create-a-multiway-graph" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-multiway-graph" class="anchor" aria-hidden="true"></a>Create a multiway graph</h2>
<p>We use conventional ggplot2 functions to create the multiway graphs.</p>
<p>By previously ordering the levels of the factors, we have structured the data so that the rows and panels of the multiway graph are ordered by the appropriate medians. The panel medians are drawn as vertical dashed lines.</p>
<p><em>Reminder:</em> These are practice data, not suitable for drawing inferences about student performance, i.e., not for research.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create one multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">race_sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_program</span><span class="op">)</span>, 
             linetype <span class="op">=</span> <span class="fl">2</span>, 
             color <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Stickiness"</span>, 
       y <span class="op">=</span> <span class="st">""</span>, 
       title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>, 
       caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span><span class="op">)</span></code></pre></div>
<p><img src="../man/figures/art-01-multiway-graphs-fig1-1.png" width="70%" style="display: block; margin: auto;"><br></p>
<p>This graph permits a direct visual comparison of how stickiness varies by race and sex within a particular major.</p>
<p>Reading a multiway graph</p>
<ul>
<li>We can more effectively compare values within a panel than between panels.</li>
<li>Because rows are ordered, one expects a generally increasing trend within a panel. A response greater or smaller than expected creates a visual asymmetry. The interesting stories are often in these visual anomalies.</li>
<li>To explore the comparison between panels, we swap the row and panel categories, creating the dual multiway.</li>
</ul>
</div>
<div id="create-the-dual-multiway-graph" class="section level2">
<h2 class="hasAnchor">
<a href="#create-the-dual-multiway-graph" class="anchor" aria-hidden="true"></a>Create the dual multiway graph</h2>
<p>The previous graph does not facilitate visual comparisons of members of the same race-sex group. As Cleveland says,</p>
<blockquote>
<p>Because of this asymmetry, it is often important to explore multiway data by as many multiway dot plots as there are categorical variables, with each variable assigned once to the levels.</p>
</blockquote>
<p>To create the <em>dual multiway</em> graph, we swap the roles of the rows and panels.</p>
<ul>
<li>
<code>y = race_sex</code> becomes <code>y = program</code>
</li>
<li>
<code>facet_wrap(vars(program) ...</code> becomes <code>facet_wrap(vars(race_sex) ...</code>
</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create the dual multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">program</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_race_sex</span><span class="op">)</span>, 
             linetype <span class="op">=</span> <span class="fl">2</span>, 
             color <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Stickiness"</span>, 
       y <span class="op">=</span> <span class="st">""</span>, 
       title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>, 
       caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span><span class="op">)</span></code></pre></div>
<p><img src="../man/figures/art-01-multiway-graphs-fig2-1.png" width="70%" style="display: block; margin: auto;"><br></p>
<p>This graph permits a direct visual comparison of how stickiness varies by major for one group of students.</p>
<p>Both multiways should be created for discussion. Usually one or the other will convey a more compelling visual story that gets included in the published findings.</p>
<div id="exercise" class="section level3">
<h3 class="hasAnchor">
<a href="#exercise" class="anchor" aria-hidden="true"></a>Exercise</h3>
<p>Using the built-in data <code>study_grad_rate</code>,</p>
<ul>
<li>Examine the data set variables and structure</li>
<li>Condition the data for a multiway display</li>
<li>Graph the graduation rate in both forms shown above</li>
</ul>
</div>
</div>
<div id="tabulate-multiway-data" class="section level2">
<h2 class="hasAnchor">
<a href="#tabulate-multiway-data" class="anchor" aria-hidden="true"></a>Tabulate multiway data</h2>
<p>Data tables are useful in discussions with one’s research team and are often included in publications for readers who want to see the values underlying the data graphics.</p>
<p>Our example data are currently laid out in “block record” form <span class="citation">(<a href="#ref-Mount+Zumel:2019:fluid-data" role="doc-biblioref">Mount and Zumel, 2019</a>)</span>, where the <code>race_sex</code> key and the <code>program</code> key are both in columns and the response, stickiness, is in the last column. This layout is also called “tidy data” <span class="citation">(<a href="#ref-Wickham+Grolemund:2017" role="doc-biblioref">Wickham and Grolemund, 2017</a>)</span>.</p>
<p>The graphing package we use, ggplot2, is designed to work most effectively with block-record data, thus the block-record (“long”) form is the default layout in midfieldr.</p>
<table class="table table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Table 1: Stickiness (block records)
</caption>
<thead><tr>
<th style="text-align:left;">
program
</th>
<th style="text-align:left;">
race_sex
</th>
<th style="text-align:right;">
stick
</th>
<th style="text-align:right;">
med_program
</th>
<th style="text-align:right;">
med_race_sex
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
Asian Female
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.470
</td>
</tr>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.385
</td>
</tr>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.430
</td>
</tr>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.540
</td>
</tr>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.365
</td>
</tr>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
Hispanic/Latinx Male
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.440
</td>
</tr>
<tr>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.450
</td>
<td style="text-align:right;">
0.480
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
Asian Female
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.470
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
0.42
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.385
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
Hispanic/Latinx Female
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.425
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
0.34
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.430
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.540
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
0.37
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.365
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
Hispanic/Latinx Male
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.440
</td>
</tr>
<tr>
<td style="text-align:left;">
Electrical Engineering
</td>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.425
</td>
<td style="text-align:right;">
0.480
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
Asian Female
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.470
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.385
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
0.58
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.430
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.540
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.365
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
Hispanic/Latinx Male
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.440
</td>
</tr>
<tr>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
0.56
</td>
<td style="text-align:right;">
0.560
</td>
<td style="text-align:right;">
0.480
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Asian Female
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.470
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.385
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Hispanic/Latinx Female
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.425
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.430
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
0.57
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.540
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.365
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Hispanic/Latinx Male
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.440
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
Native American Male
</td>
<td style="text-align:right;">
0.29
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.290
</td>
</tr>
<tr>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.480
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>However, the visual convention preferred by publishers and readers is a row-record (“wide”) form, as illustrated by Table 2. The <code>race_sex</code> key is in the left column and the <code>program</code> key is in the column names. The stickiness findings lie at the row-column intersections. Note that in this form, the four NA observations we mentioned earlier are explicitly shown.</p>
<table class="table table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Table 2: Stickiness (row records)
</caption>
<thead><tr>
<th style="text-align:left;">
Race/ethnicity/sex
</th>
<th style="text-align:right;">
Civil
</th>
<th style="text-align:right;">
Electrical
</th>
<th style="text-align:right;">
Industrial
</th>
<th style="text-align:right;">
Mechanical
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Asian Female
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.61
</td>
</tr>
<tr>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.57
</td>
</tr>
<tr>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
0.42
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.33
</td>
</tr>
<tr>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.37
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.35
</td>
</tr>
<tr>
<td style="text-align:left;">
Hispanic/Latinx Female
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.45
</td>
</tr>
<tr>
<td style="text-align:left;">
Hispanic/Latinx Male
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
0.43
</td>
</tr>
<tr>
<td style="text-align:left;">
Native American Male
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.29
</td>
</tr>
<tr>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.34
</td>
<td style="text-align:right;">
0.58
</td>
<td style="text-align:right;">
0.40
</td>
</tr>
<tr>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.56
</td>
<td style="text-align:right;">
0.46
</td>
</tr>
</tbody>
</table>
<p>Depending on your software background, you may have encountered a block-record/row-record transformation using any of these function pairs—a list adapted from <span class="citation">(<a href="#ref-Mount+Zumel:2019:fluid-data" role="doc-biblioref">Mount and Zumel, 2019</a>)</span>.</p>
<ul>
<li>pivot / anti-pivot or crosstab / shred (databases)</li>
<li>pivot_to_rowrecs / unpivot_to_blocks (cdata)</li>
<li>reshape “wide” / reshape “long” (R)</li>
<li>pivot_wider / pivot_longer (tidyr)</li>
<li>pivot / unpivot (Microsoft Excel)</li>
<li>dcast / melt (data.table)</li>
<li>cast / melt (reshape2)</li>
</ul>
<p>In our example, we use <code><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast()</a></code> from the data.table package to reshape the data for publication. We start by limiting the significant figures of floating-point numbers.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a new memory location  </span>
<span class="va">block_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>

<span class="co"># limit significant digits</span>
<span class="va">block_form</span><span class="op">[</span>, <span class="va">stick</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">stick</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<p>If in the final result we want rows and columns ordered alphabetically, we convert factors to characters.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a new memory location </span>
<span class="va">row_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">block_form</span><span class="op">)</span>

<span class="co"># convert factors to characters</span>
<span class="va">row_form</span><span class="op">[</span>, <span class="va">race_sex</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<p><code><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast()</a></code> is used to reshape the data frame from block-record form to row-record form.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># reshape</span>
<span class="va">row_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">row_form</span>, <span class="va">race_sex</span> <span class="op">~</span> <span class="va">program</span>, value.var <span class="op">=</span> <span class="st">"stick"</span><span class="op">)</span>

<span class="co"># examine the result</span>
<span class="va">row_form</span>
<span class="co">#&gt;                  race_sex Civil Engineering Electrical Engineering</span>
<span class="co">#&gt;                    &lt;char&gt;             &lt;num&gt;                  &lt;num&gt;</span>
<span class="co">#&gt; 1:           Asian Female              0.45                   0.46</span>
<span class="co">#&gt; 2:             Asian Male              0.48                   0.51</span>
<span class="co">#&gt; 3:           Black Female              0.35                   0.42</span>
<span class="co">#&gt; 4:             Black Male              0.36                   0.37</span>
<span class="co">#&gt; 5: Hispanic/Latinx Female                NA                   0.40</span>
<span class="co">#&gt; 6:   Hispanic/Latinx Male              0.45                   0.43</span>
<span class="co">#&gt; 7:   Native American Male                NA                     NA</span>
<span class="co">#&gt; 8:           White Female              0.46                   0.34</span>
<span class="co">#&gt; 9:             White Male              0.50                   0.43</span>
<span class="co">#&gt;    Industrial Engineering Mechanical Engineering</span>
<span class="co">#&gt;                     &lt;num&gt;                  &lt;num&gt;</span>
<span class="co">#&gt; 1:                   0.48                   0.61</span>
<span class="co">#&gt; 2:                   0.65                   0.57</span>
<span class="co">#&gt; 3:                   0.51                   0.33</span>
<span class="co">#&gt; 4:                   0.45                   0.35</span>
<span class="co">#&gt; 5:                     NA                   0.45</span>
<span class="co">#&gt; 6:                   0.68                   0.43</span>
<span class="co">#&gt; 7:                     NA                   0.29</span>
<span class="co">#&gt; 8:                   0.58                   0.40</span>
<span class="co">#&gt; 9:                   0.56                   0.46</span></code></pre></div>
<p>For publication, we edit the new column names.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># edit column names</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">row_form</span>, 
         old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race_sex"</span>, 
                 <span class="st">"Civil Engineering"</span>, 
                 <span class="st">"Electrical Engineering"</span>, 
                 <span class="st">"Industrial Engineering"</span>, 
                 <span class="st">"Mechanical Engineering"</span><span class="op">)</span>, 
         new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Race/ethnicity/sex"</span>, 
                 <span class="st">"Civil"</span>, 
                 <span class="st">"Electrical"</span>, 
                 <span class="st">"Industrial"</span>, 
                 <span class="st">"Mechanical"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># examine the result</span>
<span class="va">row_form</span>
<span class="co">#&gt;        Race/ethnicity/sex Civil Electrical Industrial Mechanical</span>
<span class="co">#&gt;                    &lt;char&gt; &lt;num&gt;      &lt;num&gt;      &lt;num&gt;      &lt;num&gt;</span>
<span class="co">#&gt; 1:           Asian Female  0.45       0.46       0.48       0.61</span>
<span class="co">#&gt; 2:             Asian Male  0.48       0.51       0.65       0.57</span>
<span class="co">#&gt; 3:           Black Female  0.35       0.42       0.51       0.33</span>
<span class="co">#&gt; 4:             Black Male  0.36       0.37       0.45       0.35</span>
<span class="co">#&gt; 5: Hispanic/Latinx Female    NA       0.40         NA       0.45</span>
<span class="co">#&gt; 6:   Hispanic/Latinx Male  0.45       0.43       0.68       0.43</span>
<span class="co">#&gt; 7:   Native American Male    NA         NA         NA       0.29</span>
<span class="co">#&gt; 8:           White Female  0.46       0.34       0.58       0.40</span>
<span class="co">#&gt; 9:             White Male  0.50       0.43       0.56       0.46</span></code></pre></div>
<p>This result is the source for Table 2, repeated below.</p>
<table class="table table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Table 2: Stickiness (row records)
</caption>
<thead><tr>
<th style="text-align:left;">
Race/ethnicity/sex
</th>
<th style="text-align:right;">
Civil
</th>
<th style="text-align:right;">
Electrical
</th>
<th style="text-align:right;">
Industrial
</th>
<th style="text-align:right;">
Mechanical
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Asian Female
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.61
</td>
</tr>
<tr>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.57
</td>
</tr>
<tr>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
0.42
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.33
</td>
</tr>
<tr>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.37
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.35
</td>
</tr>
<tr>
<td style="text-align:left;">
Hispanic/Latinx Female
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.45
</td>
</tr>
<tr>
<td style="text-align:left;">
Hispanic/Latinx Male
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
0.43
</td>
</tr>
<tr>
<td style="text-align:left;">
Native American Male
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.29
</td>
</tr>
<tr>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.34
</td>
<td style="text-align:right;">
0.58
</td>
<td style="text-align:right;">
0.40
</td>
</tr>
<tr>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.56
</td>
<td style="text-align:right;">
0.46
</td>
</tr>
</tbody>
</table>
<p>Other good tools for reshaping are provided in packages such as <code><a href="https://rdrr.io/r/stats/reshape.html" class="external-link">reshape()</a></code> in base R, cdata <span class="citation">(<a href="#ref-Mount+Zumel:2020:cdata" role="doc-biblioref">Mount and Zumel, 2020</a>)</span>, and tidyr <span class="citation">(<a href="#ref-Wickham+Henry:2020:tidyr" role="doc-biblioref">Wickham and Henry, 2020</a>)</span>.</p>
<div id="exercise-1" class="section level3">
<h3 class="hasAnchor">
<a href="#exercise-1" class="anchor" aria-hidden="true"></a>Exercise</h3>
<p>Using the built-in data <code>study_grad_rate</code>,</p>
<ul>
<li>Examine the data set variables and structure</li>
<li>Reshape the data to construct a table like the one above</li>
</ul>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor" aria-hidden="true"></a>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent references csl-bib-body hanging-indent">
<div id="ref-Cleveland:1993" class="csl-entry">
Cleveland, William S. (1993) <em><span>Visualizing Data</span></em>. Summit, NJ: <span>Hobart Press</span>.
</div>
<div id="ref-Kroonenberg:2008" class="csl-entry">
Kroonenberg, Pieter M. (2008) <em><span>Applied Multiway Data Analysis</span></em>. Hoboken, NJ: <span>Wiley</span>.
</div>
<div id="ref-Mount+Zumel:2019:fluid-data" class="csl-entry">
Mount, John and Zumel, Nina (2019) <span class="nocase">Coordinatized data: A fluid data specification</span>. <span>Win Vector LLC</span>. Available at: <a href="http://winvector.github.io/FluidData/RowsAndColumns.html" class="external-link">http://winvector.github.io/FluidData/RowsAndColumns.html</a>.
</div>
<div id="ref-Mount+Zumel:2020:cdata" class="csl-entry">
Mount, John and Zumel, Nina (2020) <em><span class="nocase">cdata: Fluid Data Transformations</span></em>. R package version 1.1.6. Available at: <a href="https://CRAN.R-project.org/package=cdata" class="external-link">https://CRAN.R-project.org/package=cdata</a>.
</div>
<div id="ref-Ohland+Orr+others:2012" class="csl-entry">
Ohland, Matthew, Orr, Marisa, Layton, Richard, et al. (2012) <span class="nocase">Introducing stickiness as a versatile metric of engineering persistence</span>. In: <em><span class="nocase">Proceedings of the Frontiers in Education Conference</span></em>, 2012, pp. 1–5.
</div>
<div id="ref-Wickham+Grolemund:2017" class="csl-entry">
Wickham, Hadley and Grolemund, Garrett (2017) <em><span class="nocase">R for Data Science</span></em>. Sebastopol, CA: <span>O’Reilly Media, Inc.</span> Available at: <a href="https://r4ds.had.co.nz/" class="external-link">https://r4ds.had.co.nz/</a>.
</div>
<div id="ref-Wickham+Henry:2020:tidyr" class="csl-entry">
Wickham, Hadley and Henry, Lionel (2020) <em><span class="nocase">tidyr: Tidy Messy Data</span></em>. R package version 1.1.0. Available at: <a href="https://CRAN.R-project.org/package=tidyr" class="external-link">https://CRAN.R-project.org/package=tidyr</a>.
</div>
</div>
</div>
<div id="appendix" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix" class="anchor" aria-hidden="true"></a>Appendix</h2>
<div id="complete-script" class="section level3">
<h3 class="hasAnchor">
<a href="#complete-script" class="anchor" aria-hidden="true"></a>Complete script</h3>
<p>The vignette code chunks are collected below in a single, condensed script.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span>

<span class="co"># optional code to control data.table printing</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>datatable.print.nrows <span class="op">=</span> <span class="fl">10</span>, 
        datatable.print.topn  <span class="op">=</span> <span class="fl">5</span>, 
        datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># data preparation</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_stickiness</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">program</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">race_sex</span><span class="op">)</span>
<span class="va">DT_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/condition_multiway.html">condition_multiway</a></span><span class="op">(</span><span class="va">DT</span>, details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span>
<span class="va">DT_med</span><span class="op">[</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">order</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>

<span class="co"># creating a multiway graph </span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">race_sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_program</span><span class="op">)</span>, 
             linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Stickiness"</span>, 
       y <span class="op">=</span> <span class="st">""</span>, 
       title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>, 
       caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span><span class="op">)</span>

<span class="co"># creating the dual multiway graph</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DT_med</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">stick</span>, y <span class="op">=</span> <span class="va">program</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">med_race_sex</span><span class="op">)</span>, 
             linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Stickiness"</span>, 
       y <span class="op">=</span> <span class="st">""</span>, 
       title <span class="op">=</span> <span class="st">"Practice data (not for research)"</span>, 
       caption <span class="op">=</span> <span class="st">"Source: midfielddata"</span><span class="op">)</span>

<span class="co"># creating a table for publication</span>
<span class="va">block_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span>
<span class="va">block_form</span><span class="op">[</span>, <span class="va">stick</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">stick</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">block_form</span><span class="op">)</span>
<span class="va">row_form</span><span class="op">[</span>, <span class="va">race_sex</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">race_sex</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span>
<span class="va">row_form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">row_form</span>, <span class="va">race_sex</span> <span class="op">~</span> <span class="va">program</span>, value.var <span class="op">=</span> <span class="st">"stick"</span><span class="op">)</span>
<span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">row_form</span>, 
         old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race_sex"</span>, 
                 <span class="st">"Civil Engineering"</span>, 
                 <span class="st">"Electrical Engineering"</span>, 
                 <span class="st">"Industrial Engineering"</span>, 
                 <span class="st">"Mechanical Engineering"</span><span class="op">)</span>, 
         new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Race/ethnicity/sex"</span>, 
                 <span class="st">"Civil"</span>, 
                 <span class="st">"Electrical"</span>, 
                 <span class="st">"Industrial"</span>, 
                 <span class="st">"Mechanical"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link external-link">Richard Layton</a>, Russell Long, Susan Lord, Matthew Ohland, Marisa Orr, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
