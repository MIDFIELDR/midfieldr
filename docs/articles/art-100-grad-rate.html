<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Graduation rate • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Graduation rate">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9028</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-010-planning.html">Planning</a>
    <a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-030-degree-seeking.html">Degree seeking</a>
    <a class="dropdown-item" href="../articles/art-040-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-050-blocs.html">Blocs</a>
    <a class="dropdown-item" href="../articles/art-060-fye-proxies.html">FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-070-starters.html">Starters</a>
    <a class="dropdown-item" href="../articles/art-080-graduates.html">Graduates</a>
    <a class="dropdown-item" href="../articles/art-090-groupings.html">Groupings</a>
    <a class="dropdown-item" href="../articles/art-100-grad-rate.html">Graduation rate</a>
    <a class="dropdown-item" href="../articles/art-120-multiway.html">Multiway data and charts</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="art-100-grad-rate_files/kePrint-0.0.1/kePrint.js"></script><link href="art-100-grad-rate_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Graduation rate</h1>
            
            <h4 data-toc-skip class="date">2022-11-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-100-grad-rate.Rmd" class="external-link"><code>vignettes/art-100-grad-rate.Rmd</code></a></small>
      <div class="d-none name"><code>art-100-grad-rate.Rmd</code></div>
    </div>

    
    
<p>Graduation rate is a widely used, though flawed, measure of academic
achievement.</p>
<p>The American Council on Education estimates that the conventional
definition of graduation rate may exclude up to 60% of students at
4-year institutions <span class="citation">(<a href="#ref-Cook+Hartle:2011" role="doc-biblioref">Cook &amp; Hartle,
2011</a>)</span>. Nevertheless, as Cook and Hartle explain,</p>
<blockquote>
<p>… in the eyes of the public, policy makers, and the media, graduation
rate is a clear, simple, and logical—if often misleading—number.</p>
</blockquote>
<p>Recognizing that graduation rate is a popular metric, we propose a
definition of graduation rate that includes all conventionally excluded
students except migrators. You can skip the FYE content in this vignette
if your study includes no FYE-style Engineering programs.</p>
<p>This vignette in the MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li>Planning<br>
</li>
<li>Initial processing<br>
</li>
<li>Blocs<br>
</li>
<li>Groupings<br>
</li>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">Metrics</span>
<ul>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">Graduation
rate</span><br>
</li>
<li>Stickiness<br>
</li>
</ul>
</li>
<li>Displays</li>
</ol>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>graduation rate (general)</dt>
<dd>
<p>Graduation rate <span class="math inline">\((G)\)</span> is the ratio
of the number of starter-graduates <span class="math inline">\((N_{sg})\)</span> to the number of starters <span class="math inline">\((N_s)\)</span>, <span class="math display">\[
G=\frac{N_{sg}}{N_s}
\]</span></p>
</dd>
<dt>bloc</dt>
<dd>
<p>A grouping of SURs dealt with as a unit, for example, starters,
ever-enrolled, graduates, transfers, traditional, non-traditional,
migrators, etc.</p>
</dd>
<dt>starters</dt>
<dd>
<p>Bloc of degree-seeking students enrolled in their first term in
degree-granting programs.</p>
</dd>
<dt>starter-graduates</dt>
<dd>
<p>Subset of the starters bloc who are graduates (timely completers)
from their starting programs.</p>
</dd>
<dt>timely completion criterion</dt>
<dd>
<p>Completing a program in no more than a specified span of years, in
many cases, within 6 years after admission (150% of the “normal” 4-year
span), or possibly less for some transfer students.</p>
</dd>
<dt>migrators</dt>
<dd>
<p>Bloc of students who leave one program to enroll in another at the
same institution. Also called <em>switchers.</em></p>
</dd>
<dt>undecided/unspecified</dt>
<dd>
<p>The MIDFIELD taxonomy includes the non-IPEDS code (CIP 999999) for
Undecided or Unspecified indicating instances in which a student has not
declared a major or an institution had not recorded a program.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="starters-and-migrators">Starters and migrators<a class="anchor" aria-label="anchor" href="#starters-and-migrators"></a>
</h2>
<p>Relationships among migrators, starters, and graduates (timely
completers) of a given program <em>P</em> are illustrated in Figure 1.
The overall rectangle represents all students ever enrolled in program
<em>P</em>. The interior rectangle represents all program <em>P</em>
graduates, including migrators.</p>
<ul>
<li><p>Region 1 represents the graduation rate denominator <span class="math inline">\((N_s)\)</span>.</p></li>
<li><p>Region 2, a subset of region 1, represents the graduation rate
numerator <span class="math inline">\((N_{sg})\)</span>.</p></li>
<li><p>The un-shaded region represents students excluded from the
graduation rate metric, depending on how “program” is defined as
discussed below.</p></li>
</ul>
<div class="figure">
<img src="../reference/figures/art-100-venn-diagram.png" style="width:100.0%" alt=""><p class="caption">Figure 1. How starters, migrators, and timely
completers relate as sets.</p>
</div>
<p><br>When calculating graduation rate, whether migrator-graduates are
included in the count of graduates depends how a program is defined in
terms of CIP codes.</p>
<ul>
<li><p><em>Institution level</em>. Graduation rate computed at the
institution level includes all migrators within the institution. For
example, starters in Engineering (CIP 14) who graduate in Business (CIP
52) are both starters and timely completers at the institution level.
IPEDS defines this rate as the <em>institution completion
rate.</em></p></li>
<li><p><em>2-digit CIP</em>. Graduation rate includes migrator graduates
within the same 2-digit CIP. For example, starters in Engineering (CIP
14) graduating in Business (CIP 52) are excluded from the count of
Business graduates, but migrators within Engineering (all 6-digit CIP
codes starting with 14) are both starters and timely completers in
Engineering.</p></li>
<li><p><em>4-digit CIP</em>. Similar to the 2-digit case. For example,
starters in Electrical Engineering (CIP 1410) graduating in Mechanical
Engineering (CIP 1419) are excluded from the count of Mechanical
Engineering graduates, but migrators within Electrical Engineering (all
6-digit CIP codes starting with 1410) are both starters and timely
completers in Electrical Engineering.</p></li>
<li><p><em>6-digit CIP</em>. Rarely used. Graduation rate at this CIP
level excludes all migrators from the count of graduates.</p></li>
<li><p><em>Multiple CIPs</em>. In some cases, a single program or major
includes different 4-digit CIPs. For example, migrators between Systems
Engineering (CIP 1427), Industrial Engineering (CIP 1435), Manufacturing
Engineering (CIP 1436), and Operations Research (CIP 1437) might be
considered both starters and timely completers in a general program of
Industrial &amp; Systems Engineering.</p></li>
</ul>
<p>Because a migrator may have to complete remedial work in their new
program, their time to graduation may exceed the defined acceptable span
(typically 6 years). Yet graduation rate has no mechanism for extending
the timely completion span. (Developing such a heuristic for MIDFIELD
data is a potential topic of future work.)</p>
</div>
<div class="section level2">
<h2 id="who-is-a-starter">Who is a starter?<a class="anchor" aria-label="anchor" href="#who-is-a-starter"></a>
</h2>
<p>In the US, the predominant definition of graduation rate is that
established by the US Department of Education, Integrated Postsecondary
Education Data System (IPEDS). The IPEDS definition underlies the
finding cited earlier that a graduation rate metric may exclude up to
60% of students.</p>
<p>Many of the IPEDS exclusions relate to how starters are defined. By
expanding the starters definition, MIDFIELD proposes a graduation rate
definition that includes all conventionally excluded students except
migrators.</p>
<dl>
<dt>graduation rate (IPEDS)</dt>
<dd>
<p>The fraction of a cohort of full-time, first-time, degree-seeking
undergraduates who complete their program within a percentage (100%,
150%, or 200%) of the “normal” time (typically 4 years) as defined by
the institution. IPEDS excludes students who attend college part-time,
who transfer between institutions, and who start in Winter or Spring
terms <span class="citation">(<a href="#ref-IPEDS:2020" role="doc-biblioref">NCES-IPEDS, 2020</a>)</span>.</p>
</dd>
<dt>graduation rate (MIDFIELD)</dt>
<dd>
<p>The fraction of a cohort of degree-seeking undergraduates who
complete their program in a timely manner (typically 6 years). MIDFIELD
includes students who attend college part-time, who transfer between
institutions, and who start in any term. Table 1 summarizes the
comparison between the IPEDS and MIDFIELD graduation rate
definitions.</p>
</dd>
</dl>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 1: Comparing graduation rate definitions
</caption>
<thead><tr>
<th style="text-align:left;background-color: #c7eae5 !important;">
Item
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
IPEDS
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
MIDFIELD
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
MIDFIELD notes
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
completion span:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
4, 6, or 8 years
</td>
<td style="text-align:left;">
4, 6, or 8 years
</td>
<td style="text-align:left;">
Typical usage is 6 years
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
students admitted in:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Summer/Fall only
</td>
<td style="text-align:left;">
any term
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
part-time students are:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
excluded
</td>
<td style="text-align:left;">
included
</td>
<td style="text-align:left;">
Timely completion same as full-time students
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
transfer students are:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
excluded
</td>
<td style="text-align:left;">
included
</td>
<td style="text-align:left;">
Timely completion span adjusted for level at entry
</td>
</tr>
</tbody>
</table>
<p><br></p>
<dl>
<dt>First-Year Engineering (FYE) starters</dt>
<dd>
<p>We estimate the degree-granting engineering program in which an FYE
student would have enrolled had they not been required to enroll in FYE.
The FYE proxy, a 6-digit CIP code, denotes the program of which the FYE
student can be considered a starter. For additional details, see the
vignette <a href="art-060-fye-proxies.html">FYE proxies</a>.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<p>Demonstrating the following elements of a MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li><p><em>Planning.</em>   The metric is graduation rate. Required
blocs are starters and the subset of starters who graduate in their
starting major. Grouping variables are program, race/ethnicity, and sex.
Programs are the four Engineering programs used throughout.</p></li>
<li><p><em>Initial processing.</em>   Filter the source SURs for data
sufficiency and degree-seeking.</p></li>
<li><p><em>Blocs.</em>   Gather starters, filter by program. Gather
graduates, filter by program, filter by starters’ IDs and
programs.</p></li>
<li><p><em>Groupings.</em>   Add grouping variables.</p></li>
<li><p><em>Metrics</em>   Summarize by grouping variables and compute
graduation rate.</p></li>
<li><p><em>Displays</em>   Create multiway chart and results
table.</p></li>
</ol>
<p><em>Caveat:</em> The Student Unit Records included with midfieldr and
midfielddata are practice data, not research data, suitable for practice
working with SURs but not for drawing inferences about program
attributes or student experiences.</p>
</div>
<div class="section level2">
<h2 id="load-data">Load data<a class="anchor" aria-label="anchor" href="#load-data"></a>
</h2>
<p><em>Open.</em>   If you are writing your own script to follow along,
we use these packages in this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># midfieldr: Graduation rate</span></span>
<span></span>
<span><span class="co"># Packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span></code></pre></div>
<p><em>Load.</em>   MIDFIELD practice data tables. Described in <a href="art-000-getting-started.html">Getting started</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load practice data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span>, package <span class="op">=</span> <span class="st">"midfielddata"</span><span class="op">)</span></span></code></pre></div>
<p><em>Loads with midfieldr.</em></p>
<ul>
<li><p><code>study_programs</code> (derived in <a href="art-040-programs.html#reusable-code">Programs</a>).</p></li>
<li><p><code>fye_proxy</code> (derived in <a href="art-060-fye-proxies.html">FYE proxies</a>).</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="initial-processing">Initial processing<a class="anchor" aria-label="anchor" href="#initial-processing"></a>
</h2>
<p><em>(Optional) Select.</em>   Columns required by midfieldr
functions. Code reproduced from <a href="art-000-getting-started.html#reusable-code">Getting
started</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Optional. Copy of source files with all variables</span></span>
<span><span class="va">source_student</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">student</span><span class="op">)</span></span>
<span><span class="va">source_term</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span><span class="va">source_degree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Optional. Select variables required by midfieldr functions</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_student</span><span class="op">)</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_term</span><span class="op">)</span></span>
<span><span class="va">degree</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">source_degree</span><span class="op">)</span></span></code></pre></div>
<p><em>Work.</em>   Using <code><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy()</a></code> avoids
<em>by-reference</em> effects <span class="citation">(<a href="#ref-data.table-reference-semantics" role="doc-biblioref">Dowle
&amp; Srinivasan, 2022</a>)</span>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span></code></pre></div>
<p><em>Data sufficiency.</em> Obtain the IDs of all students for whom
the data sufficiency criteria are satisfied. Code reproduced from <a href="art-020-data-sufficiency.html#reusable-code">Data
sufficiency</a>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span></code></pre></div>
<p><em>Degree seeking.</em> Filter to retain degree-seeking students
only. Code reproduced from <a href="art-030-data-seeking.html#reusable-code">Degree seeking</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid</span></span>
<span><span class="co">#&gt;             &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135</span></span>
<span><span class="co">#&gt;     2: MID25783162</span></span>
<span><span class="co">#&gt;     3: MID25783178</span></span>
<span><span class="co">#&gt;    ---            </span></span>
<span><span class="co">#&gt; 63950: MID26697599</span></span>
<span><span class="co">#&gt; 63951: MID26697615</span></span>
<span><span class="co">#&gt; 63952: MID26697623</span></span></code></pre>
<p>We preserve this data frame as a baseline for examples in the
vignette.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baseline</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="starters">Starters<a class="anchor" aria-label="anchor" href="#starters"></a>
</h2>
<p><em>Preparation.</em>   The baseline data frame we preserved earlier
is the intake for this section.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reset the working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">baseline</span><span class="op">)</span></span></code></pre></div>
<p><em>Starters.</em>   The summary code chunk from <a href="art-070-starters.html#reusable-code">Starters</a></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Isolate starting term</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"999999"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Continue for starters with FYE</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">fye_proxy</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span>, <span class="va">proxy</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="va">proxy</span>,</span>
<span>  <span class="va">cip6</span> <span class="op">!=</span> <span class="st">"140102"</span>, <span class="va">cip6</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">start</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter by program on start</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">program</span>, start <span class="op">=</span> <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre></div>
<p><em>Copy.</em>   To prepare for joining with graduates.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare for joining</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">starters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">starters</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162      CE</span></span>
<span><span class="co">#&gt;    2: MID25783441      CE</span></span>
<span><span class="co">#&gt;    3: MID25783491      EE</span></span>
<span><span class="co">#&gt;   ---                    </span></span>
<span><span class="co">#&gt; 5788: MID26696958      ME</span></span>
<span><span class="co">#&gt; 5789: MID26696967      ME</span></span>
<span><span class="co">#&gt; 5790: MID26697444      ME</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="graduates">Graduates<a class="anchor" aria-label="anchor" href="#graduates"></a>
</h2>
<p><em>Preparation.</em>   The baseline data frame we preserved earlier
is the intake for this section.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reset the working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">baseline</span><span class="op">)</span></span></code></pre></div>
<p><em>Graduates</em>   The summary code chunk from <a href="art-080-graduates.html#reusable-code">Graduates</a></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Gather graduates and their degree CIPs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">degree</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter by program</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">study_programs</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">cip6</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;       program        mcid</span></span>
<span><span class="co">#&gt;        &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1:     ISE MID25783178</span></span>
<span><span class="co">#&gt;    2:      CE MID25783441</span></span>
<span><span class="co">#&gt;    3:      EE MID25783491</span></span>
<span><span class="co">#&gt;   ---                    </span></span>
<span><span class="co">#&gt; 3620:      ME MID26696967</span></span>
<span><span class="co">#&gt; 3621:      ME MID26697163</span></span>
<span><span class="co">#&gt; 3622:      EE MID26697447</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="starter-graduates">Starter-graduates<a class="anchor" aria-label="anchor" href="#starter-graduates"></a>
</h2>
<p>This section introduces new material—not adapted from the reusable
code sections of other vignettes.</p>
<p>For a graduation rate metric, a timely completer is counted among the
graduates only if they start and complete the same program.</p>
<p><em>Filter.</em>   Use an inner join to filter the graduates by ID
and program to match the IDs and programs of starters.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Starter-graduates</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">starters</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"program"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span></code></pre></div>
<p><em>Copy.</em>   To prepare for joining with starters.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare for joining</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">graduates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="closer-look">Closer look<a class="anchor" aria-label="anchor" href="#closer-look"></a>
</h3>
<p>Examining the records of selected students in detail.</p>
<p><em>Example 1.</em>   The student is a starter and a timely completer
in Industrial/Systems Engineering (ISE). They appear in both blocs.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Same ID in different blocs</span></span>
<span><span class="va">mcid_we_want</span> <span class="op">&lt;-</span> <span class="st">"MID25783912"</span></span>
<span><span class="va">starters</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid program</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783912     ISE</span></span>
<span></span>
<span><span class="va">graduates</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid program</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783912     ISE</span></span></code></pre></div>
<p><em>Example 2.</em>   The student is a starter in Electrical
Engineering (EE). They are excluded from the graduation rate
starter-graduate bloc because they did not complete EE. From
<code>degree</code> we find that they completed CIP 143501 (ISE), one of
the study programs. They are also excluded from a count of ISE graduates
because they weren’t a ISE starter.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Same ID in different blocs</span></span>
<span><span class="va">mcid_we_want</span> <span class="op">&lt;-</span> <span class="st">"MID25784893"</span></span>
<span><span class="va">starters</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid program</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25784893      EE</span></span>
<span></span>
<span><span class="va">graduates</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span><span class="op">]</span></span>
<span><span class="co">#&gt; Empty data.table (0 rows and 2 cols): mcid,program</span></span>
<span></span>
<span><span class="va">degree</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25784893 143501</span></span></code></pre></div>
<p><em>Example 3.</em>   The student is a starter in Civil Engineering
(CE). They are excluded from the graduation rate starter-graduate bloc
because they did not complete CE. From <code>degree</code> we find that
they completed CIP 521401 (Marketing). They would also be excluded from
a count of Marketing graduates because they weren’t a Marketing
starter.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Same ID in different blocs</span></span>
<span><span class="va">mcid_we_want</span> <span class="op">&lt;-</span> <span class="st">"MID25783162"</span></span>
<span><span class="va">starters</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid program</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783162      CE</span></span>
<span></span>
<span><span class="va">graduates</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span><span class="op">]</span></span>
<span><span class="co">#&gt; Empty data.table (0 rows and 2 cols): mcid,program</span></span>
<span></span>
<span><span class="va">degree</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="va">mcid_we_want</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783162 521401</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="groupings">Groupings<a class="anchor" aria-label="anchor" href="#groupings"></a>
</h2>
<p>One of our grouping variables (<code>program</code>) is already
included in the data frames. The next grouping variable is
<code>bloc</code> to distinguish starters from graduates when the two
data frames are combined.</p>
<p><em>Add a variable.</em>   Label starters and graduates.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For grouping by bloc</span></span>
<span><span class="va">starters</span><span class="op">[</span>, <span class="va">bloc</span> <span class="op">:=</span> <span class="st">"starters"</span><span class="op">]</span></span>
<span><span class="va">graduates</span><span class="op">[</span>, <span class="va">bloc</span> <span class="op">:=</span> <span class="st">"graduates"</span><span class="op">]</span></span></code></pre></div>
<p><em>Join.</em>   Combine the two blocs to prepare for summarizing. A
student starting and graduating in the same program now has two
observations in these data: one as a starter and one as a graduate.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare for summarizing</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">rbindlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">starters</span>, <span class="va">graduates</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program      bloc</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt;    &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162      CE  starters</span></span>
<span><span class="co">#&gt;    2: MID25783441      CE  starters</span></span>
<span><span class="co">#&gt;    3: MID25783491      EE  starters</span></span>
<span><span class="co">#&gt;   ---                              </span></span>
<span><span class="co">#&gt; 8011: MID26696642      EE graduates</span></span>
<span><span class="co">#&gt; 8012: MID26696738      ME graduates</span></span>
<span><span class="co">#&gt; 8013: MID26696967      ME graduates</span></span></code></pre>
<p><em>Add variables.</em>   Demographics from <a href="art-090-groupings.html#reusable-code">Groupings</a></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Join race/ethnicity and sex</span></span>
<span><span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">cols_we_want</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid   race    sex program      bloc</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt; &lt;char&gt;  &lt;char&gt;    &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162  White   Male      CE  starters</span></span>
<span><span class="co">#&gt;    2: MID25783441  White   Male      CE  starters</span></span>
<span><span class="co">#&gt;    3: MID25783491  White   Male      EE  starters</span></span>
<span><span class="co">#&gt;   ---                                            </span></span>
<span><span class="co">#&gt; 8011: MID26696642  White   Male      EE graduates</span></span>
<span><span class="co">#&gt; 8012: MID26696738  White   Male      ME graduates</span></span>
<span><span class="co">#&gt; 8013: MID26696967  White   Male      ME graduates</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="graduation-rate">Graduation rate<a class="anchor" aria-label="anchor" href="#graduation-rate"></a>
</h2>
<p><em>Summarize.</em>   Count the numbers of observations for each
combination of the grouping variables.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Count observations by group</span></span>
<span><span class="va">grouping_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bloc"</span>, <span class="st">"program"</span>, <span class="st">"sex"</span>, <span class="st">"race"</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="va">grouping_variables</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">grouping_variables</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;           bloc program    sex            race     N</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt; &lt;char&gt;          &lt;char&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1: graduates      CE Female           Asian     6</span></span>
<span><span class="co">#&gt;   2: graduates      CE Female           Black     8</span></span>
<span><span class="co">#&gt;   3: graduates      CE Female          Latine     4</span></span>
<span><span class="co">#&gt;   4: graduates      CE Female   Other/Unknown     1</span></span>
<span><span class="co">#&gt;   5: graduates      CE Female           White   101</span></span>
<span><span class="co">#&gt;   6: graduates      CE   Male           Asian    12</span></span>
<span><span class="co">#&gt;   7: graduates      CE   Male           Black    17</span></span>
<span><span class="co">#&gt;  ---                                               </span></span>
<span><span class="co">#&gt;  95:  starters      ME   Male           Asian    91</span></span>
<span><span class="co">#&gt;  96:  starters      ME   Male           Black   156</span></span>
<span><span class="co">#&gt;  97:  starters      ME   Male   International    31</span></span>
<span><span class="co">#&gt;  98:  starters      ME   Male          Latine    47</span></span>
<span><span class="co">#&gt;  99:  starters      ME   Male Native American     8</span></span>
<span><span class="co">#&gt; 100:  starters      ME   Male   Other/Unknown    27</span></span>
<span><span class="co">#&gt; 101:  starters      ME   Male           White  1465</span></span></code></pre>
<p><em>Reshape.</em>   Transform to row-record form to set up the
graduation rate calculation. transform the <em>N</em> column into two
columns, one for starters and one for graduates.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare to compute metric</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">program</span> <span class="op">+</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">race</span> <span class="op">~</span> <span class="va">bloc</span>, value.var <span class="op">=</span> <span class="st">"N"</span>, fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex            race graduates starters</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;          &lt;char&gt;     &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female           Asian         6       12</span></span>
<span><span class="co">#&gt;  2:      CE Female           Black         8       36</span></span>
<span><span class="co">#&gt;  3:      CE Female          Latine         4       11</span></span>
<span><span class="co">#&gt;  4:      CE Female   Other/Unknown         1        5</span></span>
<span><span class="co">#&gt;  5:      CE Female           White       101      243</span></span>
<span><span class="co">#&gt;  6:      CE   Male           Asian        12       24</span></span>
<span><span class="co">#&gt;  7:      CE   Male           Black        17       63</span></span>
<span><span class="co">#&gt; ---                                                  </span></span>
<span><span class="co">#&gt; 48:      ME   Male           Asian        37       91</span></span>
<span><span class="co">#&gt; 49:      ME   Male           Black        41      156</span></span>
<span><span class="co">#&gt; 50:      ME   Male   International        14       31</span></span>
<span><span class="co">#&gt; 51:      ME   Male          Latine        13       47</span></span>
<span><span class="co">#&gt; 52:      ME   Male Native American         1        8</span></span>
<span><span class="co">#&gt; 53:      ME   Male   Other/Unknown        12       27</span></span>
<span><span class="co">#&gt; 54:      ME   Male           White       615     1465</span></span></code></pre>
<p><em>Create a variable.</em>   Compute the metric.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compute metric</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">rate</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="va">graduates</span> <span class="op">/</span> <span class="va">starters</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex            race graduates starters  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;          &lt;char&gt;     &lt;int&gt;    &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female           Asian         6       12  50.0</span></span>
<span><span class="co">#&gt;  2:      CE Female           Black         8       36  22.2</span></span>
<span><span class="co">#&gt;  3:      CE Female          Latine         4       11  36.4</span></span>
<span><span class="co">#&gt;  4:      CE Female   Other/Unknown         1        5  20.0</span></span>
<span><span class="co">#&gt;  5:      CE Female           White       101      243  41.6</span></span>
<span><span class="co">#&gt;  6:      CE   Male           Asian        12       24  50.0</span></span>
<span><span class="co">#&gt;  7:      CE   Male           Black        17       63  27.0</span></span>
<span><span class="co">#&gt; ---                                                        </span></span>
<span><span class="co">#&gt; 48:      ME   Male           Asian        37       91  40.7</span></span>
<span><span class="co">#&gt; 49:      ME   Male           Black        41      156  26.3</span></span>
<span><span class="co">#&gt; 50:      ME   Male   International        14       31  45.2</span></span>
<span><span class="co">#&gt; 51:      ME   Male          Latine        13       47  27.7</span></span>
<span><span class="co">#&gt; 52:      ME   Male Native American         1        8  12.5</span></span>
<span><span class="co">#&gt; 53:      ME   Male   Other/Unknown        12       27  44.4</span></span>
<span><span class="co">#&gt; 54:      ME   Male           White       615     1465  42.0</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="prepare-for-dissemination">Prepare for dissemination<a class="anchor" aria-label="anchor" href="#prepare-for-dissemination"></a>
</h2>
<p><em>Filter.</em>   Let us assume that our study focuses on “domestic”
students of known race/ethnicity. In that case, we omit observations
labeled “International” and “Other/Unknown”.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Study design assumption</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">race</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"International"</span>, <span class="st">"Other/Unknown"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex            race graduates starters  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;          &lt;char&gt;     &lt;int&gt;    &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female           Asian         6       12  50.0</span></span>
<span><span class="co">#&gt;  2:      CE Female           Black         8       36  22.2</span></span>
<span><span class="co">#&gt;  3:      CE Female          Latine         4       11  36.4</span></span>
<span><span class="co">#&gt; ---                                                        </span></span>
<span><span class="co">#&gt; 37:      ME   Male          Latine        13       47  27.7</span></span>
<span><span class="co">#&gt; 38:      ME   Male Native American         1        8  12.5</span></span>
<span><span class="co">#&gt; 39:      ME   Male           White       615     1465  42.0</span></span></code></pre>
<p><em>Filter.</em>   To preserve the anonymity of the people involved,
we remove observations with fewer than 10 graduates.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Preserve anonymity</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">graduates</span> <span class="op">&gt;=</span> <span class="fl">10</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program    sex   race graduates starters  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt; &lt;char&gt;     &lt;int&gt;    &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE Female  White       101      243  41.6</span></span>
<span><span class="co">#&gt;  2:      CE   Male  Asian        12       24  50.0</span></span>
<span><span class="co">#&gt;  3:      CE   Male  Black        17       63  27.0</span></span>
<span><span class="co">#&gt; ---                                               </span></span>
<span><span class="co">#&gt; 21:      ME   Male  Black        41      156  26.3</span></span>
<span><span class="co">#&gt; 22:      ME   Male Latine        13       47  27.7</span></span>
<span><span class="co">#&gt; 23:      ME   Male  White       615     1465  42.0</span></span></code></pre>
<p><em>Add a variable.</em>   We combine race/ethnicity and sex to
create a combined grouping variable.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a combined category</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="fu">`:=`</span><span class="op">(</span>race <span class="op">=</span> <span class="cn">NULL</span>, sex <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     program       people graduates starters  rate</span></span>
<span><span class="co">#&gt;      &lt;char&gt;       &lt;char&gt;     &lt;int&gt;    &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      CE White Female       101      243  41.6</span></span>
<span><span class="co">#&gt;  2:      CE   Asian Male        12       24  50.0</span></span>
<span><span class="co">#&gt;  3:      CE   Black Male        17       63  27.0</span></span>
<span><span class="co">#&gt; ---                                              </span></span>
<span><span class="co">#&gt; 21:      ME   Black Male        41      156  26.3</span></span>
<span><span class="co">#&gt; 22:      ME  Latine Male        13       47  27.7</span></span>
<span><span class="co">#&gt; 23:      ME   White Male       615     1465  42.0</span></span></code></pre>
<p><em>Recode.</em>   Readers can more readily interpret our charts and
tables if the programs are un-abbreviated.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recode values for chart and table readability</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"CE"</span>, <span class="st">"Civil"</span>,</span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"EE"</span>, <span class="st">"Electrical"</span>,</span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"ME"</span>, <span class="st">"Mechanical"</span>,</span>
<span>  <span class="va">program</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"ISE"</span>, <span class="st">"Industrial/Systems"</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;        program       people graduates starters  rate</span></span>
<span><span class="co">#&gt;         &lt;char&gt;       &lt;char&gt;     &lt;int&gt;    &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      Civil White Female       101      243  41.6</span></span>
<span><span class="co">#&gt;  2:      Civil   Asian Male        12       24  50.0</span></span>
<span><span class="co">#&gt;  3:      Civil   Black Male        17       63  27.0</span></span>
<span><span class="co">#&gt; ---                                                 </span></span>
<span><span class="co">#&gt; 21: Mechanical   Black Male        41      156  26.3</span></span>
<span><span class="co">#&gt; 22: Mechanical  Latine Male        13       47  27.7</span></span>
<span><span class="co">#&gt; 23: Mechanical   White Male       615     1465  42.0</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="displays">Displays<a class="anchor" aria-label="anchor" href="#displays"></a>
</h2>
<p><em>Order factors.</em>   Order the levels of the categories. Code
adapted from <a href="art-120-multiway.html#percentage-ordered-data">Multiway data and
charts</a>.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Order the categories</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/order_multiway.html">order_multiway</a></span><span class="op">(</span><span class="va">DT</span>,</span>
<span>  quantity   <span class="op">=</span> <span class="st">"rate"</span>,</span>
<span>  categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"program"</span>, <span class="st">"people"</span><span class="op">)</span>,</span>
<span>  method     <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>  ratio_of   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"graduates"</span>, <span class="st">"starters"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;        program       people graduates starters  rate program_rate people_rate</span></span>
<span><span class="co">#&gt;         &lt;fctr&gt;       &lt;fctr&gt;     &lt;num&gt;    &lt;num&gt; &lt;num&gt;        &lt;num&gt;       &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:      Civil White Female       101      243  41.6         42.8        35.4</span></span>
<span><span class="co">#&gt;  2:      Civil   Asian Male        12       24  50.0         42.8        39.8</span></span>
<span><span class="co">#&gt;  3:      Civil   Black Male        17       63  27.0         42.8        29.8</span></span>
<span><span class="co">#&gt; ---                                                                          </span></span>
<span><span class="co">#&gt; 21: Mechanical   Black Male        41      156  26.3         38.7        29.8</span></span>
<span><span class="co">#&gt; 22: Mechanical  Latine Male        13       47  27.7         38.7        35.7</span></span>
<span><span class="co">#&gt; 23: Mechanical   White Male       615     1465  42.0         38.7        41.1</span></span></code></pre>
<p><em>Multiway chart.</em>   Code adapted from <a href="art-120-multiway.html#percentage-ordered-charts">Multiway data and
charts</a>.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">rate</span>, y <span class="op">=</span> <span class="va">people</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, as.table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">program_rate</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span>, linewidth <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Graduation rate (%)"</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="../reference/figures/art-100-graduation-rate-fig2-1.png" alt="Figure 2: Graduation rates of four Engineering majors." width="80%"><p class="caption">
Figure 2: Graduation rates of four Engineering majors.
</p>
</div>
<p><br></p>
<p><em>Results table.</em>   Code adapted from <a href="art-120-multiway.html#tabulating-counts">Multiway data and
charts</a>.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select variables and remove factors</span></span>
<span><span class="va">display_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">display_table</span> <span class="op">&lt;-</span> <span class="va">display_table</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">program</span>, <span class="va">people</span>, <span class="va">rate</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">display_table</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">people</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">display_table</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Construct table</span></span>
<span><span class="va">display_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">display_table</span>, <span class="va">people</span> <span class="op">~</span> <span class="va">program</span>, value.var <span class="op">=</span> <span class="st">"rate"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">display_table</span>,</span>
<span>  old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"people"</span><span class="op">)</span>,</span>
<span>  new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"People"</span><span class="op">)</span>,</span>
<span>  skip_absent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">display_table</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;          People Civil Electrical Industrial/Systems Mechanical</span></span>
<span><span class="co">#&gt;          &lt;char&gt; &lt;num&gt;      &lt;num&gt;              &lt;num&gt;      &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:   Asian Male  50.0       35.9               46.9       40.7</span></span>
<span><span class="co">#&gt; 2: Black Female    NA       36.4               28.6       22.0</span></span>
<span><span class="co">#&gt; 3:   Black Male  27.0       31.6               35.0       26.3</span></span>
<span><span class="co">#&gt; 4:  Latine Male  32.4       38.5               52.4       27.7</span></span>
<span><span class="co">#&gt; 5: White Female  41.6       25.4               43.3       30.1</span></span>
<span><span class="co">#&gt; 6:   White Male  44.7       36.8               41.3       42.0</span></span></code></pre>
<p>(Optional) Format the table nearer to publication quality. Here I use
<code>kable()</code> from the knitr package.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">display_table</span>,</span>
<span>  align <span class="op">=</span> <span class="st">"lrrrr"</span>,</span>
<span>  caption <span class="op">=</span> <span class="st">"Table 2: Graduation rates (%) of four Engineering majors."</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>
Table 2: Graduation rates (%) of four Engineering majors.
</caption>
<thead><tr>
<th style="text-align:left;">
People
</th>
<th style="text-align:right;">
Civil
</th>
<th style="text-align:right;">
Electrical
</th>
<th style="text-align:right;">
Industrial/Systems
</th>
<th style="text-align:right;">
Mechanical
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Asian Male
</td>
<td style="text-align:right;">
50.0
</td>
<td style="text-align:right;">
35.9
</td>
<td style="text-align:right;">
46.9
</td>
<td style="text-align:right;">
40.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Black Female
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
36.4
</td>
<td style="text-align:right;">
28.6
</td>
<td style="text-align:right;">
22.0
</td>
</tr>
<tr>
<td style="text-align:left;">
Black Male
</td>
<td style="text-align:right;">
27.0
</td>
<td style="text-align:right;">
31.6
</td>
<td style="text-align:right;">
35.0
</td>
<td style="text-align:right;">
26.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Latine Male
</td>
<td style="text-align:right;">
32.4
</td>
<td style="text-align:right;">
38.5
</td>
<td style="text-align:right;">
52.4
</td>
<td style="text-align:right;">
27.7
</td>
</tr>
<tr>
<td style="text-align:left;">
White Female
</td>
<td style="text-align:right;">
41.6
</td>
<td style="text-align:right;">
25.4
</td>
<td style="text-align:right;">
43.3
</td>
<td style="text-align:right;">
30.1
</td>
</tr>
<tr>
<td style="text-align:left;">
White Male
</td>
<td style="text-align:right;">
44.7
</td>
<td style="text-align:right;">
36.8
</td>
<td style="text-align:right;">
41.3
</td>
<td style="text-align:right;">
42.0
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Cook+Hartle:2011" class="csl-entry">
Cook, B., &amp; Hartle, T. W. (2011). <span class="nocase">Why
graduation rates matter—and why they don’t</span>. <em>The Presidency
Magazine</em>, <em>Spring/Summer 2011</em>.
</div>
<div id="ref-Dowle+Srinivasan:2021:data.table" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2021). <em><span class="nocase">data.table: Extension of data.frame</span></em>.
R package version 1.14.2. <a href="https://CRAN.R-project.org/package=data.table" class="external-link">https://CRAN.R-project.org/package=data.table</a>
</div>
<div id="ref-data.table-reference-semantics" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2022). <em><span class="nocase">Reference semantics [data.table]</span></em>. <a href="https://rdatatable.gitlab.io/data.table/articles/datatable-reference-semantics.html" class="external-link">https://rdatatable.gitlab.io/data.table/articles/datatable-reference-semantics.html</a>
</div>
<div id="ref-IPEDS:2020" class="csl-entry">
NCES-IPEDS. (2020). <em><span>IPEDS Survey Methodology</span></em>.
<span>National Center for Education Statistics</span>; [Online; accessed
2020-07-29]. <a href="https://nces.ed.gov/ipeds/ReportYourData/IpedsSurveyMethodology" class="external-link">https://nces.ed.gov/ipeds/ReportYourData/IpedsSurveyMethodology</a>
</div>
<div id="ref-Wickham:2016:ggplot2" class="csl-entry">
Wickham, H. (2016). <em><span class="nocase">ggplot2: Elegant Graphics
for Data Analysis</span></em>. <span>ISBN 978-3-319-24277-4</span>;
Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org" class="external-link">https://ggplot2.tidyverse.org</a>
</div>
</div>
<style type="text/css">
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
</style>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
