<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Starters • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Starters">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9027</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-009-planning.html">Planning</a>
    <a class="dropdown-item" href="../articles/art-010-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-020-degree-seeking.html">Degree seeking (inner joins)</a>
    <a class="dropdown-item" href="../articles/art-030-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-035-blocs.html">Blocs</a>
    <a class="dropdown-item" href="../articles/art-040-completion.html">Completion status</a>
    <a class="dropdown-item" href="../articles/art-070-fye-proxies.html">FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-080-starters.html">Starters</a>
    <a class="dropdown-item" href="../articles/art-050-demographics.html">Demographics (left outer joins)</a>
    <a class="dropdown-item" href="../articles/art-090-grad-rate.html">Graduation rate</a>
    <a class="dropdown-item" href="../articles/art-060-multiway.html">Multiway data and charts</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Starters</h1>
            
            <h4 data-toc-skip class="date">2022-10-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-080-starters.Rmd" class="external-link"><code>vignettes/art-080-starters.Rmd</code></a></small>
      <div class="d-none name"><code>art-080-starters.Rmd</code></div>
    </div>

    
    
<p>A degree-seeking student enrolled in their first degree-granting
program is a <em>starter</em> in that program. Identifying starters is
typically performed as part of a graduation rate calculation, though it
can also be a useful measure in its own right.</p>
<p>In two special cases, an entering student’s CIP code does not
correspond to a degree-granting program. The first case includes records
for which a program CIP is unspecified or reported as “undecided”. In
MIDFIELD data, both conditions are encoded as CIP 999999. Students may
<em>enter</em> with this CIP but we do not consider them
<em>starters</em> until and if they enroll in a degree-granting
program.</p>
<p>The second case is more nuanced. At some US institutions, engineering
students are required to complete a First-Year Engineering (FYE) program
as a prerequisite for declaring an engineering major. These students are
admitted as Engineering majors but we don’t know to which
degree-granting program they intended to transition. FYE students are
<em>starters</em> in Engineering (CIP 14) and are treated as such if one
limits a study to programs at the 2-digit CIP level. Otherwise, we use
<a href="art-070-fye-proxies.html">FYE proxies</a>—our estimates of the
degree-granting engineering programs (6-digit CIP level) that FYE
students would have declared had they not been required to enroll in
FYE.</p>
<p>Our procedures for identifying starters accommodate both special
cases.</p>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>starter</dt>
<dd>
<p>A degree-seeking student in their initial term enrolled in a
degree-granting program.</p>
</dd>
<dt>FYE</dt>
<dd>
<p>First-Year Engineering program, a common-first-year curriculum that
is a prerequisite for declaring an engineering major at some US
institutions. Denoted by its own CIP code, FYE is not a degree-granting
program.</p>
</dd>
<dt>FYE proxy</dt>
<dd>
<p>Our estimate of the degree-granting engineering program in which an
FYE student would have enrolled had they not been required to enroll in
FYE. The proxy, a 6-digit CIP code, denotes the program of which the FYE
student can be considered a starter.</p>
</dd>
<dt>undecided/unspecified</dt>
<dd>
<p>The MIDFIELD taxonomy includes the non-IPEDS code (CIP 999999) for
Undecided or Unspecified indicating instances in which a student has not
declared a major or an institution had not recorded a program.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<p>We use <code>student</code> and <code>term</code> to identify
degree-seeking students that can be considered starters in
degree-granting programs. The procedural details depend on whether one’s
source data include FYE-style Engineering programs. The two treatments
are:</p>
<ul>
<li><p><a href="#starters-with-fye">Starters with FYE</a>. For source
data with FYE-style Engineering programs.</p></li>
<li><p><a href="#starters-without-fye">Starters without FYE</a>. For
source data without FYE-style Engineering programs. From our usual
practice data, we construct a subset without FYE-style Engineering to
demonstrate applying our procedure to source data of this type.</p></li>
</ul>
<p>Both cases follows the same general outline:</p>
<ol style="list-style-type: decimal">
<li><p>Filter the source SURs for data sufficiency and
degree-seeking.</p></li>
<li><p>Drop observations with undecided/unspecified CIPs and filter for
each student’s chronological first term.</p></li>
<li><p>Identify the program(s), if any, of which each student can be
considered a starter.</p></li>
<li><p>Add program labels and filter to retain selected majors.</p></li>
</ol>
<p>The procedures are illustrated using our usual case study
programs—Civil, Electrical, Industrial/Systems, and Mechanical
Engineering.</p>
<p>This vignette in the MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li>Planning<br>
</li>
<li>Initial processing<br>
</li>
<li>Blocs
<ul>
<li>Ever-enrolled in programs<br>
</li>
<li>Graduates of programs<br>
</li>
<li>Completion status<br>
</li>
<li>FYE proxies<br>
</li>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">Starters in
programs</span><br>
</li>
</ul>
</li>
<li>Grouping variables<br>
</li>
<li>Metrics<br>
</li>
<li>Results</li>
</ol>
<p><em>Caveat:</em> The Student Unit Records included with midfieldr and
midfielddata are practice data, not research data, suitable for practice
working with SURs but not for drawing inferences about program
attributes or student experiences.</p>
</div>
<div class="section level2">
<h2 id="load-practice-data">Load practice data<a class="anchor" aria-label="anchor" href="#load-practice-data"></a>
</h2>
<p><em>Start a script</em>. If you are writing your own script to follow
along, we use these packages in this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Starters</span></span>
<span><span class="co"># midfieldr vignette</span></span>
<span></span>
<span><span class="co"># Packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Printing options for data.table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  datatable.print.nrows <span class="op">=</span> <span class="fl">17</span>,</span>
<span>  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><em>Load source data.</em> MIDFIELD practice data tables as described
in <a href="art-000-getting-started.html">Getting started</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load practice data sets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, package <span class="op">=</span> <span class="st">"midfielddata"</span><span class="op">)</span></span></code></pre></div>
<p><em>Optional.</em> A step to reduce the number of columns in the
source data table(s) to the minimum number required by midfieldr
functions. Particularly useful in interactive sessions when viewing the
data tables at various stages of an analysis.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select required midfieldr variables</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">student</span><span class="op">)</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View top few rows of the result</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">student</span>, n <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="co">#&gt;           mcid   institution   race    sex</span></span>
<span><span class="co">#&gt;         &lt;char&gt;        &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783135 Institution M  White   Male</span></span>
<span><span class="co">#&gt; 2: MID25783147 Institution M  White Female</span></span>
<span><span class="co">#&gt; 3: MID25783156 Institution M  White Female</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">term</span>, n <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="co">#&gt;           mcid   institution   term   cip6        level</span></span>
<span><span class="co">#&gt;         &lt;char&gt;        &lt;char&gt; &lt;char&gt; &lt;char&gt;       &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783135 Institution M  19911 520101  01 Freshman</span></span>
<span><span class="co">#&gt; 2: MID25783135 Institution M  19913 520101 02 Sophomore</span></span>
<span><span class="co">#&gt; 3: MID25783156 Institution M  20011 040201  01 Freshman</span></span></code></pre></div>
<p><em>Prepared data.</em> <code>study_programs</code>, included with
midfieldr, contains the CIP codes and custom program names for the case
study as developed in <a href="art-030-programs.html#case-study">Programs</a>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display prepared data</span></span>
<span><span class="va">study_programs</span></span>
<span><span class="co">#&gt;       cip6 program</span></span>
<span><span class="co">#&gt;     &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1: 140801      CE</span></span>
<span><span class="co">#&gt;  2: 140802      CE</span></span>
<span><span class="co">#&gt;  3: 140803      CE</span></span>
<span><span class="co">#&gt;  4: 140804      CE</span></span>
<span><span class="co">#&gt;  5: 140805      CE</span></span>
<span><span class="co">#&gt;  6: 140899      CE</span></span>
<span><span class="co">#&gt;  7: 141001      EE</span></span>
<span><span class="co">#&gt;  8: 141003      EE</span></span>
<span><span class="co">#&gt;  9: 141004      EE</span></span>
<span><span class="co">#&gt; 10: 141099      EE</span></span>
<span><span class="co">#&gt; 11: 141901      ME</span></span>
<span><span class="co">#&gt; 12: 142701     ISE</span></span>
<span><span class="co">#&gt; 13: 143501     ISE</span></span>
<span><span class="co">#&gt; 14: 143601     ISE</span></span>
<span><span class="co">#&gt; 15: 143701     ISE</span></span></code></pre></div>
<p><code>fye_proxy</code> contains the estimated FYE proxies for all FYE
students in the midfielddata practice data as developed in <a href="art-070-fye-proxies.html">FYE proxies</a>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display prepared data</span></span>
<span><span class="va">fye_proxy</span></span>
<span><span class="co">#&gt;              mcid  proxy</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 140801</span></span>
<span><span class="co">#&gt;    2: MID25783178 140701</span></span>
<span><span class="co">#&gt;    3: MID25783197 140701</span></span>
<span><span class="co">#&gt;    4: MID25783388 141901</span></span>
<span><span class="co">#&gt;    5: MID25783441 140801</span></span>
<span><span class="co">#&gt;   ---                   </span></span>
<span><span class="co">#&gt; 3734: MID26648222 141901</span></span>
<span><span class="co">#&gt; 3735: MID26648283 141901</span></span>
<span><span class="co">#&gt; 3736: MID26648422 142101</span></span>
<span><span class="co">#&gt; 3737: MID26648484 143501</span></span>
<span><span class="co">#&gt; 3738: MID26648553 141901</span></span></code></pre></div>
<div class="section level3">
<h3 id="prepare-alternate-data-tables">Prepare alternate data tables<a class="anchor" aria-label="anchor" href="#prepare-alternate-data-tables"></a>
</h3>
<p>For the <a href="#starters-without-fye">Starters without FYE</a>
example, we create subsets of <code>student</code> and <code>term</code>
by removing students in FYE-style Engineering programs.</p>
<p>We identify the FYE institutions in the practice data.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Institutions with FYE</span></span>
<span><span class="va">fye_inst</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">institution</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">fye_inst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">fye_inst</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">fye_inst</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">institution</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;      institution</span></span>
<span><span class="co">#&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: Institution C</span></span>
<span><span class="co">#&gt; 2: Institution J</span></span>
<span><span class="co">#&gt; 3: Institution M</span></span></code></pre></div>
<p>Construct a <code>term</code> subset without FYE-style Engineering by
removing all engineering observations at the FYE institutions.
Engineering programs at non-FYE institutions are retained. We also
subset by column, retaining the variables we need in the coming
analysis.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Drop all Engineering (CIP 14) that requires FYE</span></span>
<span><span class="va">rows_to_drop</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">$</span><span class="va">institution</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="va">fye_inst</span><span class="op">$</span><span class="va">institution</span> <span class="op">&amp;</span> <span class="va">term</span><span class="op">$</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^14"</span></span>
<span><span class="va">term_no_fye</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="op">!</span><span class="va">rows_to_drop</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">institution</span>, <span class="va">term</span>, <span class="va">cip6</span>, <span class="va">level</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">term_no_fye</span></span>
<span><span class="co">#&gt;                mcid   institution   term   cip6        level</span></span>
<span><span class="co">#&gt;              &lt;char&gt;        &lt;char&gt; &lt;char&gt; &lt;char&gt;       &lt;char&gt;</span></span>
<span><span class="co">#&gt;      1: MID25783135 Institution M  19911 520101  01 Freshman</span></span>
<span><span class="co">#&gt;      2: MID25783135 Institution M  19913 520101 02 Sophomore</span></span>
<span><span class="co">#&gt;      3: MID25783156 Institution M  20011 040201  01 Freshman</span></span>
<span><span class="co">#&gt;      4: MID25783156 Institution M  20013 040201 02 Sophomore</span></span>
<span><span class="co">#&gt;      5: MID25783156 Institution M  20021 040201 02 Sophomore</span></span>
<span><span class="co">#&gt;     ---                                                     </span></span>
<span><span class="co">#&gt; 670506: MID26697685 Institution L  20164 521201 02 Sophomore</span></span>
<span><span class="co">#&gt; 670507: MID26697689 Institution L  20163 240101    04 Senior</span></span>
<span><span class="co">#&gt; 670508: MID26697702 Institution L  20161 240101  01 Freshman</span></span>
<span><span class="co">#&gt; 670509: MID26697702 Institution L  20163 240101  01 Freshman</span></span>
<span><span class="co">#&gt; 670510: MID26697702 Institution L  20164 240101  01 Freshman</span></span></code></pre></div>
<p>Construct a <code>student</code> subset without FYE-style Engineering
by matching IDs between <code>student</code> and the term table just
derived. Again we retain selected columns only.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract column of unique IDs</span></span>
<span><span class="va">mcid_no_fye</span> <span class="op">&lt;-</span> <span class="va">term_no_fye</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>mcid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Inner join with student to filter for matching IDs</span></span>
<span><span class="va">student_no_fye</span> <span class="op">&lt;-</span> <span class="va">mcid_no_fye</span><span class="op">[</span><span class="va">student</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">institution</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">student_no_fye</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;               mcid   institution            race    sex</span></span>
<span><span class="co">#&gt;             &lt;char&gt;        &lt;char&gt;          &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 Institution M           White   Male</span></span>
<span><span class="co">#&gt;     2: MID25783156 Institution M           White Female</span></span>
<span><span class="co">#&gt;     3: MID25783162 Institution M           White   Male</span></span>
<span><span class="co">#&gt;     4: MID25783188 Institution M           White Female</span></span>
<span><span class="co">#&gt;     5: MID25783195 Institution M           White   Male</span></span>
<span><span class="co">#&gt;    ---                                                 </span></span>
<span><span class="co">#&gt; 90439: MID26697680 Institution L   Other/Unknown Female</span></span>
<span><span class="co">#&gt; 90440: MID26697682 Institution L           White   Male</span></span>
<span><span class="co">#&gt; 90441: MID26697685 Institution L           White   Male</span></span>
<span><span class="co">#&gt; 90442: MID26697689 Institution L Native American   Male</span></span>
<span><span class="co">#&gt; 90443: MID26697702 Institution L           White   Male</span></span></code></pre></div>
<p>These two data sets, <code>student_no_fye</code> and
<code>term_no_fye</code>, simulate the case of a researcher starting
with source files that include no FYE-style Engineering programs.</p>
</div>
</div>
<div class="section level2">
<h2 id="starters-with-fye">Starters with FYE<a class="anchor" aria-label="anchor" href="#starters-with-fye"></a>
</h2>
<div class="section level3">
<h3 id="initial-processing">Initial processing<a class="anchor" aria-label="anchor" href="#initial-processing"></a>
</h3>
<p><em>Copying.</em> Prevents operations on <code>DT</code> from
affecting <code>term</code> by reference <span class="citation">(<a href="#ref-data.table-reference-semantics" role="doc-biblioref">Dowle
&amp; Srinivasan, 2022</a>)</span>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span></code></pre></div>
<p><em>Data sufficiency.</em> Obtain the IDs of all students for whom
the data sufficiency criteria are satisfied. Code reproduced from <a href="art-010-data-sufficiency.html">Data sufficiency</a>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span></code></pre></div>
<p><em>Degree seeking.</em> Filter to retain degree-seeking students
only. Code reproduced from <a href="art-020-data-seeking.html">Degree
seeking</a>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid</span></span>
<span><span class="co">#&gt;             &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135</span></span>
<span><span class="co">#&gt;     2: MID25783162</span></span>
<span><span class="co">#&gt;     3: MID25783178</span></span>
<span><span class="co">#&gt;     4: MID25783195</span></span>
<span><span class="co">#&gt;     5: MID25783220</span></span>
<span><span class="co">#&gt;    ---            </span></span>
<span><span class="co">#&gt; 63948: MID26697574</span></span>
<span><span class="co">#&gt; 63949: MID26697576</span></span>
<span><span class="co">#&gt; 63950: MID26697599</span></span>
<span><span class="co">#&gt; 63951: MID26697615</span></span>
<span><span class="co">#&gt; 63952: MID26697623</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="isolate-starting-term">Isolate starting term<a class="anchor" aria-label="anchor" href="#isolate-starting-term"></a>
</h3>
<p><em>Add variables</em>. Left-outer join to add terms and CIPs for
these students.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Left-outer join, term into IDs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                mcid   term   cip6</span></span>
<span><span class="co">#&gt;              &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;      1: MID25783135  19911 520101</span></span>
<span><span class="co">#&gt;      2: MID25783135  19913 520101</span></span>
<span><span class="co">#&gt;      3: MID25783162  19921 140102</span></span>
<span><span class="co">#&gt;      4: MID25783162  19923 140102</span></span>
<span><span class="co">#&gt;      5: MID25783162  19931 520301</span></span>
<span><span class="co">#&gt;     ---                          </span></span>
<span><span class="co">#&gt; 535804: MID26697599  20141 110401</span></span>
<span><span class="co">#&gt; 535805: MID26697599  20143 110401</span></span>
<span><span class="co">#&gt; 535806: MID26697615  20101 500901</span></span>
<span><span class="co">#&gt; 535807: MID26697615  20103 500901</span></span>
<span><span class="co">#&gt; 535808: MID26697623  20101 451001</span></span></code></pre>
<p><em>Filtering.</em> We remove observations of undecided/unspecified
(CIP 999999). We then order rows by ID and term and filter to retain the
initial term observation, allowing such students to be included in
counts of starters. We use <code><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min()</a></code> to account for the
possibility that a student is enrolled in more than one major in their
starting term.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove undecided/unspecified</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"999999"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Retain initial term data</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   term   cip6</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135  19911 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162  19921 140102</span></span>
<span><span class="co">#&gt;     3: MID25783178  19946 140102</span></span>
<span><span class="co">#&gt;     4: MID25783195  19931 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220  19971 110101</span></span>
<span><span class="co">#&gt;    ---                          </span></span>
<span><span class="co">#&gt; 61846: MID26697574  20091 450701</span></span>
<span><span class="co">#&gt; 61847: MID26697576  20101 520301</span></span>
<span><span class="co">#&gt; 61848: MID26697599  20101 521201</span></span>
<span><span class="co">#&gt; 61849: MID26697615  20101 500901</span></span>
<span><span class="co">#&gt; 61850: MID26697623  20101 451001</span></span></code></pre>
<p>The result has 61,850 unique students.</p>
</div>
<div class="section level3">
<h3 id="create-start-variable">Create start variable<a class="anchor" aria-label="anchor" href="#create-start-variable"></a>
</h3>
<p>This is the one segment of the workflow that differs between Starters
with FYE and Starters without FYE.</p>
<p><em>Adding a variable.</em> Merge <code>fye_proxy</code> with the
working data frame <code>DT</code> and drop the <code>term</code>
variable. Because a proxy is associated with first-term FYE students
only, the left-outer join introduces NA values in the <code>proxy</code>
column for all other students.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Join the proxies to the working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">fye_proxy</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span>, <span class="va">proxy</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   cip6  proxy</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 520101   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;     2: MID25783162 140102 140801</span></span>
<span><span class="co">#&gt;     3: MID25783178 140102 140701</span></span>
<span><span class="co">#&gt;     4: MID25783195 040201   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;     5: MID25783220 110101   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    ---                          </span></span>
<span><span class="co">#&gt; 61846: MID26697574 450701   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61847: MID26697576 520301   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61848: MID26697599 521201   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61849: MID26697615 500901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61850: MID26697623 451001   &lt;NA&gt;</span></span></code></pre>
<p><em>Creating a variable.</em> Estimated starting programs for FYE
students are in the <code>proxy</code> column. Actual, recorded starting
programs for non-FYE students are in the <code>cip6</code> column.
Create the <code>start</code> column to combine the two.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Combine all starting CIPs</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="va">proxy</span>,</span>
<span>  <span class="va">cip6</span> <span class="op">!=</span> <span class="st">"140102"</span>, <span class="va">cip6</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   cip6  proxy  start</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 520101   &lt;NA&gt; 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 140102 140801 140801</span></span>
<span><span class="co">#&gt;     3: MID25783178 140102 140701 140701</span></span>
<span><span class="co">#&gt;     4: MID25783195 040201   &lt;NA&gt; 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220 110101   &lt;NA&gt; 110101</span></span>
<span><span class="co">#&gt;    ---                                 </span></span>
<span><span class="co">#&gt; 61846: MID26697574 450701   &lt;NA&gt; 450701</span></span>
<span><span class="co">#&gt; 61847: MID26697576 520301   &lt;NA&gt; 520301</span></span>
<span><span class="co">#&gt; 61848: MID26697599 521201   &lt;NA&gt; 521201</span></span>
<span><span class="co">#&gt; 61849: MID26697615 500901   &lt;NA&gt; 500901</span></span>
<span><span class="co">#&gt; 61850: MID26697623 451001   &lt;NA&gt; 451001</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="closer-look">Closer look<a class="anchor" aria-label="anchor" href="#closer-look"></a>
</h3>
<p>We examine observations by specific IDs to illustrate the sense of
the results. In this first example, our analysis states the student is a
starter in CIP 140701 (Chemical Engineering).</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 1. Procedure yields:</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">term</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783178"</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   cip6  proxy  start</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783178 140102 140701 140701</span></span></code></pre></div>
<p>The first few observations of this student’s record in
<code>term</code> agree with our finding above. After several FYE terms,
CIP 140701 is the first degree-granting program in which they enrolled.
In this case, the FYE proxy is based on a student transitioning post-FYE
to an engineering program.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 1. First several terms observed CIPs:</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783178"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   term   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783178  19946 140102</span></span>
<span><span class="co">#&gt; 2: MID25783178  19951 140102</span></span>
<span><span class="co">#&gt; 3: MID25783178  19953 140102</span></span>
<span><span class="co">#&gt; 4: MID25783178  19956 140102</span></span>
<span><span class="co">#&gt; 5: MID25783178  19961 140102</span></span>
<span><span class="co">#&gt; 6: MID25783178  19963 140701</span></span>
<span><span class="co">#&gt; 7: MID25783178  19965 140701</span></span></code></pre></div>
<p>In the next example, our analysis states the student is a starter in
CIP 140801 (Civil Engineering).</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 2. Procedure yields:</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   cip6  proxy  start</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783162 140102 140801 140801</span></span></code></pre></div>
<p>The first few observations of this student’s record in
<code>term</code> show they switched post-FYE to CIP 520301
(Accounting). The result in the <code>start</code> column above (CIP
140801) is an example of an FYE proxy that was treated as missing data
and imputed.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 2. First four terms observed CIPs:</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   term   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783162  19921 140102</span></span>
<span><span class="co">#&gt; 2: MID25783162  19923 140102</span></span>
<span><span class="co">#&gt; 3: MID25783162  19931 520301</span></span>
<span><span class="co">#&gt; 4: MID25783162  19933 520301</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filter-by-program">Filter by program<a class="anchor" aria-label="anchor" href="#filter-by-program"></a>
</h3>
<p><em>Add variables.</em> We join the case study programs labels to the
data frame.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy and rename the variable for matching</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Left-outer join, match by start</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">join_labels</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;         start program        mcid   cip6  proxy</span></span>
<span><span class="co">#&gt;        &lt;char&gt;  &lt;char&gt;      &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: 140801      CE MID25783162 140102 140801</span></span>
<span><span class="co">#&gt;     2: 140801      CE MID25783441 140102 140801</span></span>
<span><span class="co">#&gt;     3: 140801      CE MID25784209 140102 140801</span></span>
<span><span class="co">#&gt;     4: 140801      CE MID25784709 140102 140801</span></span>
<span><span class="co">#&gt;     5: 140801      CE MID25784843 140102 140801</span></span>
<span><span class="co">#&gt;    ---                                         </span></span>
<span><span class="co">#&gt; 61846: 450701    &lt;NA&gt; MID26697574 450701   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61847: 520301    &lt;NA&gt; MID26697576 520301   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61848: 521201    &lt;NA&gt; MID26697599 521201   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61849: 500901    &lt;NA&gt; MID26697615 500901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 61850: 451001    &lt;NA&gt; MID26697623 451001   &lt;NA&gt;</span></span></code></pre>
<p><em>Filtering.</em> Retain the case study programs only.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Keep the programs in the study</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"start"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid  start program   cip6  proxy</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;    2: MID25783441 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;    3: MID25784209 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;    4: MID25784709 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;    5: MID25784843 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;   ---                                         </span></span>
<span><span class="co">#&gt; 5786: MID26696484 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5787: MID26696738 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5788: MID26696958 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5789: MID26696967 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5790: MID26697444 141901      ME 141901   &lt;NA&gt;</span></span></code></pre>
<p>The result has 5790 unique students in the case study programs
including Engineering programs that require FYE. These starters also
include any students whose initial enrollment was recorded as
undecided/unspecified but whose first degree-granting program was a case
study program (or FYE proxy).</p>
<p><em>This step concludes the procedure for identifying starters with
FYE.</em></p>
</div>
</div>
<div class="section level2">
<h2 id="starters-without-fye">Starters without FYE<a class="anchor" aria-label="anchor" href="#starters-without-fye"></a>
</h2>
<p>To simulate a study in which the user’s research data include no
FYE-style Engineering programs, we overwrite the usual midfielddata
<code>student</code> and <code>term</code> data frames with their
non-FYE substitutes, <code>student_no_fye</code> and
<code>term_no_fye</code>, that we prepared earlier.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reset the assignment of student and term</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="va">student_no_fye</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="va">term_no_fye</span></span>
<span></span>
<span><span class="co"># Display the results</span></span>
<span><span class="va">student</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;               mcid   institution            race    sex</span></span>
<span><span class="co">#&gt;             &lt;char&gt;        &lt;char&gt;          &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 Institution M           White   Male</span></span>
<span><span class="co">#&gt;     2: MID25783156 Institution M           White Female</span></span>
<span><span class="co">#&gt;     3: MID25783162 Institution M           White   Male</span></span>
<span><span class="co">#&gt;     4: MID25783188 Institution M           White Female</span></span>
<span><span class="co">#&gt;     5: MID25783195 Institution M           White   Male</span></span>
<span><span class="co">#&gt;    ---                                                 </span></span>
<span><span class="co">#&gt; 90439: MID26697680 Institution L   Other/Unknown Female</span></span>
<span><span class="co">#&gt; 90440: MID26697682 Institution L           White   Male</span></span>
<span><span class="co">#&gt; 90441: MID26697685 Institution L           White   Male</span></span>
<span><span class="co">#&gt; 90442: MID26697689 Institution L Native American   Male</span></span>
<span><span class="co">#&gt; 90443: MID26697702 Institution L           White   Male</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;                mcid   institution   term   cip6        level</span></span>
<span><span class="co">#&gt;              &lt;char&gt;        &lt;char&gt; &lt;char&gt; &lt;char&gt;       &lt;char&gt;</span></span>
<span><span class="co">#&gt;      1: MID25783135 Institution M  19911 520101  01 Freshman</span></span>
<span><span class="co">#&gt;      2: MID25783135 Institution M  19913 520101 02 Sophomore</span></span>
<span><span class="co">#&gt;      3: MID25783156 Institution M  20011 040201  01 Freshman</span></span>
<span><span class="co">#&gt;      4: MID25783156 Institution M  20013 040201 02 Sophomore</span></span>
<span><span class="co">#&gt;      5: MID25783156 Institution M  20021 040201 02 Sophomore</span></span>
<span><span class="co">#&gt;     ---                                                     </span></span>
<span><span class="co">#&gt; 670506: MID26697685 Institution L  20164 521201 02 Sophomore</span></span>
<span><span class="co">#&gt; 670507: MID26697689 Institution L  20163 240101    04 Senior</span></span>
<span><span class="co">#&gt; 670508: MID26697702 Institution L  20161 240101  01 Freshman</span></span>
<span><span class="co">#&gt; 670509: MID26697702 Institution L  20163 240101  01 Freshman</span></span>
<span><span class="co">#&gt; 670510: MID26697702 Institution L  20164 240101  01 Freshman</span></span></code></pre></div>
<p>The following procedure is identical to that for <a href="#starters-with-fye">Starters with FYE</a> except for differences
in the source data and how we construct the <code>start</code>
variable.</p>
<div class="section level3">
<h3 id="initial-processing-1">Initial processing<a class="anchor" aria-label="anchor" href="#initial-processing-1"></a>
</h3>
<p>Repeat the steps for data sufficiency and degree-seeking.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="isolate-starting-term-1">Isolate starting term<a class="anchor" aria-label="anchor" href="#isolate-starting-term-1"></a>
</h3>
<p>Repeat the steps for isolating the starting term.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Left-outer join, term into IDs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Remove undecided/unspecified</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"999999"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Retain initial term.</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   cip6</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 520301</span></span>
<span><span class="co">#&gt;     3: MID25783195 040201</span></span>
<span><span class="co">#&gt;     4: MID25783220 110101</span></span>
<span><span class="co">#&gt;     5: MID25783223 131202</span></span>
<span><span class="co">#&gt;    ---                   </span></span>
<span><span class="co">#&gt; 58844: MID26697574 450701</span></span>
<span><span class="co">#&gt; 58845: MID26697576 520301</span></span>
<span><span class="co">#&gt; 58846: MID26697599 521201</span></span>
<span><span class="co">#&gt; 58847: MID26697615 500901</span></span>
<span><span class="co">#&gt; 58848: MID26697623 451001</span></span></code></pre>
<p>The result has 58,848 unique students.</p>
</div>
<div class="section level3">
<h3 id="create-start-variable-1">Create start variable<a class="anchor" aria-label="anchor" href="#create-start-variable-1"></a>
</h3>
<p>With no FYE programs and having removed observations of
undecided/unspecified, the CIP codes in this data frame are the programs
in which students can be considered starters.</p>
<p><em>Rename variable.</em> Values of <code>cip6</code> are the values
we want for <code>start</code>.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Start is the CIP</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, start <span class="op">=</span> <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid  start</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 520301</span></span>
<span><span class="co">#&gt;     3: MID25783195 040201</span></span>
<span><span class="co">#&gt;     4: MID25783220 110101</span></span>
<span><span class="co">#&gt;     5: MID25783223 131202</span></span>
<span><span class="co">#&gt;    ---                   </span></span>
<span><span class="co">#&gt; 58844: MID26697574 450701</span></span>
<span><span class="co">#&gt; 58845: MID26697576 520301</span></span>
<span><span class="co">#&gt; 58846: MID26697599 521201</span></span>
<span><span class="co">#&gt; 58847: MID26697615 500901</span></span>
<span><span class="co">#&gt; 58848: MID26697623 451001</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="closer-look-1">Closer look<a class="anchor" aria-label="anchor" href="#closer-look-1"></a>
</h3>
<p>We again examine observations by specific IDs to illustrate the sense
of the results. In this first example, our analysis states the student
is a starter in CIP 420101 (Psychology).</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 1. Procedure yields:</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25785305"</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid  start</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25785305 420101</span></span></code></pre></div>
<p>The first few observations of this student’s record in
<code>term</code> show that they enrolled in CIP 420101 in their first
term, agreeing with our finding above.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 1. First four terms observed CIPs:</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">term</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25785305"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   term   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25785305  19891 420101</span></span>
<span><span class="co">#&gt; 2: MID25785305  19893 999999</span></span>
<span><span class="co">#&gt; 3: MID25785305  19901 260101</span></span>
<span><span class="co">#&gt; 4: MID25785305  19903 260101</span></span></code></pre></div>
<p>This example also illustrates that removing the CIP 999999
observations (second row) does not prevent us from obtaining a correct
starter assignment if the initial program was degree-granting.</p>
<p>In the next example, our analysis states the student is a starter in
CIP 040201 (Architecture).</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 2. Procedure yields:</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25788338"</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid  start</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25788338 040201</span></span></code></pre></div>
<p>The first few observations of this student’s record in
<code>term</code> agree with our finding. After two terms of
undecided/unspecified, CIP 040201 is the first degree-granting program
in which they enrolled.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 2. First four terms observed CIPs:</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25788338"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   term   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25788338  19955 999999</span></span>
<span><span class="co">#&gt; 2: MID25788338  19956 999999</span></span>
<span><span class="co">#&gt; 3: MID25788338  19961 040201</span></span>
<span><span class="co">#&gt; 4: MID25788338  19963 040201</span></span></code></pre></div>
<p>In the next example, our analysis states the student is a starter in
CIP 140801 (Civil Engineering).</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Student 3. Procedure yields:</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25929928"</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid  start</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25929928 140801</span></span></code></pre></div>
<p>Similar to the previous example, the first few observations of this
student’s record in <code>term</code> agree with our finding.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First four terms observed CIPs:</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25929928"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span><span class="co">#&gt;           mcid   term   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25929928  19923 999999</span></span>
<span><span class="co">#&gt; 2: MID25929928  19924 999999</span></span>
<span><span class="co">#&gt; 3: MID25929928  19931 140801</span></span>
<span><span class="co">#&gt; 4: MID25929928  19933 140801</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filter-by-program-1">Filter by program<a class="anchor" aria-label="anchor" href="#filter-by-program-1"></a>
</h3>
<p>The final steps are identical to those for Starters without FYE. We
add the program labels and filter to retain the case study programs.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># New memory location for labels</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Left-outer join, match by the CIPs in start</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">join_labels</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Keep the programs in the study</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Retain required columns</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">start</span>, <span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid  start program</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25853054 141001      EE</span></span>
<span><span class="co">#&gt;    2: MID25853132 141001      EE</span></span>
<span><span class="co">#&gt;    3: MID25853205 141901      ME</span></span>
<span><span class="co">#&gt;    4: MID25853290 141901      ME</span></span>
<span><span class="co">#&gt;    5: MID25853311 140801      CE</span></span>
<span><span class="co">#&gt;   ---                           </span></span>
<span><span class="co">#&gt; 3236: MID26696642 141001      EE</span></span>
<span><span class="co">#&gt; 3237: MID26696738 141901      ME</span></span>
<span><span class="co">#&gt; 3238: MID26696958 141901      ME</span></span>
<span><span class="co">#&gt; 3239: MID26696967 141901      ME</span></span>
<span><span class="co">#&gt; 3240: MID26697444 141901      ME</span></span></code></pre>
<p>The result has 3240 unique students in the case study programs for
Engineering programs that do not require FYE. These starters also
include any students whose initial enrollment was recorded as
undecided/unspecified but whose first degree-granting program was a case
study program.</p>
<p><em>This step concludes the procedure for identifying starters
without FYE.</em></p>
</div>
</div>
<div class="section level2">
<h2 id="closing">Closing<a class="anchor" aria-label="anchor" href="#closing"></a>
</h2>
<p>Starting with <code>student</code> and <code>term</code> data tables
and filtering for data sufficiency and degree seeking, we develop
procedures to identify starters for two types of study: “Starters with
FYE,” source data with FYE-style Engineering programs; and “Starters
without FYE,” suitable for all programs except FYE-style
Engineering.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Dowle+Srinivasan:2021:data.table" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2021). <em><span class="nocase">data.table: Extension of data.frame</span></em>.
R package version 1.14.2. <a href="https://CRAN.R-project.org/package=data.table" class="external-link">https://CRAN.R-project.org/package=data.table</a>
</div>
<div id="ref-data.table-reference-semantics" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2022). <em><span class="nocase">Reference semantics [data.table]</span></em>. <a href="https://rdatatable.gitlab.io/data.table/articles/datatable-reference-semantics.html" class="external-link">https://rdatatable.gitlab.io/data.table/articles/datatable-reference-semantics.html</a>
</div>
</div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<div class="section level3">
<h3 id="complete-script">Complete script<a class="anchor" aria-label="anchor" href="#complete-script"></a>
</h3>
<p>The vignette code chunks are collected below in a single, condensed
script.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Printing options for data.table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  datatable.print.nrows <span class="op">=</span> <span class="fl">17</span>,</span>
<span>  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load practice data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, package <span class="op">=</span> <span class="st">"midfielddata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Prepare alternate data tables</span></span>
<span><span class="va">fye_inst</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">institution</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">fye_inst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">fye_inst</span><span class="op">)</span></span>
<span><span class="va">rows_to_drop</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">$</span><span class="va">institution</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="va">fye_inst</span><span class="op">$</span><span class="va">institution</span> <span class="op">&amp;</span> <span class="va">term</span><span class="op">$</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^14"</span></span>
<span><span class="va">term_no_fye</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="op">!</span><span class="va">rows_to_drop</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">institution</span>, <span class="va">term</span>, <span class="va">cip6</span>, <span class="va">level</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">mcid_no_fye</span> <span class="op">&lt;-</span> <span class="va">term_no_fye</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>mcid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">student_no_fye</span> <span class="op">&lt;-</span> <span class="va">mcid_no_fye</span><span class="op">[</span><span class="va">student</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">institution</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Starters with FYE</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Isolate starting term</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"999999"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create start variable</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">fye_proxy</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span>, <span class="va">proxy</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="va">proxy</span>,</span>
<span>  <span class="va">cip6</span> <span class="op">!=</span> <span class="st">"140102"</span>, <span class="va">cip6</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Closer look</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">term</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783178"</span><span class="op">]</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783178"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span></span>
<span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span><span class="op">]</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25783162"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter by program</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">join_labels</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"start"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Starters without FYE</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="va">student_no_fye</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="va">term_no_fye</span></span>
<span></span>
<span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Isolate starting term</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"999999"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create start variable</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, start <span class="op">=</span> <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Closer look</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">term</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25785305"</span><span class="op">]</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25785305"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25788338"</span><span class="op">]</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25788338"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25929928"</span><span class="op">]</span></span>
<span><span class="va">term</span><span class="op">[</span><span class="va">mcid</span> <span class="op">==</span> <span class="st">"MID25929928"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter by program</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">join_labels</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">start</span>, <span class="va">program</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<style type="text/css">
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
</style>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
