<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Graduation rate • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Graduation rate">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9027</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/art-009-planning.html">Planning</a>
    <a class="dropdown-item" href="../articles/art-010-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-020-degree-seeking.html">Degree seeking (inner joins)</a>
    <a class="dropdown-item" href="../articles/art-030-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-035-blocs.html">Blocs</a>
    <a class="dropdown-item" href="../articles/art-040-completion.html">Completion status</a>
    <a class="dropdown-item" href="../articles/art-070-fye-proxies.html">FYE proxies</a>
    <a class="dropdown-item" href="../articles/art-080-starters.html">Starters</a>
    <a class="dropdown-item" href="../articles/art-050-demographics.html">Demographics (left outer joins)</a>
    <a class="dropdown-item" href="../articles/art-090-grad-rate.html">Graduation rate</a>
    <a class="dropdown-item" href="../articles/art-060-multiway.html">Multiway data and charts</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="art-090-grad-rate_files/kePrint-0.0.1/kePrint.js"></script><link href="art-090-grad-rate_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Graduation rate</h1>
            
            <h4 data-toc-skip class="date">2022-10-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/art-090-grad-rate.Rmd" class="external-link"><code>vignettes/art-090-grad-rate.Rmd</code></a></small>
      <div class="d-none name"><code>art-090-grad-rate.Rmd</code></div>
    </div>

    
    
<p>Graduation rate is a widely used, though flawed, measure of academic
achievement.</p>
<p>The American Council on Education estimates that the conventional
definition of graduation rate may exclude up to 60% of students at
4-year institutions <span class="citation">(<a href="#ref-Cook+Hartle:2011" role="doc-biblioref">Cook &amp; Hartle,
2011</a>)</span>. Nevertheless, as Cook and Hartle explain,</p>
<blockquote>
<p>… in the eyes of the public, policy makers, and the media, graduation
rate is a clear, simple, and logical—if often misleading—number.</p>
</blockquote>
<p>Recognizing that graduation rate is a popular metric, we propose a
definition of graduation rate that includes all conventionally excluded
students except migrators.</p>
<p><em>You can skip the FYE content in this vignette if your study
includes no FYE-style Engineering programs.</em></p>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>graduation rate (general)</dt>
<dd>
<p>Graduation rate <span class="math inline">\((G)\)</span> is the ratio
of the number of starter-completers <span class="math inline">\((N_{sc})\)</span> to the number of starters <span class="math inline">\((N_s)\)</span>, <span class="math display">\[
G=\frac{N_{sc}}{N_s}
\]</span></p>
</dd>
<dt>starter</dt>
<dd>
<p>A degree-seeking student enrolled in their first term in a
degree-granting program.</p>
</dd>
<dt>starter-completer</dt>
<dd>
<p>The subset of starters who graduate with a “timely” completion status
from their starting program.</p>
</dd>
<dt>degree completion</dt>
<dd>
<p>Graduating from a baccalaureate program</p>
</dd>
<dt>timely completion criterion</dt>
<dd>
<p>Completing a program in no more than a specified span of years, in
many cases, within 6 years after admission, or possibly less for some
transfer students.</p>
</dd>
<dt>migrator</dt>
<dd>
<p>A student who leaves one program to enroll in another at the same
institution. Also called <em>switchers.</em></p>
</dd>
<dt>undecided/unspecified</dt>
<dd>
<p>The MIDFIELD taxonomy includes the non-IPEDS code (CIP 999999) for
Undecided or Unspecified indicating instances in which a student has not
declared a major or an institution had not recorded a program.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="starters-and-migrators">Starters and migrators<a class="anchor" aria-label="anchor" href="#starters-and-migrators"></a>
</h2>
<p>Migrators can be problematic in determining graduation rate. The
metric accounts them starters in their original program but potentially
ignores them in their subsequent programs.</p>
<p>Relationships among migrators, starters, and completers of a given
program <em>P</em> are illustrated in Figure 1. The overall rectangle
represents all students ever enrolled in program <em>P</em>. Combined
regions 2 and 4 represent all graduates who completed program <em>P</em>
within 6 years.</p>
<ul>
<li><p>Region 1 represents the graduation rate denominator <span class="math inline">\((N_s)\)</span>.</p></li>
<li><p>Region 2, a subset of region 1, represents the graduation rate
numerator <span class="math inline">\((N_{sc})\)</span>.</p></li>
<li><p>Region 3 students are counted as starters in their original
programs.</p></li>
<li><p>Region 4, a subset of region 3, represents migrators who complete
program <em>P</em>.</p></li>
</ul>
<div class="figure">
<img src="../reference/figures/art-090-venn-diagram.png" style="width:100.0%" alt=""><p class="caption">Figure 1. How starters, migrators, and completers
relate as sets.</p>
</div>
<p><br>When calculating graduation rate, whether migrator-completers
(region 4) are included in the count of graduates depends how a program
is defined in terms of CIP codes.</p>
<ul>
<li><p><em>Institution level</em>. Graduation rate computed at the
institution level includes all migrators within the institution. For
example, starters in Engineering (CIP 14) who graduate in Business (CIP
52) are both starters and completers at the institution level. IPEDS
defines this rate as the <em>institution completion rate.</em></p></li>
<li><p><em>2-digit CIP</em>. Graduation rate includes migrator graduates
within the same 2-digit CIP. For example, starters in Engineering (CIP
14) graduating in Business (CIP 52) are excluded from the count of
Business graduates, but migrators within Engineering (all 6-digit CIP
codes starting with 14) are both starters and completers in
Engineering.</p></li>
<li><p><em>4-digit CIP</em>. Similar to the 2-digit case. For example,
starters in Electrical Engineering (CIP 1410) graduating in Mechanical
Engineering (CIP 1419) are excluded from the count of Mechanical
Engineering graduates, but migrators within Electrical Engineering (all
6-digit CIP codes starting with 1410) are both starters and completers
in Electrical Engineering.</p></li>
<li><p><em>6-digit CIP</em>. Rarely used. Graduation rate at this CIP
level excludes all migrators from the count of graduates.</p></li>
<li><p><em>Multiple CIPs</em>. In some cases, a single program or major
includes different 4-digit CIPs. For example, migrators between Systems
Engineering (CIP 1427), Industrial Engineering (CIP 1435), Manufacturing
Engineering (CIP 1436), and Operations Research (CIP 1437) might be
considered both starters and completers in a general program of
Industrial &amp; Systems Engineering.</p></li>
</ul>
<p>Because a migrator may have to complete remedial work in their new
program, their time to graduation may exceed the defined acceptable span
(typically 6 years). Yet graduation rate has no mechanism for extending
the timely completion span. (Developing such a heuristic for MIDFIELD
data is a potential topic of future work.)</p>
</div>
<div class="section level2">
<h2 id="who-is-a-starter">Who is a starter?<a class="anchor" aria-label="anchor" href="#who-is-a-starter"></a>
</h2>
<p>In the US, the predominant definition of graduation rate is that
established by the US Department of Education, Integrated Postsecondary
Education Data System (IPEDS). The IPEDS definition underlies the
finding cited earlier that a graduation rate metric may exclude up to
60% of students.</p>
<p>Many of the IPEDS exclusions relate to how starters are defined. By
expanding the starters definition, MIDFIELD proposes a graduation rate
definition that includes all conventionally excluded students except
migrators.</p>
<dl>
<dt>graduation rate (IPEDS)</dt>
<dd>
<p>The fraction of a cohort of full-time, first-time, degree-seeking
undergraduates who complete their program within a percentage (100%,
150%, or 200%) of the “normal” time (typically 4 years) as defined by
the institution. IPEDS excludes students who attend college part-time,
who transfer between institutions, and who start in Winter or Spring
terms <span class="citation">(<a href="#ref-IPEDS:2020" role="doc-biblioref">NCES-IPEDS, 2020</a>)</span>.</p>
</dd>
<dt>graduation rate (MIDFIELD)</dt>
<dd>
<p>The fraction of a cohort of degree-seeking undergraduates who
complete their program in a timely manner (typically 6 years). MIDFIELD
includes students who attend college part-time, who transfer between
institutions, and who start in any term. Table 1 summarizes the
comparison between the IPEDS and MIDFIELD graduation rate
definitions.</p>
</dd>
</dl>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 1: Comparing graduation rate definitions
</caption>
<thead><tr>
<th style="text-align:left;background-color: #c7eae5 !important;">
Item
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
IPEDS
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
MIDFIELD
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
MIDFIELD notes
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
completion span:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
4, 6, or 8 years
</td>
<td style="text-align:left;">
4, 6, or 8 years
</td>
<td style="text-align:left;">
Typical usage is 6 years
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
students admitted in:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Summer/Fall only
</td>
<td style="text-align:left;">
any term
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
part-time students are:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
excluded
</td>
<td style="text-align:left;">
included
</td>
<td style="text-align:left;">
Timely completion same as full-time students
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
transfer students are:
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
excluded
</td>
<td style="text-align:left;">
included
</td>
<td style="text-align:left;">
Timely completion span adjusted for level at entry
</td>
</tr>
</tbody>
</table>
<p><br></p>
<dl>
<dt>First-Year Engineering (FYE) starters</dt>
<dd>
<p>We estimate the degree-granting engineering program in which an FYE
student would have enrolled had they not been required to enroll in FYE.
The FYE proxy, a 6-digit CIP code, denotes the program of which the FYE
student can be considered a starter. For additional details, see the
vignette <a href="art-070-fye-proxies.html">FYE proxies</a>.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<ul>
<li><p>steps</p></li>
<li><p>steps</p></li>
</ul>
<p>This vignette in the MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li>Planning<br>
</li>
<li>Initial processing<br>
</li>
<li>Blocs<br>
</li>
<li>Grouping variables<br>
</li>
<li>Metrics
<ul>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">Graduation
rate</span><br>
</li>
<li>Stickiness<br>
</li>
</ul>
</li>
<li>Results</li>
</ol>
<p><em>Caveat:</em> The Student Unit Records included with midfieldr and
midfielddata are practice data, not research data, suitable for practice
working with SURs but not for drawing inferences about program
attributes or student experiences.</p>
</div>
<div class="section level2">
<h2 id="load-practice-data">Load practice data<a class="anchor" aria-label="anchor" href="#load-practice-data"></a>
</h2>
<p><em>Start a script</em>. If you are writing your own script to follow
along, we use these packages in this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Graduation rate</span></span>
<span><span class="co"># midfieldr vignette</span></span>
<span></span>
<span><span class="co"># Packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfieldr" class="external-link">"midfieldr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/MIDFIELDR/midfielddata" class="external-link">"midfielddata"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Printing options for data.table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  datatable.print.nrows <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><em>Load source data.</em> MIDFIELD practice data tables as described
in <a href="art-000-getting-started.html">Getting started</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load practice data sets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span>, package <span class="op">=</span> <span class="st">"midfielddata"</span><span class="op">)</span></span></code></pre></div>
<p><em>Optional.</em> A step to reduce the number of columns in the
source data table(s) to the minimum number required by midfieldr
functions. Particularly useful in interactive sessions when viewing the
data tables at various stages of an analysis.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select required midfieldr variables</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">student</span><span class="op">)</span></span>
<span><span class="va">term</span>    <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span><span class="va">degree</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View top few rows of the result</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">student</span>, n <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="co">#&gt;           mcid   institution   race    sex</span></span>
<span><span class="co">#&gt;         &lt;char&gt;        &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783135 Institution M  White   Male</span></span>
<span><span class="co">#&gt; 2: MID25783147 Institution M  White Female</span></span>
<span><span class="co">#&gt; 3: MID25783156 Institution M  White Female</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">term</span>, n <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="co">#&gt;           mcid   institution   term   cip6        level</span></span>
<span><span class="co">#&gt;         &lt;char&gt;        &lt;char&gt; &lt;char&gt; &lt;char&gt;       &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783135 Institution M  19911 520101  01 Freshman</span></span>
<span><span class="co">#&gt; 2: MID25783135 Institution M  19913 520101 02 Sophomore</span></span>
<span><span class="co">#&gt; 3: MID25783156 Institution M  20011 040201  01 Freshman</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">degree</span>, n <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="co">#&gt;           mcid   institution term_degree   cip6</span></span>
<span><span class="co">#&gt;         &lt;char&gt;        &lt;char&gt;      &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: MID25783162 Institution M       19963 521401</span></span>
<span><span class="co">#&gt; 2: MID25783178 Institution M       20001 143501</span></span>
<span><span class="co">#&gt; 3: MID25783188 Institution M       20023 230101</span></span></code></pre></div>
<p><em>Prepared data.</em> <code>study_programs</code>, included with
midfieldr, contains the CIP codes and custom program names for the case
study as developed in <a href="art-030-programs.html#case-study">Programs</a>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display prepared data</span></span>
<span><span class="va">study_programs</span></span>
<span><span class="co">#&gt;       cip6 program</span></span>
<span><span class="co">#&gt;     &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1: 140801      CE</span></span>
<span><span class="co">#&gt;  2: 140802      CE</span></span>
<span><span class="co">#&gt;  3: 140803      CE</span></span>
<span><span class="co">#&gt;  4: 140804      CE</span></span>
<span><span class="co">#&gt;  5: 140805      CE</span></span>
<span><span class="co">#&gt;  6: 140899      CE</span></span>
<span><span class="co">#&gt;  7: 141001      EE</span></span>
<span><span class="co">#&gt;  8: 141003      EE</span></span>
<span><span class="co">#&gt;  9: 141004      EE</span></span>
<span><span class="co">#&gt; 10: 141099      EE</span></span>
<span><span class="co">#&gt; 11: 141901      ME</span></span>
<span><span class="co">#&gt; 12: 142701     ISE</span></span>
<span><span class="co">#&gt; 13: 143501     ISE</span></span>
<span><span class="co">#&gt; 14: 143601     ISE</span></span>
<span><span class="co">#&gt; 15: 143701     ISE</span></span></code></pre></div>
<p><code>fye_proxy</code> contains the estimated FYE proxies for all FYE
students in the midfielddata practice data as developed in <a href="art-070-fye-proxies.html">FYE proxies</a>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display prepared data</span></span>
<span><span class="va">fye_proxy</span></span>
<span><span class="co">#&gt;              mcid  proxy</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 140801</span></span>
<span><span class="co">#&gt;    2: MID25783178 140701</span></span>
<span><span class="co">#&gt;    3: MID25783197 140701</span></span>
<span><span class="co">#&gt;    4: MID25783388 141901</span></span>
<span><span class="co">#&gt;    5: MID25783441 140801</span></span>
<span><span class="co">#&gt;   ---                   </span></span>
<span><span class="co">#&gt; 3734: MID26648222 141901</span></span>
<span><span class="co">#&gt; 3735: MID26648283 141901</span></span>
<span><span class="co">#&gt; 3736: MID26648422 142101</span></span>
<span><span class="co">#&gt; 3737: MID26648484 143501</span></span>
<span><span class="co">#&gt; 3738: MID26648553 141901</span></span></code></pre></div>
<div class="section level3">
<h3 id="initial-processing">Initial processing<a class="anchor" aria-label="anchor" href="#initial-processing"></a>
</h3>
<p><em>Copying.</em> Prevents operations on <code>DT</code> from
affecting <code>term</code> by reference <span class="citation">(<a href="#ref-data.table-reference-semantics" role="doc-biblioref">Dowle
&amp; Srinivasan, 2022</a>)</span>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span></code></pre></div>
<p><em>Data sufficiency.</em> Obtain the IDs of all students for whom
the data sufficiency criteria are satisfied. Code reproduced from <a href="art-010-data-sufficiency.html">Data sufficiency</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span></code></pre></div>
<p><em>Degree seeking.</em> Filter to retain degree-seeking students
only. Code reproduced from <a href="art-020-data-seeking.html">Degree
seeking</a>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for degree seeking</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid</span></span>
<span><span class="co">#&gt;             &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135</span></span>
<span><span class="co">#&gt;     2: MID25783162</span></span>
<span><span class="co">#&gt;     3: MID25783178</span></span>
<span><span class="co">#&gt;     4: MID25783195</span></span>
<span><span class="co">#&gt;     5: MID25783220</span></span>
<span><span class="co">#&gt;    ---            </span></span>
<span><span class="co">#&gt; 63948: MID26697574</span></span>
<span><span class="co">#&gt; 63949: MID26697576</span></span>
<span><span class="co">#&gt; 63950: MID26697599</span></span>
<span><span class="co">#&gt; 63951: MID26697615</span></span>
<span><span class="co">#&gt; 63952: MID26697623</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="starters">Starters<a class="anchor" aria-label="anchor" href="#starters"></a>
</h2>
<p>We identify starters and their CIP codes before assigning and
filtering for programs.</p>
<p><em>Create start variable.</em> Isolate the starting term and create
the <code>start</code> variable. Code reproduced from <a href="art-080-starters.html">Starters</a>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for initial term</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">term</span>, <span class="va">cip6</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"999999"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create start variable</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">fye_proxy</span><span class="op">[</span><span class="va">DT</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span>, <span class="va">proxy</span><span class="op">)</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">start</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op">==</span> <span class="st">"140102"</span>, <span class="va">proxy</span>,</span>
<span>  <span class="va">cip6</span> <span class="op">!=</span> <span class="st">"140102"</span>, <span class="va">cip6</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;               mcid   cip6  proxy  start</span></span>
<span><span class="co">#&gt;             &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;     1: MID25783135 520101   &lt;NA&gt; 520101</span></span>
<span><span class="co">#&gt;     2: MID25783162 140102 140801 140801</span></span>
<span><span class="co">#&gt;     3: MID25783178 140102 140701 140701</span></span>
<span><span class="co">#&gt;     4: MID25783195 040201   &lt;NA&gt; 040201</span></span>
<span><span class="co">#&gt;     5: MID25783220 110101   &lt;NA&gt; 110101</span></span>
<span><span class="co">#&gt;    ---                                 </span></span>
<span><span class="co">#&gt; 61846: MID26697574 450701   &lt;NA&gt; 450701</span></span>
<span><span class="co">#&gt; 61847: MID26697576 520301   &lt;NA&gt; 520301</span></span>
<span><span class="co">#&gt; 61848: MID26697599 521201   &lt;NA&gt; 521201</span></span>
<span><span class="co">#&gt; 61849: MID26697615 500901   &lt;NA&gt; 500901</span></span>
<span><span class="co">#&gt; 61850: MID26697623 451001   &lt;NA&gt; 451001</span></span></code></pre>
<p><em>Filter by program.</em> We join the case study programs labels to
the data frame and filter to retain the desired programs. Code
reproduced from <a href="art-080-starters.html">Starters</a>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter by program</span></span>
<span><span class="va">join_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">study_programs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">join_labels</span>, old <span class="op">=</span> <span class="st">"cip6"</span>, new <span class="op">=</span> <span class="st">"start"</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">join_labels</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span>, <span class="st">"start"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid  start program   cip6  proxy</span></span>
<span><span class="co">#&gt;            &lt;char&gt; &lt;char&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;    2: MID25783441 140801      CE 140102 140801</span></span>
<span><span class="co">#&gt;    3: MID25783491 141001      EE 140102 141001</span></span>
<span><span class="co">#&gt;    4: MID25783830 141001      EE 140102 141001</span></span>
<span><span class="co">#&gt;    5: MID25783912 143501     ISE 140102 143501</span></span>
<span><span class="co">#&gt;   ---                                         </span></span>
<span><span class="co">#&gt; 5786: MID26696642 141001      EE 141001   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5787: MID26696738 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5788: MID26696958 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5789: MID26696967 141901      ME 141901   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5790: MID26697444 141901      ME 141901   &lt;NA&gt;</span></span></code></pre>
<p><em>Copying.</em> Prevents operations on <code>starters</code> from
affecting <code>DT</code> by reference <span class="citation">(<a href="#ref-data.table-reference-semantics" role="doc-biblioref">Dowle
&amp; Srinivasan, 2022</a>)</span>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set aside for later use</span></span>
<span><span class="va">starters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre></div>
<p><em>Creating variables.</em> Add a group column with value
<code>start</code> throughout to distinguish these observations from the
observations of starters we derived earlier.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare the graduates</span></span>
<span><span class="va">starters</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">starters</span><span class="op">[</span>, <span class="va">group</span> <span class="op">:=</span> <span class="st">"start"</span><span class="op">]</span></span>
<span><span class="va">starters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">starters</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">starters</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program  group</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162      CE  start</span></span>
<span><span class="co">#&gt;    2: MID25783441      CE  start</span></span>
<span><span class="co">#&gt;    3: MID25783491      EE  start</span></span>
<span><span class="co">#&gt;    4: MID25783830      EE  start</span></span>
<span><span class="co">#&gt;    5: MID25783912     ISE  start</span></span>
<span><span class="co">#&gt;   ---                           </span></span>
<span><span class="co">#&gt; 5786: MID26696642      EE  start</span></span>
<span><span class="co">#&gt; 5787: MID26696738      ME  start</span></span>
<span><span class="co">#&gt; 5788: MID26696958      ME  start</span></span>
<span><span class="co">#&gt; 5789: MID26696967      ME  start</span></span>
<span><span class="co">#&gt; 5790: MID26697444      ME  start</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="graduates">Graduates<a class="anchor" aria-label="anchor" href="#graduates"></a>
</h2>
<p>In a graduation rate calculation, graduates are a subset starters.
Thus, referring to Figure 1, the starters derived above correspond to
region 1 and the graduates we derive next correspond to region 2.</p>
<p><em>Copying.</em> Prevents operations on <code>DT</code> from
affecting <code>starters</code> by reference <span class="citation">(<a href="#ref-data.table-reference-semantics" role="doc-biblioref">Dowle
&amp; Srinivasan, 2022</a>)</span>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">starters</span><span class="op">)</span></span></code></pre></div>
<p><em>Selecting.</em> We can start with the IDs only.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Isolate IDs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid</span></span>
<span><span class="co">#&gt;            &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162</span></span>
<span><span class="co">#&gt;    2: MID25783441</span></span>
<span><span class="co">#&gt;    3: MID25783491</span></span>
<span><span class="co">#&gt;    4: MID25783830</span></span>
<span><span class="co">#&gt;    5: MID25783912</span></span>
<span><span class="co">#&gt;   ---            </span></span>
<span><span class="co">#&gt; 5786: MID26696642</span></span>
<span><span class="co">#&gt; 5787: MID26696738</span></span>
<span><span class="co">#&gt; 5788: MID26696958</span></span>
<span><span class="co">#&gt; 5789: MID26696967</span></span>
<span><span class="co">#&gt; 5790: MID26697444</span></span></code></pre>
<p>The result has 5790 unique IDs. These IDs, as a subset of starters,
have already been filtered for data sufficiency and degree seeking. The
next step is to determine the CIP code of the program from which they
graduate.</p>
<p><em>Adding variables</em>. Add the degree information using a
left-outer join with <code>degree</code>. The CIP code is the program
(if any) from which the student graduated.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add degree information</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">degree</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid   institution term_degree   cip6</span></span>
<span><span class="co">#&gt;            &lt;char&gt;        &lt;char&gt;      &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162 Institution M       19963 521401</span></span>
<span><span class="co">#&gt;    2: MID25783441 Institution M       19963 140801</span></span>
<span><span class="co">#&gt;    3: MID25783491 Institution M       20001 141001</span></span>
<span><span class="co">#&gt;    4: MID25783830          &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;    5: MID25783912 Institution M       20001 143501</span></span>
<span><span class="co">#&gt;   ---                                             </span></span>
<span><span class="co">#&gt; 5786: MID26696642 Institution L       20153 141001</span></span>
<span><span class="co">#&gt; 5787: MID26696738 Institution L       20133 141901</span></span>
<span><span class="co">#&gt; 5788: MID26696958          &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5789: MID26696967 Institution L       20141 141901</span></span>
<span><span class="co">#&gt; 5790: MID26697444 Institution L       20151 240199</span></span></code></pre>
<p><em>Filter by program.</em> Like we did for starters earlier, we join
the case study program labels to the data frame and filter to retain the
desired programs. Code reproduced from <a href="art-080-starters.html">Starters</a>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter by program</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">study_programs</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;         cip6 program        mcid   institution term_degree</span></span>
<span><span class="co">#&gt;       &lt;char&gt;  &lt;char&gt;      &lt;char&gt;        &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: 140801      CE MID25783441 Institution M       19963</span></span>
<span><span class="co">#&gt;    2: 141001      EE MID25783491 Institution M       20001</span></span>
<span><span class="co">#&gt;    3: 143501     ISE MID25783912 Institution M       20001</span></span>
<span><span class="co">#&gt;    4: 140801      CE MID25784489 Institution M       19931</span></span>
<span><span class="co">#&gt;    5: 140801      CE MID25784709 Institution M       19971</span></span>
<span><span class="co">#&gt;   ---                                                     </span></span>
<span><span class="co">#&gt; 2767: 143501     ISE MID26696429 Institution L       20133</span></span>
<span><span class="co">#&gt; 2768: 141901      ME MID26696484 Institution L       20154</span></span>
<span><span class="co">#&gt; 2769: 141001      EE MID26696642 Institution L       20153</span></span>
<span><span class="co">#&gt; 2770: 141901      ME MID26696738 Institution L       20133</span></span>
<span><span class="co">#&gt; 2771: 141901      ME MID26696967 Institution L       20141</span></span></code></pre>
<p><em>Completion status.</em> Add columns for timely completion term
and completion status. Filter to retain observations for which
completion is timely. Code reproduced from <a href="art-040-completion.html">Completion status</a>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add completion status</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term_i"</span>, <span class="st">"level_i"</span>, <span class="st">"adj_span"</span><span class="op">)</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">completion_status</span> <span class="op">==</span> <span class="st">"timely"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Display the result</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;         cip6 program        mcid   institution timely_term term_degree</span></span>
<span><span class="co">#&gt;       &lt;char&gt;  &lt;char&gt;      &lt;char&gt;        &lt;char&gt;      &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: 140801      CE MID25783441 Institution M       19973       19963</span></span>
<span><span class="co">#&gt;    2: 140801      CE MID25784489 Institution M       19943       19931</span></span>
<span><span class="co">#&gt;    3: 140801      CE MID25784709 Institution M       19983       19971</span></span>
<span><span class="co">#&gt;    4: 140801      CE MID25784843 Institution M       19943       19931</span></span>
<span><span class="co">#&gt;    5: 140801      CE MID25784945 Institution M       20023       20013</span></span>
<span><span class="co">#&gt;   ---                                                                 </span></span>
<span><span class="co">#&gt; 2450: 143501     ISE MID26649343 Institution L       20153       20141</span></span>
<span><span class="co">#&gt; 2451: 143501     ISE MID26650789 Institution L       20161       20143</span></span>
<span><span class="co">#&gt; 2452: 143501     ISE MID26653208 Institution L       20163       20143</span></span>
<span><span class="co">#&gt; 2453: 143501     ISE MID26653383 Institution L       20163       20151</span></span>
<span><span class="co">#&gt; 2454: 143501     ISE MID26696429 Institution L       20153       20133</span></span>
<span><span class="co">#&gt;       completion_status</span></span>
<span><span class="co">#&gt;                  &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1:            timely</span></span>
<span><span class="co">#&gt;    2:            timely</span></span>
<span><span class="co">#&gt;    3:            timely</span></span>
<span><span class="co">#&gt;    4:            timely</span></span>
<span><span class="co">#&gt;    5:            timely</span></span>
<span><span class="co">#&gt;   ---                  </span></span>
<span><span class="co">#&gt; 2450:            timely</span></span>
<span><span class="co">#&gt; 2451:            timely</span></span>
<span><span class="co">#&gt; 2452:            timely</span></span>
<span><span class="co">#&gt; 2453:            timely</span></span>
<span><span class="co">#&gt; 2454:            timely</span></span></code></pre>
<p><em>Prepare for joining.</em> Rename the data frame to distinguish it
from starters before merging.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rename to distinguish graduates from starters before merging</span></span>
<span><span class="va">graduates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre></div>
<p>The result has 2454 observations of 2454 unique IDs. These two
numbers are not necessarily equal in all cases. Had students in this
example earned more than one degree in a term, the number of
observations would be greater than the number of unique students.</p>
</div>
<div class="section level2">
<h2 id="combine-observations">Combine observations<a class="anchor" aria-label="anchor" href="#combine-observations"></a>
</h2>
<p>To set up the data frame for grouping and summarizing, we want to
combine the <code>starters</code> and <code>graduates</code> data
frames.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rename program variable before merging</span></span>
<span><span class="va">starters</span>  <span class="op">&lt;-</span> <span class="va">starters</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, program_start <span class="op">=</span> <span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">graduates</span> <span class="op">&lt;-</span> <span class="va">graduates</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, program_grad <span class="op">=</span> <span class="va">program</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Combine using a left outer join </span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">graduates</span><span class="op">[</span><span class="va">starters</span>, on <span class="op">=</span> <span class="st">"mcid"</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              mcid program_grad program_start</span></span>
<span><span class="co">#&gt;            &lt;char&gt;       &lt;char&gt;        &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1: MID25783162         &lt;NA&gt;            CE</span></span>
<span><span class="co">#&gt;    2: MID25783441           CE            CE</span></span>
<span><span class="co">#&gt;    3: MID25783491           EE            EE</span></span>
<span><span class="co">#&gt;    4: MID25783830         &lt;NA&gt;            EE</span></span>
<span><span class="co">#&gt;    5: MID25783912          ISE           ISE</span></span>
<span><span class="co">#&gt;   ---                                       </span></span>
<span><span class="co">#&gt; 5786: MID26696642           EE            EE</span></span>
<span><span class="co">#&gt; 5787: MID26696738           ME            ME</span></span>
<span><span class="co">#&gt; 5788: MID26696958         &lt;NA&gt;            ME</span></span>
<span><span class="co">#&gt; 5789: MID26696967           ME            ME</span></span>
<span><span class="co">#&gt; 5790: MID26697444         &lt;NA&gt;            ME</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="closing">Closing<a class="anchor" aria-label="anchor" href="#closing"></a>
</h2>
<p>Summary of the vignette YBD</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Cook+Hartle:2011" class="csl-entry">
Cook, B., &amp; Hartle, T. W. (2011). <span class="nocase">Why
graduation rates matter—and why they don’t</span>. <em>The Presidency
Magazine</em>, <em>Spring/Summer 2011</em>.
</div>
<div id="ref-Dowle+Srinivasan:2021:data.table" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2021). <em><span class="nocase">data.table: Extension of data.frame</span></em>.
R package version 1.14.2. <a href="https://CRAN.R-project.org/package=data.table" class="external-link">https://CRAN.R-project.org/package=data.table</a>
</div>
<div id="ref-data.table-reference-semantics" class="csl-entry">
Dowle, M., &amp; Srinivasan, A. (2022). <em><span class="nocase">Reference semantics [data.table]</span></em>. <a href="https://rdatatable.gitlab.io/data.table/articles/datatable-reference-semantics.html" class="external-link">https://rdatatable.gitlab.io/data.table/articles/datatable-reference-semantics.html</a>
</div>
<div id="ref-IPEDS:2020" class="csl-entry">
NCES-IPEDS. (2020). <em><span>IPEDS Survey Methodology</span></em>.
<span>National Center for Education Statistics</span>; [Online; accessed
2020-07-29]. <a href="https://nces.ed.gov/ipeds/ReportYourData/IpedsSurveyMethodology" class="external-link">https://nces.ed.gov/ipeds/ReportYourData/IpedsSurveyMethodology</a>
</div>
<div id="ref-Wickham:2016:ggplot2" class="csl-entry">
Wickham, H. (2016). <em><span class="nocase">ggplot2: Elegant Graphics
for Data Analysis</span></em>. <span>ISBN 978-3-319-24277-4</span>;
Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org" class="external-link">https://ggplot2.tidyverse.org</a>
</div>
</div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<div class="section level3">
<h3 id="complete-script">Complete script<a class="anchor" aria-label="anchor" href="#complete-script"></a>
</h3>
<p>The vignette code chunks are collected below in a single, condensed
script.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Script</span></span></code></pre></div>
<style type="text/css">
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
</style>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
