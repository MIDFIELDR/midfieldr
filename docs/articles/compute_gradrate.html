<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Computing graduation rates â€¢ midfieldr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">midfieldr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/data.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/filter_cip.html">Filter CIP codes</a>
    </li>
    <li>
      <a href="../articles/compute_gradrate.html">Compute grad rates</a>
    </li>
    <li>
      <a href="../articles/graph_gradrate_case.html">Graph grad rates</a>
    </li>
    <li>
      <a href="../articles/compute_stickiness.html">Compute stickiness</a>
    </li>
    <li>
      <a href="../articles/graph_stickiness_case.html">Graph stickiness</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/graphdr/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Computing graduation rates</h1>
            
          </div>

    
    
<div class="contents">
<p>Graduation rate is the percentage of students starting in a program that graduate in that program. (This metric, while commonly used, fails to account for program graduates who matriculate in other programs.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># packages used in the vignette</span>
<span class="kw">library</span>(midfieldr)
<span class="kw">library</span>(midfieldstudent)

<span class="co"># from the tidyverse</span>
<span class="kw">library</span>(stringr)
<span class="kw">library</span>(dplyr)</code></pre></div>
<div id="select-the-programs-to-study" class="section level2">
<h2 class="hasAnchor">
<a href="#select-the-programs-to-study" class="anchor"></a>Select the programs to study</h2>
<p>Filter CIP program data by type and series. In the example, I select the largest engineering disciplines as shown in the <code><a href="../reference/filter_cip.html">filter_cip()</a></code> <a href="filter_cip.html">vignette</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># obtain all Engineering programs using 4-digit codes</span>
engr_cip4 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/filter_cip.html">filter_cip</a></span>(<span class="dv">4</span>,  series_engr)

<span class="co"># the largest engineering disciplines by numbers employed</span>
big_name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Civil"</span>, <span class="st">"Electrical"</span>, <span class="st">"Industrial"</span>, <span class="st">"Mechanical"</span>)
big_name_c &lt;-<span class="st"> </span><span class="kw">str_c</span>(big_name, <span class="dt">collapse =</span> <span class="st">"|"</span>)

<span class="co"># filter for big names only  </span>
engr_cip4 &lt;-<span class="st"> </span>engr_cip4 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(name, big_name_c)) 

engr_cip4
<span class="co">#&gt; # A tibble: 4 x 2</span>
<span class="co">#&gt;    code                                                  name</span>
<span class="co">#&gt;   &lt;chr&gt;                                                 &lt;chr&gt;</span>
<span class="co">#&gt; 1  1408                                     Civil Engineering</span>
<span class="co">#&gt; 2  1410 Electrical/Electronics and Communications Engineering</span>
<span class="co">#&gt; 3  1419                                Mechanical Engineering</span>
<span class="co">#&gt; 4  1435                                Industrial Engineering</span></code></pre></div>
</div>
<div id="gather-graduates" class="section level2">
<h2 class="hasAnchor">
<a href="#gather-graduates" class="anchor"></a>Gather graduates</h2>
<p>The midfieldstudent data package includes degree attributes of 89 886 unique students. <code><a href="../reference/gather_grad.html">gather_grad()</a></code> accesses the <code>degree</code> data for students graduating from the programs in the CIP list.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">grad &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gather_grad.html">gather_grad</a></span>(engr_cip4)
<span class="kw">glimpse</span>(grad)
<span class="co">#&gt; Observations: 4,342</span>
<span class="co">#&gt; Variables: 14</span>
<span class="co">#&gt; $ MID         &lt;dbl&gt; 821367863, 823388749, 822806902, 823732750, 821427...</span>
<span class="co">#&gt; $ GYEAR       &lt;dbl&gt; 1993, 1994, 1993, 1993, 1993, 1993, 1993, 1992, 19...</span>
<span class="co">#&gt; $ DEGREE      &lt;chr&gt; "BS", "BS", "BS", "BS", "BS", "BS", "BS", "BS", "B...</span>
<span class="co">#&gt; $ GDESC       &lt;chr&gt; "Civil Engineering", "Electrical Engineering", "Me...</span>
<span class="co">#&gt; $ GTERM       &lt;chr&gt; "SP", "SP", "SP", "SP", "SP", "SP", "SP", "FA", "S...</span>
<span class="co">#&gt; $ INSTITUTION &lt;chr&gt; "Institution 1", "Institution 1", "Institution 1",...</span>
<span class="co">#&gt; $ CIP         &lt;chr&gt; "140801", "141001", "141901", "141901", "141901", ...</span>
<span class="co">#&gt; $ GCODE       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ GCIP2       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ GDESC2      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ GCODE2      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ GCIP3       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ GDESC3      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span>
<span class="co">#&gt; $ GCODE3      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...</span></code></pre></div>
<p>The example yields 4342 unique students with degrees in the selected programs. The CIP codes in the degree data are the 6-digit versions of the codes we selected.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># CIP codes in the degree data</span>
<span class="kw">sort</span>(<span class="kw">unique</span>(grad<span class="op">$</span>GCIP))
<span class="co">#&gt; Warning: Unknown or uninitialised column: 'GCIP'.</span>
<span class="co">#&gt; Warning in is.na(x): is.na() applied to non-(list or vector) of type 'NULL'</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>The program names in the degree data are recognizable disciplines of the CIP codes we selected (Civil, Electrical, Industrial, Mechanical).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># program names as described the institution</span>
<span class="kw">sort</span>(<span class="kw">unique</span>(grad<span class="op">$</span>GDESC))
<span class="co">#&gt; [1] "Civil Engineering"                  </span>
<span class="co">#&gt; [2] "Electrical Engineering"             </span>
<span class="co">#&gt; [3] "Industrial Engineering"             </span>
<span class="co">#&gt; [4] "Industrial Engineering Management"  </span>
<span class="co">#&gt; [5] "Lasers and Optical Engineering"     </span>
<span class="co">#&gt; [6] "Mechanical Engineering"             </span>
<span class="co">#&gt; [7] "Soil and Water Resource Engineering"</span></code></pre></div>
</div>
<div id="gather-starters" class="section level2">
<h2 class="hasAnchor">
<a href="#gather-starters" class="anchor"></a>Gather starters</h2>
<!-- - For graduation in 6 years or less, some students will have to be filtered. Need to ask how the 6 years is computed.  -->
<!-- Ready to group and summarize.  -->
<!-- ```{r} -->
<!-- this_group <- group_by(grads, ETHNIC, SEX, GCIP) -->
<!-- grads_summary <- summarise(this_group, N = n()) %>%  -->
<!--    arrange(GCIP, SEX, ETHNIC) -->
<!-- kable(grads_summary) -->
<!-- ``` -->
<!-- Filter out  "No response" and "International" in ethnicity.  -->
<!-- ```{r} -->
<!-- grads_summary <- grads_summary %>%  -->
<!--    filter(!ETHNIC %in% c("No Response", "International")) %>%  -->
<!--    mutate(code = str_sub(GCIP, 1, 4)) %>%  -->
<!--    select(-GCIP) -->
<!-- grads_summary <- left_join(grads_summary, engr_cip) -->
<!-- ``` -->
<!-- ```{r} -->
<!-- library(tidyr) -->
<!-- grads_summary <- grads_summary %>%  -->
<!--    mutate(name = str_replace(name, "Chemical Engineering", "CHE")) %>%  -->
<!--    mutate(name = str_replace(name, "Civil Engineering", "CVE")) %>%  -->
<!--    mutate(name = str_replace(name, "Electrical/Electronics and Communications Engineering", "ELE")) %>%  -->
<!--    mutate(name = str_replace(name, "Mechanical Engineering", "MCE"))  %>%  -->
<!--    rename(program = name) %>%  -->
<!--    select(program, ETHNIC, SEX, N) %>%  -->
<!--    rename(ethnicity = ETHNIC, sex = SEX) %>%  -->
<!--    arrange(program, sex, ethnicity)  -->
<!-- # %>%  -->
<!-- #  unite(peer_group, c(ethnicity, sex), sep = " ") -->
<!-- kable(grads_summary)    -->
<!-- ``` -->
<!-- ```{r fig.height = 6} -->
<!-- library(ggplot2) -->
<!-- ggplot(data = grads_summary, aes(y = reorder(ethnicity, N, median), x = N, color = sex)) + -->
<!--   geom_point(size = 2.5) + -->
<!--   facet_wrap(~ reorder(program, -N, median), ncol = 1L) + -->
<!--   labs(y = '', x = 'Numbers of graduates (log2 scale)') + -->
<!--   theme_light() +  -->
<!--    scale_x_continuous(trans ='log2', breaks = 2^seq(1:10)) + -->
<!--    theme(panel.grid.minor = element_blank()) -->
<!-- ``` -->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#select-the-programs-to-study">Select the programs to study</a></li>
      <li><a href="#gather-graduates">Gather graduates</a></li>
      <li><a href="#gather-starters">Gather starters</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
