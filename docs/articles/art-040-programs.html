<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="midfieldr">
<title>Programs • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Courier_Prime-0.4.2/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Programs">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9029</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="../articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="../articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="../articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/art-010-planning.html">Planning</a>
    <a class="dropdown-item" href="../articles/art-020-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="../articles/art-030-degree-seeking.html">Degree seeking</a>
    <a class="dropdown-item" href="../articles/art-040-programs.html">Programs</a>
    <a class="dropdown-item" href="../articles/art-050-blocs.html">Blocs</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="art-040-programs_files/kePrint-0.0.1/kePrint.js"></script><link href="art-040-programs_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Programs</h1>
            
            <h4 data-toc-skip class="date">2022-12-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/HEAD/vignettes/articles/art-040-programs.Rmd" class="external-link"><code>vignettes/articles/art-040-programs.Rmd</code></a></small>
      <div class="d-none name"><code>art-040-programs.Rmd</code></div>
    </div>

    
    
<p>In the US, instructional programs are encoded by 6-digit numbers
curated by the US Department of Education. The US standard encoding
format is a two-digit number followed by a period, followed by a
four-digit number, for example, 14.0102. MIDFIELD uses the same
numerals, but omits the period, i.e., 140102, and stores the variable as
a character string.</p>
<p>This vignette in the MIDFIELD workflow.</p>
<ol style="list-style-type: decimal">
<li>Planning<br>
</li>
<li>
<span style=" font-weight: bold;    color: #b35806 !important;">Initial
processing</span>
<ul>
<li>Data sufficiency<br>
</li>
<li>Degree seeking<br>
</li>
<li><span style=" font-weight: bold;    color: #b35806 !important;">Identify
programs</span></li>
</ul>
</li>
<li>Blocs<br>
</li>
<li>Groupings<br>
</li>
<li>Metrics<br>
</li>
<li>Displays</li>
</ol>
<div class="section level2">
<h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h2>
<dl>
<dt>program</dt>
<dd>
<p>US academic field of study. Can be used to indicate a specialty
within a field or a collection of fields within a Department, College,
or University. Programs are denoted by the <em>Classification of
Instructional Programs</em> (CIP), a taxonomy of academic programs
curated by the US Department of Education <span class="citation">(<a href="#ref-NCES:2010" role="doc-biblioref">NCES, 2010</a>)</span>.</p>
</dd>
<dt>CIP</dt>
<dd>
<p><em>Classification of Instructional Programs</em>, a taxonomy of
academic programs curated by the US Department of Education <span class="citation">(<a href="#ref-NCES:2010" role="doc-biblioref">NCES,
2010</a>)</span>. The 2010 codes are included with midfieldr in the data
set <code>cip</code>.</p>
</dd>
<dt><code>cip6</code></dt>
<dd>
<p>Character variable in the <code>term</code> and <code>degree</code>
data tables of program observations. Values are 6-digit CIP codes.</p>
</dd>
</dl>
</div>
<div class="section level2">
<h2 id="method">Method<a class="anchor" aria-label="anchor" href="#method"></a>
</h2>
<p>We search the <code>cip</code> data set included with midfieldr using
a variety of techniques to obtain the set of 6-digit CIP codes for the
programs under study. We assign custom program names to codes or groups
of codes.</p>
<p><em>Reminder.</em>   The data in <code>midfielddata</code> are
practice data, suitable for learning to work with student-level data
generally but not for drawing inferences about program attributes or
student experiences. MIDFIELD data are for research;
<code>midfielddata</code> is for practice.</p>
</div>
<div class="section level2">
<h2 id="taxonomy">Taxonomy<a class="anchor" aria-label="anchor" href="#taxonomy"></a>
</h2>
<p>Academic programs have three levels of codes and names:</p>
<ul>
<li>6-digit code, a specific program</li>
<li>4-digit code, a group of 6-digit programs of comparable content</li>
<li>2-digit code, a grouping of 4-digit groups of related content</li>
</ul>
<p>Specialties within a discipline are encoded at the 6-digit level, the
discipline itself is represented by one or more 4-digit codes (roughly
corresponding to an academic department), and a collection of
disciplines are represented by one or more 2-digit codes (roughly
corresponding to an academic college).</p>
<p>For example, Geotechnical Engineering (140802) is a specialty in
Civil Engineering (1408) which is a department in the college of
Engineering (14).</p>
<p>To illustrate the taxonomy in a little more detail, we show in the
table the programs assigned to the 2-digit code 41, “Science
Technologies, Technicians”. This 2-digit grouping is subdivided into 5
groups at the 4-digit level (codes 4100–4199) which are further
subdivided into 9 programs at the 6-digit level (codes
410000–419999).</p>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 1: CIP taxonomy
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4100
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians, General
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410000
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians, General
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4101
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Biology Technician, Biotechnology Laboratory Technician
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410101
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Biology Technician, Biotechnology Laboratory Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410204
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Industrial Radiologic Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410205
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear, Nuclear Power Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410299
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear and Industrial Radiologic Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4103
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410301
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Chemical Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4103
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410303
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Chemical Process Technology
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4103
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410399
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Physical Science Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
 ↓
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4199
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians, Other
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
419999
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians, Other
</td>
</tr>
</tbody>
</table>
<p>A 2-digit program can include anywhere from four 4-digit programs
(e.g., code 24 Liberal Arts and Sciences, General Studies and
Humanities) to 238 4-digit programs (e.g., code 51 Health Professions
and Related Clinical Sciences).</p>
<p>And 4-digit programs include anywhere from one 6-digit program (e.g.,
code 4100 above) to 37 6-digit programs (e.g., code 1313 Education).</p>
<p>Unfortunately, some disciplines can comprise more than one 4-digit
code. For example, the programs that comprise the broad discipline of
Industrial and Systems Engineering encompass four distinct 4-digit
codes: 1427 Systems Engineering, 1435 Industrial Engineering, 1436
Manufacturing Engineering, and 1437 Operations Research. Hence the
importance of being able to search all CIP data for programs of
interest.</p>
</div>
<div class="section level2">
<h2 id="load-data">Load data<a class="anchor" aria-label="anchor" href="#load-data"></a>
</h2>
<p><em>Open.</em>   If you are writing your own script to follow along,
we use these packages in this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://midfieldr.github.io/midfieldr/">midfieldr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></code></pre></div>
<p><em>Loads with midfieldr.</em></p>
<ul>
<li>
<code>cip</code> adapted from <span class="citation">(<a href="#ref-NCES:2010" role="doc-biblioref">NCES, 2010</a>)</span>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="inspect-the-cip-data">Inspect the <code>cip</code> data<a class="anchor" aria-label="anchor" href="#inspect-the-cip-data"></a>
</h2>
<p>First glance.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loads with midfieldr</span></span>
<span><span class="va">cip</span></span>
<span><span class="co">#&gt;       cip2                                                  cip2name cip4</span></span>
<span><span class="co">#&gt;    1:   01 Agriculture, Agricultural Operations and Related Sciences 0100</span></span>
<span><span class="co">#&gt;    2:   01 Agriculture, Agricultural Operations and Related Sciences 0101</span></span>
<span><span class="co">#&gt;    3:   01 Agriculture, Agricultural Operations and Related Sciences 0101</span></span>
<span><span class="co">#&gt;    4:   01 Agriculture, Agricultural Operations and Related Sciences 0101</span></span>
<span><span class="co">#&gt;    5:   01 Agriculture, Agricultural Operations and Related Sciences 0101</span></span>
<span><span class="co">#&gt;   ---                                                                    </span></span>
<span><span class="co">#&gt; 1578:   54                                                   History 5401</span></span>
<span><span class="co">#&gt; 1579:   54                                                   History 5401</span></span>
<span><span class="co">#&gt; 1580:   54                                                   History 5401</span></span>
<span><span class="co">#&gt; 1581:   54                                                   History 5401</span></span>
<span><span class="co">#&gt; 1582:   99                         NonIPEDS - Undecided, Unspecified 9999</span></span>
<span><span class="co">#&gt;                                   cip4name   cip6</span></span>
<span><span class="co">#&gt;    1:                 Agriculture, General 010000</span></span>
<span><span class="co">#&gt;    2: Agricultural Business and Management 010101</span></span>
<span><span class="co">#&gt;    3: Agricultural Business and Management 010102</span></span>
<span><span class="co">#&gt;    4: Agricultural Business and Management 010103</span></span>
<span><span class="co">#&gt;    5: Agricultural Business and Management 010104</span></span>
<span><span class="co">#&gt;   ---                                            </span></span>
<span><span class="co">#&gt; 1578:                              History 540106</span></span>
<span><span class="co">#&gt; 1579:                              History 540107</span></span>
<span><span class="co">#&gt; 1580:                              History 540108</span></span>
<span><span class="co">#&gt; 1581:                              History 540199</span></span>
<span><span class="co">#&gt; 1582:    NonIPEDS - Undecided, Unspecified 999999</span></span>
<span><span class="co">#&gt;                                             cip6name</span></span>
<span><span class="co">#&gt;    1:                           Agriculture, General</span></span>
<span><span class="co">#&gt;    2:  Agricultural Business and Management, General</span></span>
<span><span class="co">#&gt;    3: Agribusiness, Agricultural Business Operations</span></span>
<span><span class="co">#&gt;    4:                         Agricultural Economics</span></span>
<span><span class="co">#&gt;    5:                Farm, Farm and Ranch Management</span></span>
<span><span class="co">#&gt;   ---                                               </span></span>
<span><span class="co">#&gt; 1578:                                  Asian History</span></span>
<span><span class="co">#&gt; 1579:                               Canadian History</span></span>
<span><span class="co">#&gt; 1580:                               Military History</span></span>
<span><span class="co">#&gt; 1581:                                 History, Other</span></span>
<span><span class="co">#&gt; 1582:              NonIPEDS - Undecided, Unspecified</span></span></code></pre></div>
<p>All variables in <code>cip</code> are character strings, which
protects the leading zeros of some CIP codes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Names and class of the CIP variables</span></span>
<span><span class="va">cip</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="va">class</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;         cip2  cip2name      cip4  cip4name      cip6  cip6name</span></span>
<span><span class="co">#&gt; 1: character character character character character character</span></span></code></pre></div>
<p>The number of unique programs.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 2-digit level</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cip</span><span class="op">$</span><span class="va">cip2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "01" "03" "04" "05" "09" "10" "11" "12" "13" "14" "15" "16" "19" "22" "23"</span></span>
<span><span class="co">#&gt; [16] "24" "25" "26" "27" "28" "29" "30" "31" "32" "33" "34" "35" "36" "37" "38"</span></span>
<span><span class="co">#&gt; [31] "39" "40" "41" "42" "43" "44" "45" "46" "47" "48" "49" "50" "51" "52" "54"</span></span>
<span><span class="co">#&gt; [46] "99"</span></span>
<span></span>
<span><span class="co"># 4-digit level</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cip</span><span class="op">$</span><span class="va">cip4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 394</span></span>
<span></span>
<span><span class="co"># 6-digit level</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cip</span><span class="op">$</span><span class="va">cip6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1582</span></span></code></pre></div>
<p>A sample of program names uses a random number generator, so your
result will differ from that shown).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 2-digit name sample</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">cip</span><span class="op">[</span>, <span class="va">cip2name</span><span class="op">]</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Education"                                                   </span></span>
<span><span class="co">#&gt;  [2] "Foreign Languages, Literatures and Linguistics"              </span></span>
<span><span class="co">#&gt;  [3] "Business, Management, Marketing and Related Support Services"</span></span>
<span><span class="co">#&gt;  [4] "Engineering"                                                 </span></span>
<span><span class="co">#&gt;  [5] "Family and Consumer Sciences, Human Sciences"                </span></span>
<span><span class="co">#&gt;  [6] "Engineering Technology"                                      </span></span>
<span><span class="co">#&gt;  [7] "Health Professions and Related Clinical Sciences"            </span></span>
<span><span class="co">#&gt;  [8] "Business, Management, Marketing and Related Support Services"</span></span>
<span><span class="co">#&gt;  [9] "Health Professions and Related Clinical Sciences"            </span></span>
<span><span class="co">#&gt; [10] "Physical Sciences"</span></span>
<span></span>
<span><span class="co"># 4-digit name sample</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">cip</span><span class="op">[</span>, <span class="va">cip4name</span><span class="op">]</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Allied Health Diagnostic, Intervention Treatment Professions"          </span></span>
<span><span class="co">#&gt;  [2] "Applied Horticulture, Horticultural Business Services"                 </span></span>
<span><span class="co">#&gt;  [3] "Ophthalmic and Optometric Support Services and Allied Professions"     </span></span>
<span><span class="co">#&gt;  [4] "Specialized Sales, Merchandising and Marketing Operations"             </span></span>
<span><span class="co">#&gt;  [5] "Engineering-Related Fields"                                            </span></span>
<span><span class="co">#&gt;  [6] "Teacher Education and Professional Development, Specific Subject Areas"</span></span>
<span><span class="co">#&gt;  [7] "Allied Health Diagnostic, Intervention Treatment Professions"          </span></span>
<span><span class="co">#&gt;  [8] "Leatherworking and Upholstery"                                         </span></span>
<span><span class="co">#&gt;  [9] "Health, Medical Preparatory Programs"                                  </span></span>
<span><span class="co">#&gt; [10] "Research and Experimental Psychology"</span></span>
<span></span>
<span><span class="co"># 6-digit name sample</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">cip</span><span class="op">[</span>, <span class="va">cip6name</span><span class="op">]</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Soil Sciences, Other"                                 </span></span>
<span><span class="co">#&gt;  [2] "Health, Medical Physics"                              </span></span>
<span><span class="co">#&gt;  [3] "Adult Literacy Tutor, Instructor"                     </span></span>
<span><span class="co">#&gt;  [4] "Environmental Design, Architecture"                   </span></span>
<span><span class="co">#&gt;  [5] "Advanced, Graduate Dentistry and Oral Sciences, Other"</span></span>
<span><span class="co">#&gt;  [6] "Dental Materials (MS, PhD)"                           </span></span>
<span><span class="co">#&gt;  [7] "Drafting and Design Technology, Technician, General"  </span></span>
<span><span class="co">#&gt;  [8] "Chemical Engineering Technology, Technician"          </span></span>
<span><span class="co">#&gt;  [9] "Social Science Teacher Education"                     </span></span>
<span><span class="co">#&gt; [10] "Sports and Exercise"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="filter_cip">
<code>filter_cip()</code><a class="anchor" aria-label="anchor" href="#filter_cip"></a>
</h2>
<p>Subset the <code>cip</code> data frame, retaining rows that match or
partially match a vector of character strings.</p>
<p>As a general text search function, <code><a href="../reference/filter_cip.html">filter_cip()</a></code> could be
applied to data frames other than <code>cip</code>. Within midfieldr,
however, it’s role is to search for CIP content (hence its name).</p>
<p><em>Arguments.</em></p>
<ul>
<li><p><strong><code>dframe</code></strong>   Data frame to be subset,
default <code>cip</code>.</p></li>
<li><p><strong><code>keep_text</code></strong>   Character vector of
search text for retaining rows, not case-sensitive.</p></li>
<li><p><strong><code>drop_text</code></strong>   Optional character
vector of search text for dropping rows. Argument to be used by
name.</p></li>
<li><p><strong><code>select</code></strong>   Optional character vector
of column names to search and return, default all columns. Argument to
be used by name.</p></li>
</ul>
<p><em>Equivalent usage.</em>   The following implementations yield
identical results,</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First two arguments in order and explicitly named</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span>dframe <span class="op">=</span> <span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"engineering"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># First two arguments in order, but not named</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">cip</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"engineering"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Dropping vector notation when one element only</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">cip</span>, <span class="st">"engineering"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>In a deviation from conventional R usage, the function is designed to
permit usage such as <code>filter_cip(character_vector)</code> in which
the position of the first two arguments is ignored if and only if the
first argument is both unnamed and a character vector. In this case, the
character vector is assigned to the <code>keep_text</code> argument and
the <code>cip</code> data set included with midfieldr is assigned to the
<code>dframe</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Special case</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"engineering"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p><em>Output.</em>   Subset of <code>dframe</code> with rows matching
elements of <code>keep_text</code>. Additional subsetting if optional
arguments specified. Examples follow.</p>
</div>
<div class="section level2">
<h2 id="using-a-keyword-search">Using a keyword search<a class="anchor" aria-label="anchor" href="#using-a-keyword-search"></a>
</h2>
<p>Filtering the CIP data for all programs containing the word
“engineering” yields 119 observations.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter basics</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"engineering"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      cip2                                         cip2name cip4</span></span>
<span><span class="co">#&gt;   1:   14                                      Engineering 1401</span></span>
<span><span class="co">#&gt;   2:   14                                      Engineering 1401</span></span>
<span><span class="co">#&gt;   3:   14                                      Engineering 1402</span></span>
<span><span class="co">#&gt;   4:   14                                      Engineering 1403</span></span>
<span><span class="co">#&gt;   5:   14                                      Engineering 1404</span></span>
<span><span class="co">#&gt;  ---                                                           </span></span>
<span><span class="co">#&gt; 115:   15                           Engineering Technology 1516</span></span>
<span><span class="co">#&gt; 116:   15                           Engineering Technology 1599</span></span>
<span><span class="co">#&gt; 117:   29                            Military Technologies 2903</span></span>
<span><span class="co">#&gt; 118:   29                            Military Technologies 2903</span></span>
<span><span class="co">#&gt; 119:   51 Health Professions and Related Clinical Sciences 5123</span></span>
<span><span class="co">#&gt;                                                     cip4name   cip6</span></span>
<span><span class="co">#&gt;   1:                                    Engineering, General 140101</span></span>
<span><span class="co">#&gt;   2:                                    Engineering, General 140102</span></span>
<span><span class="co">#&gt;   3:   Aerospace, Aeronautical and Astronautical Engineering 140201</span></span>
<span><span class="co">#&gt;   4: Agricultural, Biological Engineering and Bioengineering 140301</span></span>
<span><span class="co">#&gt;   5:                               Architectural Engineering 140401</span></span>
<span><span class="co">#&gt;  ---                                                               </span></span>
<span><span class="co">#&gt; 115:                                          Nanotechnology 151601</span></span>
<span><span class="co">#&gt; 116:    Engineering-Related Technologies, Technicians, Other 159999</span></span>
<span><span class="co">#&gt; 117:                               Military Applied Sciences 290301</span></span>
<span><span class="co">#&gt; 118:                               Military Applied Sciences 290303</span></span>
<span><span class="co">#&gt; 119:              Rehabilitation and Therapeutic Professions 512312</span></span>
<span><span class="co">#&gt;                                                              cip6name</span></span>
<span><span class="co">#&gt;   1:                                             Engineering, General</span></span>
<span><span class="co">#&gt;   2:                                                  Pre-Engineering</span></span>
<span><span class="co">#&gt;   3:     Aerospace, Aeronautical and Astronautical, Space Engineering</span></span>
<span><span class="co">#&gt;   4:          Agricultural, Biological Engineering and Bioengineering</span></span>
<span><span class="co">#&gt;   5:                                        Architectural Engineering</span></span>
<span><span class="co">#&gt;  ---                                                                 </span></span>
<span><span class="co">#&gt; 115:                                                   Nanotechnology</span></span>
<span><span class="co">#&gt; 116:             Engineering Related Technologies, Technicians, Other</span></span>
<span><span class="co">#&gt; 117:                                       Combat Systems Engineering</span></span>
<span><span class="co">#&gt; 118:                                            Engineering Acoustics</span></span>
<span><span class="co">#&gt; 119: Assistive, Augmentative Technology and Rehabiliation Engineering</span></span></code></pre></div>
<p>The optional <code>drop_text</code> and <code>select</code> arguments
have to be named explicitly.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Optional arguments drop_text and select</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"engineering"</span>,</span>
<span>  drop_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"related"</span>, <span class="st">"technology"</span>, <span class="st">"technologies"</span><span class="op">)</span>,</span>
<span>  select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip6name"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;       cip6                                                     cip6name</span></span>
<span><span class="co">#&gt;  1: 140101                                         Engineering, General</span></span>
<span><span class="co">#&gt;  2: 140102                                              Pre-Engineering</span></span>
<span><span class="co">#&gt;  3: 140201 Aerospace, Aeronautical and Astronautical, Space Engineering</span></span>
<span><span class="co">#&gt;  4: 140301      Agricultural, Biological Engineering and Bioengineering</span></span>
<span><span class="co">#&gt;  5: 140401                                    Architectural Engineering</span></span>
<span><span class="co">#&gt; ---                                                                    </span></span>
<span><span class="co">#&gt; 50: 144201            Mechatronics, Robotics and Automation Engineering</span></span>
<span><span class="co">#&gt; 51: 144301                                      Biochemical Engineering</span></span>
<span><span class="co">#&gt; 52: 144401                                        Engineering Chemistry</span></span>
<span><span class="co">#&gt; 53: 144501                           Biological, Biosystems Engineering</span></span>
<span><span class="co">#&gt; 54: 149999                                           Engineering, Other</span></span></code></pre></div>
<p>Columns in <code>select</code> are subset after filtering for
<code>keep_text</code> and <code>drop_text</code></p>
<p>Suppose we want to find the CIP codes and names for all programs in
Civil Engineering. The search is insensitive to case, so we start with
the following code chunk.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example 1 filter using keywords</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"civil"</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 2. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
05
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
0501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
050102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
American, United States Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
05
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
0501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
050103
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Asian Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
05
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
0501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
050106
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
European Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140801
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140802
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140803
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140804
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140805
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140899
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
15
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering Technology
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1502
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
150201
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
15
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering Technology
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1513
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Drafting, Design Engineering Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
151304
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Drafting and Civil Engineering CAD, CADD
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
30
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Muti, Interdisciplinary Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
3022
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Classical and Ancient, Oriental Studies - Multi, Interdisciplinary
Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
302201
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Multi, Interdisciplinary Studies - Ancient Studies, Civilization
</td>
</tr>
</tbody>
</table>
<p>The search returns some programs with Civilization in their names as
well as Engineering Technology. If we wanted Civil Engineering only, we
can use a sequence of function calls, where the outcome of the one
operation is assigned to the first argument of the next operation.</p>
<p>The following code chunk could be read as, “Start with the
<code>cip</code> data frame, then keep any rows in which ‘civil’ is
detected, then keep any rows in which ‘engineering’ is detected, then
drop any rows in which ‘technology’ is detected.” The first pass
operates on <code>cip</code>, but successive passes do not.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First search</span></span>
<span><span class="va">first_pass</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"civil"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Refine the search</span></span>
<span><span class="va">second_pass</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">first_pass</span>, keep_text <span class="op">=</span> <span class="st">"engineering"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Refine further</span></span>
<span><span class="va">third_pass</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">second_pass</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 3. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140801
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140802
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140803
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140804
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140805
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1408
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
140899
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
<p><em>Equivalent usage.</em>   Seeing that all Civil Engineering
programs have the same <code>cip4name</code>, we could have used
<code>keep_text = c("civil engineering")</code> to narrow the search to
rows that match the full phrase. The following implementations yield
identical results,</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Three passes</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"civil"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"engineering"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">x</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combined search</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"civil engineering"</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<div class="section level3">
<h3 id="exercises">Exercises<a class="anchor" aria-label="anchor" href="#exercises"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>Determine the set of 6-digit CIP codes you would expect to be
used by a College of Business.</p></li>
<li><p>The social sciences 2-digit CIP does not necessarily include all
possible social science programs. Let anthropology, economics,
geography, linguistics, political science, jurisprudence, psychology,
and sociology be defined a social sciences. Determine the set of 6-digit
codes we would collect to study these programs.</p></li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="using-a-numerical-code-search">Using a numerical code search<a class="anchor" aria-label="anchor" href="#using-a-numerical-code-search"></a>
</h2>
<p>Suppose we want to study programs relating to German culture,
language, and literature. Using “german” for the <code>keep_text</code>
value yields</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search on text</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"german"</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 4. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
05
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
0501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
050125
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
German Studies
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
13
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Education
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1313
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Teacher Education and Professional Development, Specific Subject Areas
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
131326
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
German Language Teacher Education
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160500
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures and Linguistics, General
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
German Language and Literature
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160502
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Scandinavian Languages, Literatures and Linguistics
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160503
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Danish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160504
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Dutch, Flemish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160505
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Norwegian Language and Literature
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160506
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Swedish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160599
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures and Linguistics, Other
</td>
</tr>
</tbody>
</table>
<p>From the 6-digit program names we find only two that are of interest,
German Studies (050125) and German Language and Literature (160501). We
use a character vector to assign these two codes to the
<code>keep_text</code> argument.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search on codes</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"050125"</span>, <span class="st">"160501"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 5. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
05
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
0501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Area Studies
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
050125
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
German Studies
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
16
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1605
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
160501
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
German Language and Literature
</td>
</tr>
</tbody>
</table>
<p>If the 6-digit codes are entered as integers, they produce an
error.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search that produces an error</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">cip</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">050125</span>, <span class="fl">160501</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in filter_cip(cip, c(50125, 160501)): Assertion on 'keep_text' failed. Must be of class 'string', not 'double'.</span></span></code></pre></div>
<div class="section level3">
<h3 id="exercise">Exercise<a class="anchor" aria-label="anchor" href="#exercise"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>In the Social sciences exercise in the previous section,
searching for “jurisprudence” produced two codes: “220203” and “220204.”
Search <code>cip</code> for these two codes and determine the 2-digit
program to which they belong.</p></li>
<li>
<p>Do an initial search on the term, “history.” From the
results,</p>
<ul>
<li>Identify the 2-digit CIP for history.<br>
</li>
<li>Use a numerical search for programs that start with that 2-digit
CIP.</li>
<li>Subset for the 6-digit CIPs and 6-digit CIP names.<br>
</li>
<li>Assign the result to the object name <code>exercise_cip</code>.</li>
</ul>
</li>
</ol>
<p>Answer given below to check your work.</p>
<pre><code><span><span class="co">#&gt;      cip6                                            cip6name</span></span>
<span><span class="co">#&gt; 1: 540101                                    History, General</span></span>
<span><span class="co">#&gt; 2: 540102                    American History (United States)</span></span>
<span><span class="co">#&gt; 3: 540103                                    European History</span></span>
<span><span class="co">#&gt; 4: 540104    History and Philosophy of Science and Technology</span></span>
<span><span class="co">#&gt; 5: 540105 Public, Applied History and Archival Administration</span></span>
<span><span class="co">#&gt; 6: 540106                                       Asian History</span></span>
<span><span class="co">#&gt; 7: 540107                                    Canadian History</span></span>
<span><span class="co">#&gt; 8: 540108                                    Military History</span></span>
<span><span class="co">#&gt; 9: 540199                                      History, Other</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="using-a-regular-expression-search">Using a regular expression search<a class="anchor" aria-label="anchor" href="#using-a-regular-expression-search"></a>
</h2>
<p>Specifying 4-digit codes yields a data frame all 6-digit programs
containing the 4-digit string. We use the regular expression notation
<code>^</code> to match the start of the strings.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example 3 filter using regular expressions</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"^1410"</span>, <span class="st">"^1419"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 6. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1410
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
141001
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1410
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
141003
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Laser and Optical Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1410
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
141004
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Telecommunications Engineering
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1410
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
141099
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Electrical, Electronics and Communications Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
14
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
1419
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Mechanical Engineering
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
141901
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Mechanical Engineering
</td>
</tr>
</tbody>
</table>
<p>The 2-digit series represent the most general groupings of related
programs. Here, the result includes all History programs.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search on 2-digit code</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="st">"^54"</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 7. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540101
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History, General
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
American History (United States)
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540103
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
European History
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540104
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History and Philosophy of Science and Technology
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540105
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Public, Applied History and Archival Administration
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540106
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Asian History
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540107
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Canadian History
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540108
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Military History
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
54
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
540199
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
History, Other
</td>
</tr>
</tbody>
</table>
<p>The series argument can include any combination of 2, 4, and 6-digit
codes. It can also be passed to the function as a character vector.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search on vector of codes</span></span>
<span><span class="va">codes_we_want</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"^24"</span>, <span class="st">"^4102"</span>, <span class="st">"^450202"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="va">codes_we_want</span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 8. Search results.
</caption>
<thead><tr>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip2
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip2name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip4
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip4name
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
cip6
</th>
<th style="text-align:left;background-color: #c7eae5 !important;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
24
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
240101
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, Liberal Studies
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
24
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
240102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
General Studies
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
24
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
240103
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Humanities, Humanistic Studies
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
24
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2401
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
240199
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Liberal Arts and Sciences, General Studies and Humanities, Other
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410204
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Industrial Radiologic Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410205
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear, Nuclear Power Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Science Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4102
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
410299
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Nuclear and Industrial Radiologic Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:right;color: black !important;background-color: white !important;">
45
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Social Sciences
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4502
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Anthropology
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
450202
</td>
<td style="text-align:left;color: black !important;background-color: white !important;">
Physical Anthropology
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="when-search-terms-cannot-be-found">When search terms cannot be found<a class="anchor" aria-label="anchor" href="#when-search-terms-cannot-be-found"></a>
</h2>
<p>If the <code>keep_text</code> argument includes terms that cannot be
found in the CIP data frame, the unsuccessful terms are identified in a
message and the successful terms produce the usual output.</p>
<p>For example, the following <code>keep_text</code> argument includes
three search terms that are not present in the CIP data (“111111”,
“^55”, and “Bogus”) and two that are (“050125” and “160501”).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Unsuccessful terms produce a message</span></span>
<span><span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"050125"</span>, <span class="st">"111111"</span>, <span class="st">"160501"</span>, <span class="st">"Bogus"</span>, <span class="st">"^55"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Can't find these terms: 111111, Bogus, ^55</span></span>
<span></span>
<span><span class="co"># But the successful terms are returned</span></span>
<span><span class="va">sub_cip</span></span>
<span><span class="co">#&gt;    cip2                                            cip2name cip4</span></span>
<span><span class="co">#&gt; 1:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span></span>
<span><span class="co">#&gt; 2:   16      Foreign Languages, Literatures and Linguistics 1605</span></span>
<span><span class="co">#&gt;                                       cip4name   cip6</span></span>
<span><span class="co">#&gt; 1:                                Area Studies 050125</span></span>
<span><span class="co">#&gt; 2: Germanic Languages, Literatures Linguistics 160501</span></span>
<span><span class="co">#&gt;                          cip6name</span></span>
<span><span class="co">#&gt; 1:                 German Studies</span></span>
<span><span class="co">#&gt; 2: German Language and Literature</span></span></code></pre></div>
<p>However, as seen earlier, if none of the search terms are found, an
error occurs.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># When none of the search terms are found</span></span>
<span><span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"111111"</span>, <span class="st">"Bogus"</span>, <span class="st">"^55"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: The search result is empty. Possible causes are:</span></span>
<span><span class="co">#&gt;  * 'dframe' contained no matches to terms in 'keep_text'.</span></span>
<span><span class="co">#&gt;  * 'drop_text' eliminated all remaining rows.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cip-data-from-another-source">CIP data from another source<a class="anchor" aria-label="anchor" href="#cip-data-from-another-source"></a>
</h2>
<p>If you use a CIP data set from another source, it must have the same
structure as <code>cip</code>: six character columns named as
follows,</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Name and class of variables (columns) in cip</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">cip</span>, FUN <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        cip2    cip2name        cip4    cip4name        cip6    cip6name </span></span>
<span><span class="co">#&gt; "character" "character" "character" "character" "character" "character"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="assigning-program-names">Assigning program names<a class="anchor" aria-label="anchor" href="#assigning-program-names"></a>
</h2>
<p>Programs in MIDFIELD data sets are encoded by 6-digit CIP codes. As
we’ve shown, multiple 6-digit codes can be considered specialties within
a larger program with a 4-digit code or even a set of distinct 4-digit
codes. Thus the program names in <code>cip</code> are generally
inadequate for grouping and summarizing. User-defined program names are
nearly always required.</p>
<blockquote>
<p><em>Most studies require deliberate assignment of user-defined
program names to CIP codes or groups of CIP codes.</em></p>
</blockquote>
<p>Here we demonstrate the creation of a data frame with all 6-digit CIP
codes in a study plus their user-defined names.</p>
<p>By searching <code>cip</code>, we can find that the 4-digit codes for
the four engineering programs are: Civil (1408), Electrical (1410),
Mechanical (1419), and Industrial/Systems (1427, 1435, 1436, and
1437).</p>
<p>We obtain their 6-digit CIP codes. The 4-digit names are appropriate
here. Our task is to create a variable with custom program names.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Changing the number of rows to print</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>datatable.print.nrows <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Four engineering programs</span></span>
<span><span class="va">four_programs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"^1408"</span>, <span class="st">"^1410"</span>, <span class="st">"^1419"</span>, <span class="st">"^1427"</span>, <span class="st">"^1435"</span>, <span class="st">"^1436"</span>, <span class="st">"^1437"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Retain the needed columns</span></span>
<span><span class="va">four_programs</span> <span class="op">&lt;-</span> <span class="va">four_programs</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;       cip6                                               cip4name</span></span>
<span><span class="co">#&gt;  1: 140801                                      Civil Engineering</span></span>
<span><span class="co">#&gt;  2: 140802                                      Civil Engineering</span></span>
<span><span class="co">#&gt;  3: 140803                                      Civil Engineering</span></span>
<span><span class="co">#&gt;  4: 140804                                      Civil Engineering</span></span>
<span><span class="co">#&gt;  5: 140805                                      Civil Engineering</span></span>
<span><span class="co">#&gt;  6: 140899                                      Civil Engineering</span></span>
<span><span class="co">#&gt;  7: 141001 Electrical, Electronics and Communications Engineering</span></span>
<span><span class="co">#&gt;  8: 141003 Electrical, Electronics and Communications Engineering</span></span>
<span><span class="co">#&gt;  9: 141004 Electrical, Electronics and Communications Engineering</span></span>
<span><span class="co">#&gt; 10: 141099 Electrical, Electronics and Communications Engineering</span></span>
<span><span class="co">#&gt; 11: 141901                                 Mechanical Engineering</span></span>
<span><span class="co">#&gt; 12: 142701                                    Systems Engineering</span></span>
<span><span class="co">#&gt; 13: 143501                                 Industrial Engineering</span></span>
<span><span class="co">#&gt; 14: 143601                              Manufacturing Engineering</span></span>
<span><span class="co">#&gt; 15: 143701                                    Operations Research</span></span></code></pre></div>
<p>To make the assignments clear, our approach here will be to assign a
new <code>program</code> column with NA values, then edit the new column
values.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Assign a new column</span></span>
<span><span class="va">four_programs</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="cn">NA_character_</span><span class="op">]</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;       cip6                                               cip4name program</span></span>
<span><span class="co">#&gt;  1: 140801                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  2: 140802                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  3: 140803                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  4: 140804                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  5: 140805                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  6: 140899                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  7: 141001 Electrical, Electronics and Communications Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  8: 141003 Electrical, Electronics and Communications Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  9: 141004 Electrical, Electronics and Communications Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10: 141099 Electrical, Electronics and Communications Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 11: 141901                                 Mechanical Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12: 142701                                    Systems Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 13: 143501                                 Industrial Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 14: 143601                              Manufacturing Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 15: 143701                                    Operations Research    &lt;NA&gt;</span></span></code></pre></div>
<div class="section level3">
<h3 id="use-cip4name-ilike-to-recode-one-value">1. Use <code>cip4name %ilike%</code> to recode one value<a class="anchor" aria-label="anchor" href="#use-cip4name-ilike-to-recode-one-value"></a>
</h3>
<p>The <code>%like%</code> function is essentially a wrapper function
around the base R <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> function. The
<code>%ilike%</code> version is case-insensitive. You can view the help
page by running (the back-ticks facilitate a help search for terms
starting with a symbol):</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run in Console</span></span>
<span><span class="op">?</span> <span class="va">`%like%`</span></span></code></pre></div>
<p>In this approach, we search for one distinctive term only. We’re
using abbreviations for compact output.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recode program using the 4-digit name</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="va">cip4name</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%ilike%</a></span> <span class="st">"electrical"</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"EE"</span><span class="op">]</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;       cip6                                               cip4name program</span></span>
<span><span class="co">#&gt;  1: 140801                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  2: 140802                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  3: 140803                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  4: 140804                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  5: 140805                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  6: 140899                                      Civil Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  7: 141001 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt;  8: 141003 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt;  9: 141004 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt; 10: 141099 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt; 11: 141901                                 Mechanical Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12: 142701                                    Systems Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 13: 143501                                 Industrial Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 14: 143601                              Manufacturing Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 15: 143701                                    Operations Research    &lt;NA&gt;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-cip6-like-to-recode-one-value">2. Use <code>cip6 %like%</code> to recode one value<a class="anchor" aria-label="anchor" href="#use-cip6-like-to-recode-one-value"></a>
</h3>
<p>In our second approach, we use the <code>%like%</code> function
again, but apply it to a CIP code. Here we use the regular expression
<code>^1408</code> meaning “starts with 1408.”</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recode program using the 4-digit code</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1408"</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"CE"</span><span class="op">]</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;       cip6                                               cip4name program</span></span>
<span><span class="co">#&gt;  1: 140801                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  2: 140802                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  3: 140803                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  4: 140804                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  5: 140805                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  6: 140899                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  7: 141001 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt;  8: 141003 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt;  9: 141004 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt; 10: 141099 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt; 11: 141901                                 Mechanical Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12: 142701                                    Systems Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 13: 143501                                 Industrial Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 14: 143601                              Manufacturing Engineering    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 15: 143701                                    Operations Research    &lt;NA&gt;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-program-fcase-to-edit-all-values">3. Use <code>program := fcase()</code> to edit all values<a class="anchor" aria-label="anchor" href="#use-program-fcase-to-edit-all-values"></a>
</h3>
<p>In this approach, we use the data.table function
<code><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase()</a></code>, an implementation of the SQL CASE WHEN statement.
The data.table function <code>%chin%</code> is like <code>%in%</code>,
but for character vectors.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recode all program values</span></span>
<span><span class="va">four_programs</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1408"</span>, <span class="st">"CE"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1410"</span>, <span class="st">"EE"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1419"</span>, <span class="st">"ME"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"142701"</span>, <span class="st">"143501"</span>, <span class="st">"143601"</span>, <span class="st">"143701"</span><span class="op">)</span>, <span class="st">"ISE"</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">four_programs</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;       cip6                                               cip4name program</span></span>
<span><span class="co">#&gt;  1: 140801                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  2: 140802                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  3: 140803                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  4: 140804                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  5: 140805                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  6: 140899                                      Civil Engineering      CE</span></span>
<span><span class="co">#&gt;  7: 141001 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt;  8: 141003 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt;  9: 141004 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt; 10: 141099 Electrical, Electronics and Communications Engineering      EE</span></span>
<span><span class="co">#&gt; 11: 141901                                 Mechanical Engineering      ME</span></span>
<span><span class="co">#&gt; 12: 142701                                    Systems Engineering     ISE</span></span>
<span><span class="co">#&gt; 13: 143501                                 Industrial Engineering     ISE</span></span>
<span><span class="co">#&gt; 14: 143601                              Manufacturing Engineering     ISE</span></span>
<span><span class="co">#&gt; 15: 143701                                    Operations Research     ISE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="exercises-1">Exercises<a class="anchor" aria-label="anchor" href="#exercises-1"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Obtain the 9 programs in the 2-digit program 54 History.</li>
<li>Add a <code>program</code> column with NA values.</li>
<li>Edit some of the values in the <code>program</code> column as
follows:
<ul>
<li>Rename both “General” and “Other” to “General History”</li>
<li>Shorten “History and Philosophy…” to “Sci/Tech History”</li>
<li>Shorten “American History …” to “US History”</li>
<li>Shorten “Public Applied …” to “Public/Applied History”</li>
<li>Others retain their 6-digit name</li>
</ul>
</li>
<li>Delete the <code>cip6name</code> column.</li>
</ol>
<p>Answer given below to check your work.</p>
<pre><code><span><span class="co">#&gt;      cip6                program</span></span>
<span><span class="co">#&gt; 1: 540101        General History</span></span>
<span><span class="co">#&gt; 2: 540102             US History</span></span>
<span><span class="co">#&gt; 3: 540103       European History</span></span>
<span><span class="co">#&gt; 4: 540104       Sci/Tech History</span></span>
<span><span class="co">#&gt; 5: 540105 Public/Applied History</span></span>
<span><span class="co">#&gt; 6: 540106          Asian History</span></span>
<span><span class="co">#&gt; 7: 540107       Canadian History</span></span>
<span><span class="co">#&gt; 8: 540108       Military History</span></span>
<span><span class="co">#&gt; 9: 540199        General History</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="reusable-code-programs">Reusable code: Programs<a class="anchor" aria-label="anchor" href="#reusable-code-programs"></a>
</h2>
<p><em>Preparation.</em>   To provide a working example, we select the
four engineering programs of the case study used throughout the
vignettes (Civil, Electrical, Industrial/Systems, and Mechanical
Engineering). We assume a prior search of <code>cip</code> yielded the
relevant codes used here. Requires editing before reuse with different
programs.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Edit as required for different programs</span></span>
<span><span class="va">case_study_programs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_cip.html">filter_cip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"^1408"</span>, <span class="st">"^1410"</span>, <span class="st">"^1419"</span>, <span class="st">"^1427"</span>, <span class="st">"^1435"</span>, <span class="st">"^1436"</span>, <span class="st">"^1437"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Programs.</em>   A summary code chunk for ready reference.
Requires editing before reuse with different programs.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recode program labels</span></span>
<span><span class="va">case_study_programs</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span></span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1408"</span>, <span class="st">"CE"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1410"</span>, <span class="st">"EE"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^1419"</span>, <span class="st">"ME"</span>,</span>
<span>  <span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/chmatch.html" class="external-link">%chin%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"142701"</span>, <span class="st">"143501"</span>, <span class="st">"143601"</span>, <span class="st">"143701"</span><span class="op">)</span>, <span class="st">"ISE"</span></span>
<span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">case_study_programs</span> <span class="op">&lt;-</span> <span class="va">case_study_programs</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, <span class="va">program</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p><em>Verify built-in data.</em>   <code>study_programs</code>,
included with midfieldr, contains the case study information developed
above. Here we verify that the two data frames have the same
content.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="../reference/same_content.html">same_content</a></span><span class="op">(</span><span class="va">case_study_programs</span>, <span class="va">study_programs</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-NCES:2010" class="csl-entry">
NCES. (2010). <em><span class="nocase">IPEDS Classification of
Instructional Programs (CIP)</span></em>. <span>National Center for
Education Statistics</span>. <a href="https://nces.ed.gov/ipeds/cipcode/" class="external-link">https://nces.ed.gov/ipeds/cipcode/</a>
</div>
</div>
<style type="text/css">
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
</style>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
