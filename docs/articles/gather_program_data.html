<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gather program data • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Gather program data">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/using_midfieldr.html">Using midfieldr</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/explore_cip.html">Explore program CIP codes</a>
    </li>
    <li>
      <a href="../articles/gather_program_data.html">Gather program data</a>
    </li>
    <li>
      <a href="../articles/feasible_completion.html">Filter for feasible completion</a>
    </li>
    <li>
      <a href="../articles/compute_stickiness.html">Compute stickiness</a>
    </li>
    <li>
      <a href="../articles/explore_multiway.html">Explore multiway data</a>
    </li>
    <li>
      <a href="../articles/impute_fye.html">Impute FYE starting majors</a>
    </li>
    <li>
      <a href="../articles/compute_grad_rate.html">Compute graduation rate</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers/Talks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/pages/talks.html">Talks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/get_session_info.html">Session info</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/pages/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="gather_program_data_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Gather program data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/gather_program_data.Rmd"><code>vignettes/gather_program_data.Rmd</code></a></small>
      <div class="hidden name"><code>gather_program_data.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In the vignette “Explore program CIP codes”, we show how to explore the <code>cip</code> data set using the <code><a href="../reference/cip_filter.html">cip_filter()</a></code> function to filter the data, retaining some instructional programs and dropping others.</p>
<p>In the student-record database, programs are encoded using 6-digit CIP codes. Thus, to find the student records affiliated with the programs we are studying, we isolate their 6-digit CIP codes.</p>
<p>Also, to prepare the data for eventual grouping, summarizing, and joining, we want to add a custom program label.</p>
<p>We use <code><a href="../reference/cip6_select.html">cip6_select()</a></code> to accomplish both steps. We apply these steps to the vignette case study as well as exploring optional values for the arguments.</p>
<p><br><a href="#top">▲ top of page</a></p>
</div>
<div id="custom-program-names" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-program-names" class="anchor"></a>Custom program names</h2>
<p>The case study programs are Civil, Electrical, Industrial, and Mechanical Engineering.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co"># packages used</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"midfieldr"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"dplyr"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"stringr"</span>)</pre></body></html></div>
<p>The data frame <code>exa_cip</code> (one of the midfieldr built-in datasets) contains the full CIP information for these four programs.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">exa_cip</span>)
<span class="co">#&gt; # A tibble: 12 x 6</span>
<span class="co">#&gt;   cip2  cip2name   cip4  cip4name                 cip6  cip6name                </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;                    &lt;chr&gt; &lt;chr&gt;                   </span>
<span class="co">#&gt; 1 14    Engineeri~ 1408  Civil Engineering        1408~ Civil Engineering, Gene~</span>
<span class="co">#&gt; 2 14    Engineeri~ 1408  Civil Engineering        1408~ Geotechnical Engineering</span>
<span class="co">#&gt; 3 14    Engineeri~ 1408  Civil Engineering        1408~ Structural Engineering  </span>
<span class="co">#&gt; 4 14    Engineeri~ 1408  Civil Engineering        1408~ Transportation and High~</span>
<span class="co">#&gt; 5 14    Engineeri~ 1408  Civil Engineering        1408~ Water Resources Enginee~</span>
<span class="co">#&gt; 6 14    Engineeri~ 1408  Civil Engineering        1408~ Civil Engineering, Other</span>
<span class="co">#&gt; 7 14    Engineeri~ 1410  Electrical, Electronics~ 1410~ Electrical, Electronics~</span>
<span class="co">#&gt; 8 14    Engineeri~ 1410  Electrical, Electronics~ 1410~ Laser and Optical Engin~</span>
<span class="co">#&gt; # ... with 4 more rows</span></pre></body></html></div>
<p>In these data, the program names at the 4-digit level are those associated with accredited engineering departments. To see the names in full,</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">exa_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">cip4</span>, <span class="no">cip4name</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 4 x 2</span>
<span class="co">#&gt;   cip4  cip4name                                              </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                                                 </span>
<span class="co">#&gt; 1 1408  Civil Engineering                                     </span>
<span class="co">#&gt; 2 1410  Electrical, Electronics and Communications Engineering</span>
<span class="co">#&gt; 3 1419  Mechanical Engineering                                </span>
<span class="co">#&gt; 4 1435  Industrial Engineering</span></pre></body></html></div>
<p>Three of these names are concise enough for using in faceted graphs (also called a lattice or small multiples). The electrical engineering default program name can be shortened, however.</p>
<p>Two approaches to editing the program labels are shown below.</p>
<div id="work-with-programs-one-at-a-time" class="section level3">
<h3 class="hasAnchor">
<a href="#work-with-programs-one-at-a-time" class="anchor"></a>1. Work with programs one at a time</h3>
<p>To work with the programs one at a time, we separate <code>exa_cip</code> into four data frames, one for each program.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co"># working with one program at a time</span>
<span class="no">cve</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1408"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 6 x 6</span>
<span class="co">#&gt;   cip2  cip2name    cip4  cip4name         cip6  cip6name                       </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;                          </span>
<span class="co">#&gt; 1 14    Engineering 1408  Civil Engineeri~ 1408~ Civil Engineering, General     </span>
<span class="co">#&gt; 2 14    Engineering 1408  Civil Engineeri~ 1408~ Geotechnical Engineering       </span>
<span class="co">#&gt; 3 14    Engineering 1408  Civil Engineeri~ 1408~ Structural Engineering         </span>
<span class="co">#&gt; 4 14    Engineering 1408  Civil Engineeri~ 1408~ Transportation and Highway Eng~</span>
<span class="co">#&gt; 5 14    Engineering 1408  Civil Engineeri~ 1408~ Water Resources Engineering    </span>
<span class="co">#&gt; 6 14    Engineering 1408  Civil Engineeri~ 1408~ Civil Engineering, Other</span></pre></body></html></div>
<p>Then we use <code><a href="../reference/cip6_select.html">cip6_select()</a></code> to extract the 6-digit columns and add a new <code>program</code> variable.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">cve</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="no">cve</span>, <span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 6 x 3</span>
<span class="co">#&gt;   cip6   cip6name                               program          </span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                                  &lt;chr&gt;            </span>
<span class="co">#&gt; 1 140801 Civil Engineering, General             Civil Engineering</span>
<span class="co">#&gt; 2 140802 Geotechnical Engineering               Civil Engineering</span>
<span class="co">#&gt; 3 140803 Structural Engineering                 Civil Engineering</span>
<span class="co">#&gt; 4 140804 Transportation and Highway Engineering Civil Engineering</span>
<span class="co">#&gt; 5 140805 Water Resources Engineering            Civil Engineering</span>
<span class="co">#&gt; 6 140899 Civil Engineering, Other               Civil Engineering</span></pre></body></html></div>
<p>Repeat for electrical engineering and combine the two steps using the pipe operator,</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">ele</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1410"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Electrical Engineering"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 4 x 3</span>
<span class="co">#&gt;   cip6   cip6name                                            program            </span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                                               &lt;chr&gt;              </span>
<span class="co">#&gt; 1 141001 Electrical, Electronics and Communications Enginee~ Electrical Enginee~</span>
<span class="co">#&gt; 2 141003 Laser and Optical Engineering                       Electrical Enginee~</span>
<span class="co">#&gt; 3 141004 Telecommunications Engineering                      Electrical Enginee~</span>
<span class="co">#&gt; 4 141099 Electrical, Electronics and Communications Enginee~ Electrical Enginee~</span></pre></body></html></div>
<p>An option for the program argument is <code>program = "cip4name"</code> to use the default 4-digit name.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">ise</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1435"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip4name"</span>)

<span class="no">mce</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1419"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip4name"</span>)</pre></body></html></div>
<p>We have 4 data frames that we combine row-wise using <code><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows()</a></code>.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">exa_program_group</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="no">cve</span>, <span class="no">ele</span>, <span class="no">ise</span>, <span class="no">mce</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 12 x 3</span>
<span class="co">#&gt;    cip6   cip6name                                            program           </span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;                                               &lt;chr&gt;             </span>
<span class="co">#&gt;  1 140801 Civil Engineering, General                          Civil Engineering </span>
<span class="co">#&gt;  2 140802 Geotechnical Engineering                            Civil Engineering </span>
<span class="co">#&gt;  3 140803 Structural Engineering                              Civil Engineering </span>
<span class="co">#&gt;  4 140804 Transportation and Highway Engineering              Civil Engineering </span>
<span class="co">#&gt;  5 140805 Water Resources Engineering                         Civil Engineering </span>
<span class="co">#&gt;  6 140899 Civil Engineering, Other                            Civil Engineering </span>
<span class="co">#&gt;  7 141001 Electrical, Electronics and Communications Enginee~ Electrical Engine~</span>
<span class="co">#&gt;  8 141003 Laser and Optical Engineering                       Electrical Engine~</span>
<span class="co">#&gt;  9 141004 Telecommunications Engineering                      Electrical Engine~</span>
<span class="co">#&gt; 10 141099 Electrical, Electronics and Communications Enginee~ Electrical Engine~</span>
<span class="co">#&gt; 11 143501 Industrial Engineering                              Industrial Engine~</span>
<span class="co">#&gt; 12 141901 Mechanical Engineering                              Mechanical Engine~</span></pre></body></html></div>
</div>
<div id="work-with-one-data-frame" class="section level3">
<h3 class="hasAnchor">
<a href="#work-with-one-data-frame" class="anchor"></a>2. Work with one data frame</h3>
<p>As a rule, the midfieldr vignettes are written for the R novice. We attempt to facilitate the reader’s understanding by reducing the density of the programming by using more and simpler lines of code than strictly necessary.</p>
<p>In this optional section, we rewrite the procedure used above to illustrate a more concise approach that simply operates on one data frame throughout.</p>
<ul>
<li>We assign the default 4-digit program names to all programs.</li>
<li>We then use <code><a href="https://stringr.tidyverse.org/reference/str_detect.html">stringr::str_detect()</a></code> to identify <code>cip6</code> values starting with 1410 and use <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> to change the corresponding <code>program</code> values to Electrical Engineering, leaving the other program names intact.</li>
</ul>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="co"># working with one data frame</span>
<span class="no">exa_program_group</span> <span class="kw">&lt;-</span> <span class="no">exa_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip4name"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span>(<span class="no">cip6</span>, <span class="st">"^1410"</span>), <span class="st">"Electrical Engineering"</span>, <span class="no">program</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 12 x 3</span>
<span class="co">#&gt;    cip6   cip6name                                            program           </span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;                                               &lt;chr&gt;             </span>
<span class="co">#&gt;  1 140801 Civil Engineering, General                          Civil Engineering </span>
<span class="co">#&gt;  2 140802 Geotechnical Engineering                            Civil Engineering </span>
<span class="co">#&gt;  3 140803 Structural Engineering                              Civil Engineering </span>
<span class="co">#&gt;  4 140804 Transportation and Highway Engineering              Civil Engineering </span>
<span class="co">#&gt;  5 140805 Water Resources Engineering                         Civil Engineering </span>
<span class="co">#&gt;  6 140899 Civil Engineering, Other                            Civil Engineering </span>
<span class="co">#&gt;  7 141001 Electrical, Electronics and Communications Enginee~ Electrical Engine~</span>
<span class="co">#&gt;  8 141003 Laser and Optical Engineering                       Electrical Engine~</span>
<span class="co">#&gt;  9 141004 Telecommunications Engineering                      Electrical Engine~</span>
<span class="co">#&gt; 10 141099 Electrical, Electronics and Communications Enginee~ Electrical Engine~</span>
<span class="co">#&gt; 11 141901 Mechanical Engineering                              Mechanical Engine~</span>
<span class="co">#&gt; 12 143501 Industrial Engineering                              Industrial Engine~</span></pre></body></html></div>
<p>Thus we have 3 lines of code producing the same result as we obtained earlier with 9 lines (excluding the print functions).</p>
<p><br><a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="options-for-the-program-argument" class="section level2">
<h2 class="hasAnchor">
<a href="#options-for-the-program-argument" class="anchor"></a>Options for the program argument</h2>
<p>In this section, we explore four options for <code>program</code> argument in <code><a href="../reference/cip6_select.html">cip6_select()</a></code>.</p>
<div id="option-1--assign-any-value" class="section level3">
<h3 class="hasAnchor">
<a href="#option-1--assign-any-value" class="anchor"></a>Option 1. Assign any value</h3>
<p>When a string of our own choosing is assigned to <code>program</code>, then that string is the value assigned to every observation.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="co"># program argument any value</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Leisure Studies"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
</tbody>
</table>
</div>
<div id="option-2--named-series-value" class="section level3">
<h3 class="hasAnchor">
<a href="#option-2--named-series-value" class="anchor"></a>Option 2. Named series value</h3>
<p>When <code>program = "named_series"</code> and <code>data</code> matches one of the named <code>cip_series</code>, then the value from the named series is assigned to the new column.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="co"># program argument a named series</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="no">cip_math_stat</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"named_series"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
270101
</td>
<td style="text-align:left;">
Mathematics, General
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270102
</td>
<td style="text-align:left;">
Algebra and Number Theory
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270103
</td>
<td style="text-align:left;">
Analysis and Functional Analysis
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270104
</td>
<td style="text-align:left;">
Geometry, Geometric Analysis
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270105
</td>
<td style="text-align:left;">
Topology and Foundations
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270199
</td>
<td style="text-align:left;">
Mathematics, Other
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270301
</td>
<td style="text-align:left;">
Applied Mathematics
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270303
</td>
<td style="text-align:left;">
Computational Mathematics
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270304
</td>
<td style="text-align:left;">
Computational and Applied Mathematics
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270305
</td>
<td style="text-align:left;">
Financial Mathematics
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270306
</td>
<td style="text-align:left;">
Mathematical Biology
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270399
</td>
<td style="text-align:left;">
Applied Mathematics, Other
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270501
</td>
<td style="text-align:left;">
Statistics, General
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270502
</td>
<td style="text-align:left;">
Mathematical Statistics and Probability
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270503
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
270599
</td>
<td style="text-align:left;">
Statistics, Other
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
<tr>
<td style="text-align:left;">
279999
</td>
<td style="text-align:left;">
Mathematics and Statistics, Other
</td>
<td style="text-align:left;">
Mathematics and Statistics
</td>
</tr>
</tbody>
</table>
</div>
<div id="option-3--default-cip-value" class="section level3">
<h3 class="hasAnchor">
<a href="#option-3--default-cip-value" class="anchor"></a>Option 3. Default CIP value</h3>
<p>When <code>program</code> is assigned one of three strings (“cip2name”, “cip4name”, or “cip6name”), then the 2-, 4-, or 6-digit names from <code>cip</code> are assigned to the new column. We saw the 4-digit name used earlier.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="co"># program argument the 2-digit name</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip2name"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="co"># program argument the 6-digit name</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip6name"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Sports Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Outdoor Education
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
</tr>
</tbody>
</table>
</div>
<div id="option-4--null-value" class="section level3">
<h3 class="hasAnchor">
<a href="#option-4--null-value" class="anchor"></a>Option 4. NULL value</h3>
<p>When <code>program = NULL</code>, then the 4-digit CIP program name is used. This result is identical to <code>program = "cip4name"</code>.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="co"># program argument NULL</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Outdoor Education
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
</tr>
</tbody>
</table>
<p><a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="cip-variables-with-non-standard-names" class="section level2">
<h2 class="hasAnchor">
<a href="#cip-variables-with-non-standard-names" class="anchor"></a>CIP variables with non-standard names</h2>
<p>Optional arguments in <code><a href="../reference/cip6_select.html">cip6_select()</a></code> accommodate the possibility that one uses a CIP data frame with different variable names than those in <code><a href="../reference/cip.html">midfieldr::cip</a></code>. The four columns accommodated are <code>cip6</code>, <code>cip6name</code>, <code>cip4name</code>, and <code>cip2name</code>.</p>
<p>For illustration only, let’s create a CIP data frame called <code>nonstandard_cip</code> with a different name for the two variables <code>cip6</code> and <code>cip6name</code>.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="co"># create CIP data frame with non-standard variable names</span>
<span class="no">nonstandard_cip</span> <span class="kw">&lt;-</span> <span class="no">exa_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="st">"CODE_6"</span> <span class="kw">=</span> <span class="no">cip6</span>, <span class="st">"NAME_6"</span> <span class="kw">=</span> <span class="no">cip6name</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 12 x 6</span>
<span class="co">#&gt;   cip2  cip2name    cip4  cip4name        CODE_6 NAME_6                         </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;  &lt;chr&gt;                          </span>
<span class="co">#&gt; 1 14    Engineering 1408  Civil Engineer~ 140801 Civil Engineering, General     </span>
<span class="co">#&gt; 2 14    Engineering 1408  Civil Engineer~ 140802 Geotechnical Engineering       </span>
<span class="co">#&gt; 3 14    Engineering 1408  Civil Engineer~ 140803 Structural Engineering         </span>
<span class="co">#&gt; 4 14    Engineering 1408  Civil Engineer~ 140804 Transportation and Highway Eng~</span>
<span class="co">#&gt; 5 14    Engineering 1408  Civil Engineer~ 140805 Water Resources Engineering    </span>
<span class="co">#&gt; # ... with 7 more rows</span></pre></body></html></div>
<div id="option-1--non-standard-names-kept-intact" class="section level3">
<h3 class="hasAnchor">
<a href="#option-1--non-standard-names-kept-intact" class="anchor"></a>Option 1. Non-standard names kept intact</h3>
<p>If the non-standard variable names must be kept intact, then we use the optional arguments <code>cip6</code> and <code>cip6name</code> so that <code><a href="../reference/cip6_select.html">cip6_select()</a></code> can operate on the nonstandard column names.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="co"># incorrect</span>
<span class="no">nonstandard_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; Error: Can't subset columns that don't exist.</span>
<span class="co">#&gt; Column `cip6` doesn't exist</span></pre></body></html></div>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="co"># correct using optional arguments</span>
<span class="no">nonstandard_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>, <span class="kw">cip6</span> <span class="kw">=</span> <span class="st">"CODE_6"</span>, <span class="kw">cip6name</span> <span class="kw">=</span> <span class="st">"NAME_6"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 12 x 3</span>
<span class="co">#&gt;   CODE_6 NAME_6                                 program          </span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                                  &lt;chr&gt;            </span>
<span class="co">#&gt; 1 140801 Civil Engineering, General             Civil Engineering</span>
<span class="co">#&gt; 2 140802 Geotechnical Engineering               Civil Engineering</span>
<span class="co">#&gt; 3 140803 Structural Engineering                 Civil Engineering</span>
<span class="co">#&gt; 4 140804 Transportation and Highway Engineering Civil Engineering</span>
<span class="co">#&gt; 5 140805 Water Resources Engineering            Civil Engineering</span>
<span class="co">#&gt; # ... with 7 more rows</span></pre></body></html></div>
</div>
<div id="option-2--non-standard-names-can-be-revised" class="section level3">
<h3 class="hasAnchor">
<a href="#option-2--non-standard-names-can-be-revised" class="anchor"></a>Option 2. Non-standard names can be revised</h3>
<p>If the non-standard variable names do not have to be kept intact, the simple option is to <code><a href="https://dplyr.tidyverse.org/reference/rename.html">dplyr::rename()</a></code> the nonstandard variable names to the standard names, e.g.,</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="co"># rename the variables</span>
<span class="no">standard_cip</span> <span class="kw">&lt;-</span> <span class="no">nonstandard_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="st">"cip6"</span> <span class="kw">=</span> <span class="no">CODE_6</span>, <span class="st">"cip6name"</span> <span class="kw">=</span> <span class="no">NAME_6</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; # A tibble: 12 x 3</span>
<span class="co">#&gt;   cip6   cip6name                               program          </span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                                  &lt;chr&gt;            </span>
<span class="co">#&gt; 1 140801 Civil Engineering, General             Civil Engineering</span>
<span class="co">#&gt; 2 140802 Geotechnical Engineering               Civil Engineering</span>
<span class="co">#&gt; 3 140803 Structural Engineering                 Civil Engineering</span>
<span class="co">#&gt; 4 140804 Transportation and Highway Engineering Civil Engineering</span>
<span class="co">#&gt; 5 140805 Water Resources Engineering            Civil Engineering</span>
<span class="co">#&gt; # ... with 7 more rows</span></pre></body></html></div>
<p><br><a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="case-study" class="section level2">
<h2 class="hasAnchor">
<a href="#case-study" class="anchor"></a>Case study</h2>
<p>The data frame <code>exa_program_group</code>, developed in the first half of the vignette, is also one of the midfieldr built-in datasets for use in the continuing case study.</p>
<p>To see the data set help page, run</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r">? <span class="no">exa_program_group</span></pre></body></html></div>
<p>To learn more about <code><a href="../reference/cip6_select.html">cip6_select()</a></code>, open the help page by running</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r">? <span class="no">cip6_select</span></pre></body></html></div>
<p><br><a href="#top">▲ top of page</a></p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs">

</div>
</div>
<div id="appendix" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix" class="anchor"></a>Appendix</h2>
<div id="complete-script" class="section level3">
<h3 class="hasAnchor">
<a href="#complete-script" class="anchor"></a>Complete script</h3>
<p>In response to requests from some of our workshop attendees, we collect the vignette code chunks in one script. We condense the script by omitting exploratory steps so we can focus on the steps that produce the results.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="co"># packages used</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"midfieldr"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"dplyr"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"stringr"</span>)

<span class="co"># working with one program at a time</span>
<span class="no">cve</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1408"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>)

<span class="no">ele</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1410"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Electrical Engineering"</span>)

<span class="no">ise</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1435"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip4name"</span>)

<span class="no">mce</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="no">exa_cip</span>, <span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^1419"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip4name"</span>)

<span class="no">exa_program_group</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="no">cve</span>, <span class="no">ele</span>, <span class="no">ise</span>, <span class="no">mce</span>)

<span class="co"># working with one data frame</span>
<span class="no">exa_program_group</span> <span class="kw">&lt;-</span> <span class="no">exa_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip4name"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span>(<span class="no">cip6</span>, <span class="st">"^1410"</span>), <span class="st">"Electrical Engineering"</span>, <span class="no">program</span>))

<span class="co"># program argument any value</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Leisure Studies"</span>)

<span class="co"># program argument a named series</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="no">cip_math_stat</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"named_series"</span>)

<span class="co"># program argument the 2-digit name</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip2name"</span>)

<span class="co"># program argument the 6-digit name</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"cip6name"</span>)

<span class="co"># program argument NULL</span>
<span class="no">cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip_filter.html">cip_filter</a></span>(<span class="kw">keep_any</span> <span class="kw">=</span> <span class="st">"^31"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>()

<span class="co"># create CIP data frame with non-standard variable names</span>
<span class="no">nonstandard_cip</span> <span class="kw">&lt;-</span> <span class="no">exa_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="st">"CODE_6"</span> <span class="kw">=</span> <span class="no">cip6</span>, <span class="st">"NAME_6"</span> <span class="kw">=</span> <span class="no">cip6name</span>)

<span class="co"># correct using optional arguments</span>
<span class="no">nonstandard_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>, <span class="kw">cip6</span> <span class="kw">=</span> <span class="st">"CODE_6"</span>, <span class="kw">cip6name</span> <span class="kw">=</span> <span class="st">"NAME_6"</span>)

<span class="co"># rename the variables</span>
<span class="no">standard_cip</span> <span class="kw">&lt;-</span> <span class="no">nonstandard_cip</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="st">"cip6"</span> <span class="kw">=</span> <span class="no">CODE_6</span>, <span class="st">"cip6name"</span> <span class="kw">=</span> <span class="no">NAME_6</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/cip6_select.html">cip6_select</a></span>(<span class="kw">program</span> <span class="kw">=</span> <span class="st">"Civil Engineering"</span>)</pre></body></html></div>
<p><br><a href="#top">▲ top of page </a><br><a href="../index.html">◁ main page </a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
