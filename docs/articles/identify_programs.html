<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identify programs • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Identify programs">
<meta property="og:description" content="midfieldr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">midfieldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9008</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/get_started.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_basics.html">Data basics</a>
    </li>
    <li>
      <a href="../articles/multiway_graphs.html">Multiway graphs and tables</a>
    </li>
    <li>
      <a href="../articles/identify_programs.html">Identify programs</a>
    </li>
    <li>
      <a href="../articles/handle_fye.html">Handle FYE programs</a>
    </li>
    <li>
      <a href="../articles/feasible_completion.html">Feasible completion</a>
    </li>
    <li>
      <a href="../articles/timely-completion.html">Timely completion</a>
    </li>
    <li>
      <a href="../articles/graduation_rate.html">Graduation rate</a>
    </li>
    <li>
      <a href="../articles/stickiness_metric.html">Stickiness metric</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/pages/get_session.html">Session info</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/pages/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="identify_programs_files/header-attrs-2.7/header-attrs.js"></script><script src="identify_programs_files/kePrint-0.0.1/kePrint.js"></script><link href="identify_programs_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Identify programs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MIDFIELDR/midfieldr/blob/master/vignettes/identify_programs.Rmd"><code>vignettes/identify_programs.Rmd</code></a></small>
      <div class="hidden name"><code>identify_programs.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In studying student records, a common first step is to subset the data, retaining some instructional programs and dropping others. In the US, instructional programs are encoded by “CIP” codes.</p>
<p>CIP is the acronym for <em>Classification of Instructional Programs</em>, a taxonomy of academic programs curated by the US Department of Education <span class="citation">(<a href="#ref-NCES:2010" role="doc-biblioref">NCES, 2010</a>)</span>. A CIP code is a 6-digit integer assigned to an instructional program. The 2010 CIP codes are included with midfieldr in the data set <code>cip</code>.</p>
<p>We explore the <code>cip</code> data set using several search strategies and we conclude by constructing an example data set used in subsequent vignettes.</p>
<div id="this-vignette-uses" class="section level3">
<h3 class="hasAnchor">
<a href="#this-vignette-uses" class="anchor"></a>This vignette uses</h3>
<p>midfieldr functions</p>
<ul>
<li><code><a href="../reference/filter_text.html">filter_text()</a></code></li>
</ul>
<p>packages</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MIDFIELDR/midfieldr">midfieldr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com">data.table</a></span><span class="op">)</span>

<span class="co"># print max 20 rows, otherwise 10 rows each head/tail</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>datatable.print.nrows <span class="op">=</span> <span class="fl">20</span>, datatable.print.topn <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="cip-data" class="section level2">
<h2 class="hasAnchor">
<a href="#cip-data" class="anchor"></a>CIP data</h2>
<p>The midfieldr package includes a data set called <code>cip</code> that provides the 2010 CIP codes and names for 1584 programs, one program per row. Every program has three codes:</p>
<ul>
<li>6-digit code, a specific program</li>
<li>4-digit code, a group of 6-digit programs of comparable content</li>
<li>2-digit code, a grouping of 4-digit groups of related content</li>
</ul>
<p>Examine the column names and class.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># column names and class of each</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">cip</span>, FUN <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;        cip2    cip2name        cip4    cip4name        cip6    cip6name </span>
<span class="co">#&gt; "character" "character" "character" "character" "character" "character"</span></code></pre></div>
<p>View the 2-, 4-, and 6-digit columns separately.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 2-digit codes and names alone</span>
<span class="va">cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip2</span>, <span class="va">cip2name</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;       cip2                                                  cip2name</span>
<span class="co">#&gt;    1:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    2:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    3:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    4:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    5:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    6:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    7:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    8:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;    9:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;   10:   01 Agriculture, Agricultural Operations and Related Sciences</span>
<span class="co">#&gt;   ---                                                               </span>
<span class="co">#&gt; 1575:   54                                                   History</span>
<span class="co">#&gt; 1576:   54                                                   History</span>
<span class="co">#&gt; 1577:   54                                                   History</span>
<span class="co">#&gt; 1578:   54                                                   History</span>
<span class="co">#&gt; 1579:   54                                                   History</span>
<span class="co">#&gt; 1580:   54                                                   History</span>
<span class="co">#&gt; 1581:   54                                                   History</span>
<span class="co">#&gt; 1582:   54                                                   History</span>
<span class="co">#&gt; 1583:   54                                                   History</span>
<span class="co">#&gt; 1584:   99                         NonIPEDS - Undecided, Unspecified</span>

<span class="co"># 4-digit codes and names alone</span>
<span class="va">cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip4</span>, <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;       cip4                             cip4name</span>
<span class="co">#&gt;    1: 0100                 Agriculture, General</span>
<span class="co">#&gt;    2: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    3: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    4: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    5: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    6: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    7: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    8: 0101 Agricultural Business and Management</span>
<span class="co">#&gt;    9: 0102           Agricultural Mechanization</span>
<span class="co">#&gt;   10: 0102           Agricultural Mechanization</span>
<span class="co">#&gt;   ---                                          </span>
<span class="co">#&gt; 1575: 5401                              History</span>
<span class="co">#&gt; 1576: 5401                              History</span>
<span class="co">#&gt; 1577: 5401                              History</span>
<span class="co">#&gt; 1578: 5401                              History</span>
<span class="co">#&gt; 1579: 5401                              History</span>
<span class="co">#&gt; 1580: 5401                              History</span>
<span class="co">#&gt; 1581: 5401                              History</span>
<span class="co">#&gt; 1582: 5401                              History</span>
<span class="co">#&gt; 1583: 5401                              History</span>
<span class="co">#&gt; 1584: 9999    NonIPEDS - Undecided, Unspecified</span>

<span class="co"># 6-digit codes and names alone</span>
<span class="va">cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, <span class="va">cip6name</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;         cip6                                              cip6name</span>
<span class="co">#&gt;    1: 010000                                  Agriculture, General</span>
<span class="co">#&gt;    2: 010101         Agricultural Business and Management, General</span>
<span class="co">#&gt;    3: 010102        Agribusiness, Agricultural Business Operations</span>
<span class="co">#&gt;    4: 010103                                Agricultural Economics</span>
<span class="co">#&gt;    5: 010104                       Farm, Farm and Ranch Management</span>
<span class="co">#&gt;    6: 010105 Agricultural, Farm Supplies Retailing and Wholesaling</span>
<span class="co">#&gt;    7: 010106                      Agricultural Business Technology</span>
<span class="co">#&gt;    8: 010199           Agricultural Business and Management, Other</span>
<span class="co">#&gt;    9: 010201                   Agricultural Mechanization, General</span>
<span class="co">#&gt;   10: 010204                Agricultural Power Machinery Operation</span>
<span class="co">#&gt;   ---                                                             </span>
<span class="co">#&gt; 1575: 540101                                      History, General</span>
<span class="co">#&gt; 1576: 540102                      American History (United States)</span>
<span class="co">#&gt; 1577: 540103                                      European History</span>
<span class="co">#&gt; 1578: 540104      History and Philosophy of Science and Technology</span>
<span class="co">#&gt; 1579: 540105   Public, Applied History and Archival Administration</span>
<span class="co">#&gt; 1580: 540106                                         Asian History</span>
<span class="co">#&gt; 1581: 540107                                      Canadian History</span>
<span class="co">#&gt; 1582: 540108                                      Military History</span>
<span class="co">#&gt; 1583: 540199                                        History, Other</span>
<span class="co">#&gt; 1584: 999999                     NonIPEDS - Undecided, Unspecified</span></code></pre></div>
<p>If you prefer to see a spreadsheet-like array of any data frame, run</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">cip</span><span class="op">)</span></code></pre></div>
<p>To facilitate viewing in the vignettes, we will often typeset a data frame as an HTML table. For example, the following table includes the same information from our views of <code>cip</code> above in an easy-to-read format. The values are tabulated with the variable names in the header.</p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0100
</td>
<td style="text-align:left;">
Agriculture, General
</td>
<td style="text-align:left;">
010000
</td>
<td style="text-align:left;">
Agriculture, General
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010101
</td>
<td style="text-align:left;">
Agricultural Business and Management, General
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010102
</td>
<td style="text-align:left;">
Agribusiness, Agricultural Business Operations
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010103
</td>
<td style="text-align:left;">
Agricultural Economics
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010104
</td>
<td style="text-align:left;">
Farm, Farm and Ranch Management
</td>
</tr>
<tr>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540106
</td>
<td style="text-align:left;">
Asian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540107
</td>
<td style="text-align:left;">
Canadian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540108
</td>
<td style="text-align:left;">
Military History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540199
</td>
<td style="text-align:left;">
History, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
99
</td>
<td style="text-align:left;">
NonIPEDS - Undecided, Unspecified
</td>
<td style="text-align:left;">
9999
</td>
<td style="text-align:left;">
NonIPEDS - Undecided, Unspecified
</td>
<td style="text-align:left;">
999999
</td>
<td style="text-align:left;">
NonIPEDS - Undecided, Unspecified
</td>
</tr>
</tbody>
</table>
<p><br></p>
<div id="relationships-between-2--4--and-6-digit-cip" class="section level3">
<h3 class="hasAnchor">
<a href="#relationships-between-2--4--and-6-digit-cip" class="anchor"></a>Relationships between 2-, 4-, and 6-digit CIP</h3>
<p>In the table below, we show all programs associated with the 2-digit code “41” for programs in the broad area of “Science Technologies, Technicians”. This 2-digit grouping is subdivided into 5 groups at the 4-digit level (codes 4100–4199) which are further subdivided into 9 programs at the 6-digit level (codes 410000–419999).</p>
<p>As you can see, the 6-digit codes and names represent distinct instructional programs and the 4- and 2-digit codes are groupings of programs.</p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4100
</td>
<td style="text-align:left;">
Science Technologies, Technicians, General
</td>
<td style="text-align:left;">
410000
</td>
<td style="text-align:left;">
Science Technologies, Technicians, General
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4101
</td>
<td style="text-align:left;">
Biology Technician, Biotechnology Laboratory Technician
</td>
<td style="text-align:left;">
410101
</td>
<td style="text-align:left;">
Biology Technician, Biotechnology Laboratory Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410204
</td>
<td style="text-align:left;">
Industrial Radiologic Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410205
</td>
<td style="text-align:left;">
Nuclear, Nuclear Power Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410299
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4103
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:left;">
410301
</td>
<td style="text-align:left;">
Chemical Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4103
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:left;">
410303
</td>
<td style="text-align:left;">
Chemical Process Technology
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4103
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:left;">
410399
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4199
</td>
<td style="text-align:left;">
Science Technologies, Technicians, Other
</td>
<td style="text-align:left;">
419999
</td>
<td style="text-align:left;">
Science Technologies, Technicians, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Higher-level groups comprise different numbers of lower-level groups. As shown above, codes 4102 and 4103 include 3 programs each but codes 4100, 4101, and 4199 include only one program each. At the 2-digit level, code 41 comprises N = 9 programs total.</p>
<p>In <code>cip</code> overall, a 2-digit grouping can include anywhere from 4 programs (code 24 Liberal Arts and Sciences, General Studies and Humanities) to 238 programs (code 51 Health Professions and Related Clinical Sciences). Similarly, a 4-digit grouping can include anywhere from 1 program (codes 4100, 4101, and 4199 shown above) to 37 programs (code 1313 Education).</p>
<p>To learn more, open the help page by running</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span> <span class="va">cip</span></code></pre></div>
</div>
</div>
<div id="filtering-basics" class="section level2">
<h2 class="hasAnchor">
<a href="#filtering-basics" class="anchor"></a>Filtering basics</h2>
<p>The variables in <code>cip</code> are all characters, facilitating filtering using character search terms.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># examine variable types</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">cip</span>, FUN <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;        cip2    cip2name        cip4    cip4name        cip6    cip6name </span>
<span class="co">#&gt; "character" "character" "character" "character" "character" "character"</span></code></pre></div>
<p><code><a href="../reference/filter_text.html">filter_text()</a></code> filters a data frame using character search terms. The arguments are:</p>
<ul>
<li>
<code>data</code> data frame to be subsetted</li>
<li>
<code>keep_text</code> character vector of search patterns for retaining rows, not case-sensitive</li>
<li>
<code>drop_text</code> (optional) character vector of search patterns for dropping rows</li>
</ul>
<p>For example, filtering the CIP data for all programs containing the word “engineering” yields 121 observations.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># filter basics</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"engineering"</span><span class="op">)</span>

<span class="co"># examine the result</span>
<span class="va">sub_cip</span>
<span class="co">#&gt;      cip2                                         cip2name cip4</span>
<span class="co">#&gt;   1:   14                                      Engineering 1401</span>
<span class="co">#&gt;   2:   14                                      Engineering 1401</span>
<span class="co">#&gt;   3:   14                                      Engineering 1402</span>
<span class="co">#&gt;   4:   14                                      Engineering 1403</span>
<span class="co">#&gt;   5:   14                                      Engineering 1404</span>
<span class="co">#&gt;   6:   14                                      Engineering 1405</span>
<span class="co">#&gt;   7:   14                                      Engineering 1406</span>
<span class="co">#&gt;   8:   14                                      Engineering 1407</span>
<span class="co">#&gt;   9:   14                                      Engineering 1407</span>
<span class="co">#&gt;  10:   14                                      Engineering 1407</span>
<span class="co">#&gt;  ---                                                           </span>
<span class="co">#&gt; 112:   15                           Engineering Technology 1514</span>
<span class="co">#&gt; 113:   15                           Engineering Technology 1515</span>
<span class="co">#&gt; 114:   15                           Engineering Technology 1515</span>
<span class="co">#&gt; 115:   15                           Engineering Technology 1515</span>
<span class="co">#&gt; 116:   15                           Engineering Technology 1515</span>
<span class="co">#&gt; 117:   15                           Engineering Technology 1516</span>
<span class="co">#&gt; 118:   15                           Engineering Technology 1599</span>
<span class="co">#&gt; 119:   29                            Military Technologies 2903</span>
<span class="co">#&gt; 120:   29                            Military Technologies 2903</span>
<span class="co">#&gt; 121:   51 Health Professions and Related Clinical Sciences 5123</span>
<span class="co">#&gt;                                                     cip4name   cip6</span>
<span class="co">#&gt;   1:                                    Engineering, General 140101</span>
<span class="co">#&gt;   2:                                    Engineering, General 140102</span>
<span class="co">#&gt;   3:   Aerospace, Aeronautical and Astronautical Engineering 140201</span>
<span class="co">#&gt;   4: Agricultural, Biological Engineering and Bioengineering 140301</span>
<span class="co">#&gt;   5:                               Architectural Engineering 140401</span>
<span class="co">#&gt;   6:                         Biomedical, Medical Engineering 140501</span>
<span class="co">#&gt;   7:                        Ceramic Sciences and Engineering 140601</span>
<span class="co">#&gt;   8:                                    Chemical Engineering 140701</span>
<span class="co">#&gt;   9:                                    Chemical Engineering 140702</span>
<span class="co">#&gt;  10:                                    Chemical Engineering 140799</span>
<span class="co">#&gt;  ---                                                               </span>
<span class="co">#&gt; 112:           Nuclear Engineering Technologies, Technicians 151401</span>
<span class="co">#&gt; 113:                              Engineering-Related Fields 151501</span>
<span class="co">#&gt; 114:                              Engineering-Related Fields 151502</span>
<span class="co">#&gt; 115:                              Engineering-Related Fields 151503</span>
<span class="co">#&gt; 116:                              Engineering-Related Fields 151599</span>
<span class="co">#&gt; 117:                                          Nanotechnology 151601</span>
<span class="co">#&gt; 118:    Engineering-Related Technologies, Technicians, Other 159999</span>
<span class="co">#&gt; 119:                               Military Applied Sciences 290301</span>
<span class="co">#&gt; 120:                               Military Applied Sciences 290303</span>
<span class="co">#&gt; 121:              Rehabilitation and Therapeutic Professions 512312</span>
<span class="co">#&gt;                                                              cip6name</span>
<span class="co">#&gt;   1:                                             Engineering, General</span>
<span class="co">#&gt;   2:                                                  Pre-Engineering</span>
<span class="co">#&gt;   3:     Aerospace, Aeronautical and Astronautical, Space Engineering</span>
<span class="co">#&gt;   4:          Agricultural, Biological Engineering and Bioengineering</span>
<span class="co">#&gt;   5:                                        Architectural Engineering</span>
<span class="co">#&gt;   6:                                  Biomedical, Medical Engineering</span>
<span class="co">#&gt;   7:                                 Ceramic Sciences and Engineering</span>
<span class="co">#&gt;   8:                                             Chemical Engineering</span>
<span class="co">#&gt;   9:                            Chemical and Biomolecular Engineering</span>
<span class="co">#&gt;  10:                                      Chemical Engineering, Other</span>
<span class="co">#&gt;  ---                                                                 </span>
<span class="co">#&gt; 112:                       Nuclear Engineering Technology, Technician</span>
<span class="co">#&gt; 113:                                            Industrial Management</span>
<span class="co">#&gt; 114:                                               Engineering Design</span>
<span class="co">#&gt; 115:                                                Packaging Science</span>
<span class="co">#&gt; 116:                                Engineering-Related Fields, Other</span>
<span class="co">#&gt; 117:                                                   Nanotechnology</span>
<span class="co">#&gt; 118:             Engineering Related Technologies, Technicians, Other</span>
<span class="co">#&gt; 119:                                       Combat Systems Engineering</span>
<span class="co">#&gt; 120:                                            Engineering Acoustics</span>
<span class="co">#&gt; 121: Assistive, Augmentative Technology and Rehabiliation Engineering</span></code></pre></div>
<p>The first two argument names can be omitted if they are in the correct order. If the optional <code>drop_text</code> argument is used, it must be named,</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># only the drop_text argument must be named</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, <span class="st">"civil engineering"</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span>

<span class="co"># examine the result</span>
<span class="va">sub_cip</span>
<span class="co">#&gt;    cip2    cip2name cip4          cip4name   cip6</span>
<span class="co">#&gt; 1:   14 Engineering 1408 Civil Engineering 140801</span>
<span class="co">#&gt; 2:   14 Engineering 1408 Civil Engineering 140802</span>
<span class="co">#&gt; 3:   14 Engineering 1408 Civil Engineering 140803</span>
<span class="co">#&gt; 4:   14 Engineering 1408 Civil Engineering 140804</span>
<span class="co">#&gt; 5:   14 Engineering 1408 Civil Engineering 140805</span>
<span class="co">#&gt; 6:   14 Engineering 1408 Civil Engineering 140899</span>
<span class="co">#&gt;                                  cip6name</span>
<span class="co">#&gt; 1:             Civil Engineering, General</span>
<span class="co">#&gt; 2:               Geotechnical Engineering</span>
<span class="co">#&gt; 3:                 Structural Engineering</span>
<span class="co">#&gt; 4: Transportation and Highway Engineering</span>
<span class="co">#&gt; 5:            Water Resources Engineering</span>
<span class="co">#&gt; 6:               Civil Engineering, Other</span></code></pre></div>
<p>To learn more, open the help page by running</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="filtering-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#filtering-examples" class="anchor"></a>Filtering examples</h2>
<div id="using-keywords-and-phrases" class="section level3">
<h3 class="hasAnchor">
<a href="#using-keywords-and-phrases" class="anchor"></a>1. Using keywords and phrases</h3>
<p>Suppose we want to find the CIP codes and names for all programs in Civil Engineering. The search is case-insensitive, so we start with the following code chunk.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># example 1 filter using keywords</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"civil"</span><span class="op">)</span>

<span class="co"># examine the result</span>
<span class="va">sub_cip</span>
<span class="co">#&gt;     cip2                                            cip2name cip4</span>
<span class="co">#&gt;  1:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span>
<span class="co">#&gt;  2:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span>
<span class="co">#&gt;  3:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span>
<span class="co">#&gt;  4:   14                                         Engineering 1408</span>
<span class="co">#&gt;  5:   14                                         Engineering 1408</span>
<span class="co">#&gt;  6:   14                                         Engineering 1408</span>
<span class="co">#&gt;  7:   14                                         Engineering 1408</span>
<span class="co">#&gt;  8:   14                                         Engineering 1408</span>
<span class="co">#&gt;  9:   14                                         Engineering 1408</span>
<span class="co">#&gt; 10:   15                              Engineering Technology 1502</span>
<span class="co">#&gt; 11:   15                              Engineering Technology 1513</span>
<span class="co">#&gt; 12:   30                     Muti, Interdisciplinary Studies 3022</span>
<span class="co">#&gt;                                                                       cip4name</span>
<span class="co">#&gt;  1:                                                               Area Studies</span>
<span class="co">#&gt;  2:                                                               Area Studies</span>
<span class="co">#&gt;  3:                                                               Area Studies</span>
<span class="co">#&gt;  4:                                                          Civil Engineering</span>
<span class="co">#&gt;  5:                                                          Civil Engineering</span>
<span class="co">#&gt;  6:                                                          Civil Engineering</span>
<span class="co">#&gt;  7:                                                          Civil Engineering</span>
<span class="co">#&gt;  8:                                                          Civil Engineering</span>
<span class="co">#&gt;  9:                                                          Civil Engineering</span>
<span class="co">#&gt; 10:                                Civil Engineering Technologies, Technicians</span>
<span class="co">#&gt; 11:                     Drafting, Design Engineering Technologies, Technicians</span>
<span class="co">#&gt; 12: Classical and Ancient, Oriental Studies - Multi, Interdisciplinary Studies</span>
<span class="co">#&gt;       cip6                                                         cip6name</span>
<span class="co">#&gt;  1: 050102                    American, United States Studies, Civilization</span>
<span class="co">#&gt;  2: 050103                                      Asian Studies, Civilization</span>
<span class="co">#&gt;  3: 050106                                   European Studies, Civilization</span>
<span class="co">#&gt;  4: 140801                                       Civil Engineering, General</span>
<span class="co">#&gt;  5: 140802                                         Geotechnical Engineering</span>
<span class="co">#&gt;  6: 140803                                           Structural Engineering</span>
<span class="co">#&gt;  7: 140804                           Transportation and Highway Engineering</span>
<span class="co">#&gt;  8: 140805                                      Water Resources Engineering</span>
<span class="co">#&gt;  9: 140899                                         Civil Engineering, Other</span>
<span class="co">#&gt; 10: 150201                         Civil Engineering Technology, Technician</span>
<span class="co">#&gt; 11: 151304                   Civil Drafting and Civil Engineering CAD, CADD</span>
<span class="co">#&gt; 12: 302201 Multi, Interdisciplinary Studies - Ancient Studies, Civilization</span></code></pre></div>
<p>The same information is tabulated below to help you see the structure. In the examples that follow, we show a table like this one instead of the R output.</p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050102
</td>
<td style="text-align:left;">
American, United States Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050103
</td>
<td style="text-align:left;">
Asian Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050106
</td>
<td style="text-align:left;">
European Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
Engineering Technology
</td>
<td style="text-align:left;">
1502
</td>
<td style="text-align:left;">
Civil Engineering Technologies, Technicians
</td>
<td style="text-align:left;">
150201
</td>
<td style="text-align:left;">
Civil Engineering Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
Engineering Technology
</td>
<td style="text-align:left;">
1513
</td>
<td style="text-align:left;">
Drafting, Design Engineering Technologies, Technicians
</td>
<td style="text-align:left;">
151304
</td>
<td style="text-align:left;">
Civil Drafting and Civil Engineering CAD, CADD
</td>
</tr>
<tr>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
Muti, Interdisciplinary Studies
</td>
<td style="text-align:left;">
3022
</td>
<td style="text-align:left;">
Classical and Ancient, Oriental Studies - Multi, Interdisciplinary Studies
</td>
<td style="text-align:left;">
302201
</td>
<td style="text-align:left;">
Multi, Interdisciplinary Studies - Ancient Studies, Civilization
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The search returns some programs with Civilization in their names as well as Engineering Technology. If we wanted Civil Engineering only, we can use a sequence of function calls, where the outcome of the one operation is assigned to the first argument of the next operation via the pipe <code><a href="../reference/%&gt;%.html">%&gt;%</a></code> operator.</p>
<p>The following code chunk could be read as, “Start with the <code>cip</code> data frame, then keep any rows in which ‘civil’ is detected, then keep any rows in which ‘engineering’ is detected, then drop any rows in which ‘technology’ is detected.”</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first pass</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"civil"</span><span class="op">)</span>

<span class="co"># refine the search</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">sub_cip</span>, keep_text <span class="op">=</span> <span class="st">"engineering"</span><span class="op">)</span>

<span class="co"># refine further</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">sub_cip</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Seeing that all Civil Engineering programs have the same <code>cip4name</code>, we could combine our search terms in one argument set,</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"civil engineering"</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
</div>
<div id="using-numerical-codes" class="section level3">
<h3 class="hasAnchor">
<a href="#using-numerical-codes" class="anchor"></a>2. Using numerical codes</h3>
<p>Suppose we want to study programs relating to German culture, language, and literature. Using “german” for the <code>keep_text</code> value yields</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># example 2 filter using numerical codes</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"german"</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050125
</td>
<td style="text-align:left;">
German Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
13
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
1313
</td>
<td style="text-align:left;">
Teacher Education and Professional Development, Specific Subject Areas
</td>
<td style="text-align:left;">
131326
</td>
<td style="text-align:left;">
German Language Teacher Education
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160500
</td>
<td style="text-align:left;">
Germanic Languages, Literatures and Linguistics, General
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160501
</td>
<td style="text-align:left;">
German Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160502
</td>
<td style="text-align:left;">
Scandinavian Languages, Literatures and Linguistics
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160503
</td>
<td style="text-align:left;">
Danish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160504
</td>
<td style="text-align:left;">
Dutch, Flemish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160505
</td>
<td style="text-align:left;">
Norwegian Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160506
</td>
<td style="text-align:left;">
Swedish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160599
</td>
<td style="text-align:left;">
Germanic Languages, Literatures and Linguistics, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>From the 6-digit program names we find only two that are of interest, German Studies (050125) and German Language and Literature (160501). We use a character vector to assign these two codes to the <code>keep_text</code> argument.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"050125"</span>, <span class="st">"160501"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050125
</td>
<td style="text-align:left;">
German Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160501
</td>
<td style="text-align:left;">
German Language and Literature
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>If the 6-digit codes are entered as integers, they produce an error.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">050125</span>, <span class="fl">160501</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Error: `keep_text` must be of class character</span></code></pre></div>
</div>
<div id="using-regular-expressions" class="section level3">
<h3 class="hasAnchor">
<a href="#using-regular-expressions" class="anchor"></a>3. Using regular expressions</h3>
<p>Specifying 4-digit codes yields a data frame all 6-digit programs containing the 4-digit string. We use the regular expression notation <code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code> to match the start of the strings.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># example 3 filter using regular expressions</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"^1407"</span>, <span class="st">"^1408"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1407
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
<td style="text-align:left;">
140701
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1407
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
<td style="text-align:left;">
140702
</td>
<td style="text-align:left;">
Chemical and Biomolecular Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1407
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
<td style="text-align:left;">
140799
</td>
<td style="text-align:left;">
Chemical Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The 2-digit series represent the most general groupings of related programs. Here, the result includes all History programs.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 2-digit example</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"^54"</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540101
</td>
<td style="text-align:left;">
History, General
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540102
</td>
<td style="text-align:left;">
American History (United States)
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540103
</td>
<td style="text-align:left;">
European History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540104
</td>
<td style="text-align:left;">
History and Philosophy of Science and Technology
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540105
</td>
<td style="text-align:left;">
Public, Applied History and Archival Administration
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540106
</td>
<td style="text-align:left;">
Asian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540107
</td>
<td style="text-align:left;">
Canadian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540108
</td>
<td style="text-align:left;">
Military History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540199
</td>
<td style="text-align:left;">
History, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The series argument can include any combination of 2, 4, and 6-digit codes.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># a series with 2, 4, and 6-digits specified</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"^24"</span>, <span class="st">"^4102"</span>, <span class="st">"^450202"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240101
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, Liberal Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240102
</td>
<td style="text-align:left;">
General Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240103
</td>
<td style="text-align:left;">
Humanities, Humanistic Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240199
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410204
</td>
<td style="text-align:left;">
Industrial Radiologic Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410205
</td>
<td style="text-align:left;">
Nuclear, Nuclear Power Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410299
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
45
</td>
<td style="text-align:left;">
Social Sciences
</td>
<td style="text-align:left;">
4502
</td>
<td style="text-align:left;">
Anthropology
</td>
<td style="text-align:left;">
450202
</td>
<td style="text-align:left;">
Physical Anthropology
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div id="search-terms-that-cannot-be-found" class="section level3">
<h3 class="hasAnchor">
<a href="#search-terms-that-cannot-be-found" class="anchor"></a>4. Search terms that cannot be found</h3>
<p>If the <code>keep_text</code> argument includes terms that cannot be found in the CIP data frame, the unsuccessful terms are identified in a message and the successful terms produce the usual output.</p>
<p>For example, the following <code>keep_text</code> argument includes three search terms that are not present in the CIP data (“111111”, “^55”, and “Bogus”) and two that are (“050125” and “160501”).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># unsuccessful terms produce a message</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"050125"</span>, <span class="st">"111111"</span>, <span class="st">"160501"</span>, <span class="st">"Bogus"</span>, <span class="st">"^55"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Can't find these terms: 111111, Bogus, ^55</span>

<span class="co"># but the successful terms are returned</span>
<span class="va">sub_cip</span>
<span class="co">#&gt;    cip2                                            cip2name cip4</span>
<span class="co">#&gt; 1:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span>
<span class="co">#&gt; 2:   16      Foreign Languages, Literatures and Linguistics 1605</span>
<span class="co">#&gt;                                       cip4name   cip6</span>
<span class="co">#&gt; 1:                                Area Studies 050125</span>
<span class="co">#&gt; 2: Germanic Languages, Literatures Linguistics 160501</span>
<span class="co">#&gt;                          cip6name</span>
<span class="co">#&gt; 1:                 German Studies</span>
<span class="co">#&gt; 2: German Language and Literature</span></code></pre></div>
<p>However, as seen earlier, if none of the search terms are found, an error occurs.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"111111"</span>, <span class="st">"Bogus"</span>, <span class="st">"^55"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Error: No CIPs satisfy the search criteria</span></code></pre></div>
</div>
<div id="other-optional-arguments" class="section level3">
<h3 class="hasAnchor">
<a href="#other-optional-arguments" class="anchor"></a>5. Other optional arguments</h3>
<p><code><a href="../reference/filter_text.html">filter_text()</a></code> has two additional optional arguments.</p>
<ul>
<li><code>keep_col</code></li>
<li><code>unique_row</code></li>
</ul>
<p>As seen in the previous examples, the default setting for <code>keep_col</code> returns all columns. We can select columns by name,</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># selecting columns</span>
<span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^54"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip4"</span>, <span class="st">"cip4name"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt;    cip4 cip4name</span>
<span class="co">#&gt; 1: 5401  History</span></code></pre></div>
<p>The default setting for <code>unique_row</code> returns all rows. The default TRUE argument removes duplicate rows after subsetting is complete.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># remove duplicate rows</span>
<span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^54"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip4"</span>, <span class="st">"cip4name"</span><span class="op">)</span>,
  unique_row <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="co">#&gt;    cip4 cip4name</span>
<span class="co">#&gt; 1: 5401  History</span></code></pre></div>
</div>
</div>
<div id="case-study" class="section level2">
<h2 class="hasAnchor">
<a href="#case-study" class="anchor"></a>Case study</h2>
<p>In the midfieldr vignettes, we use a case study of four programs (Civil, Electrical, Industrial, and Mechanical Engineering) to illustrate our process of computing persistence metrics.</p>
<p>The case study begins here, by extracting CIP data for the four engineering programs.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># explore the CIP</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"engineering"</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">sub_cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"civil"</span>, <span class="st">"electrical"</span>, <span class="st">"industrial"</span>, <span class="st">"mechanical"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141001
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141003
</td>
<td style="text-align:left;">
Laser and Optical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141004
</td>
<td style="text-align:left;">
Telecommunications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141099
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1419
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
141901
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1435
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
143501
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1441
</td>
<td style="text-align:left;">
Electromechanical Engineering
</td>
<td style="text-align:left;">
144101
</td>
<td style="text-align:left;">
Electromechanical Engineering
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The results show that the codes we want are at the 4-digit level: 1408, 1410, 1419, and 1435.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># select the case study CIPs</span>
<span class="va">case_study_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"^1408"</span>, <span class="st">"^1410"</span>, <span class="st">"^1419"</span>, <span class="st">"^1435"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141001
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141003
</td>
<td style="text-align:left;">
Laser and Optical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141004
</td>
<td style="text-align:left;">
Telecommunications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141099
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1419
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
141901
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1435
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
143501
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The data frame <code>case_study_cip</code> concludes this stage of the case study and, in turn, is the input to the next stage. Similar intermediate results conclude every stage of the case study. In each instance, such results are named with the prefix <code>rep_</code> (indicating they are associated with the “representative” case study) and are included as data sets in midfieldr.</p>
<p>The CIP data frame derived above is the data set <code>rep_cip</code> in midfieldr. View its help page by running</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span> <span class="va">rep_cip</span></code></pre></div>
</div>
<div id="extract-and-label-programs" class="section level2">
<h2 class="hasAnchor">
<a href="#extract-and-label-programs" class="anchor"></a>Extract and label programs</h2>
<p>Starting with a CIP subset, we extract the 6-digit codes and label groups of programs to suit our purposes. The result is later used to filter the student-record data sets (students, courses, terms, or degrees) for the analysis at hand.</p>
<p>As you can see in the table above, the program names at the 4-digit level are those associated with accredited engineering departments. Three of these names (Civil, Industrial, and Mechanical) are concise enough for small-multiple or faceted graphs. The Electrical program name is inconveniently long.</p>
<p>Two approaches to editing the program labels are shown below.</p>
<div id="work-with-one-program-one-at-a-time" class="section level3">
<h3 class="hasAnchor">
<a href="#work-with-one-program-one-at-a-time" class="anchor"></a>1. Work with one program one at a time</h3>
<p>We separate <code>rep_cip</code> into four data frames, one for each program.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># work with programs one at a time and bind</span>
<span class="co"># get civil engineering 6-digit codes</span>
<span class="va">cve</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1408"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">cve</span>
<span class="co">#&gt;      cip6</span>
<span class="co">#&gt; 1: 140801</span>
<span class="co">#&gt; 2: 140802</span>
<span class="co">#&gt; 3: 140803</span>
<span class="co">#&gt; 4: 140804</span>
<span class="co">#&gt; 5: 140805</span>
<span class="co">#&gt; 6: 140899</span></code></pre></div>
<p>We operate on the result to create a new column called <code>program</code>, used later for grouping, summarizing, and joining.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># add a program label</span>
<span class="va">cve</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Civil Engineering"</span><span class="op">]</span>
<span class="va">cve</span>
<span class="co">#&gt;      cip6           program</span>
<span class="co">#&gt; 1: 140801 Civil Engineering</span>
<span class="co">#&gt; 2: 140802 Civil Engineering</span>
<span class="co">#&gt; 3: 140803 Civil Engineering</span>
<span class="co">#&gt; 4: 140804 Civil Engineering</span>
<span class="co">#&gt; 5: 140805 Civil Engineering</span>
<span class="co">#&gt; 6: 140899 Civil Engineering</span></code></pre></div>
<p>Repeat for the other majors</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get electrical  engineering</span>
<span class="va">ele</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1410"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">ele</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Electrical Engineering"</span><span class="op">]</span>
<span class="va">ele</span>
<span class="co">#&gt;      cip6                program</span>
<span class="co">#&gt; 1: 141001 Electrical Engineering</span>
<span class="co">#&gt; 2: 141003 Electrical Engineering</span>
<span class="co">#&gt; 3: 141004 Electrical Engineering</span>
<span class="co">#&gt; 4: 141099 Electrical Engineering</span>

<span class="co"># get mechanical  engineering</span>
<span class="va">mce</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1419"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">mce</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Mechanical Engineering"</span><span class="op">]</span>
<span class="va">mce</span>
<span class="co">#&gt;      cip6                program</span>
<span class="co">#&gt; 1: 141901 Mechanical Engineering</span>

<span class="co"># get industrial engineering</span>
<span class="va">ise</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1435"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">ise</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Industrial Engineering"</span><span class="op">]</span>
<span class="va">ise</span>
<span class="co">#&gt;      cip6                program</span>
<span class="co">#&gt; 1: 143501 Industrial Engineering</span></code></pre></div>
<p>We have 4 data frames that we combine row-wise.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># gather the programs in the study</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html">rbind</a></span><span class="op">(</span><span class="va">cve</span>, <span class="va">ele</span>, <span class="va">ise</span>, <span class="va">mce</span><span class="op">)</span>

<span class="co"># examine the result</span>
<span class="va">program_group</span>
<span class="co">#&gt;       cip6                program</span>
<span class="co">#&gt;  1: 140801      Civil Engineering</span>
<span class="co">#&gt;  2: 140802      Civil Engineering</span>
<span class="co">#&gt;  3: 140803      Civil Engineering</span>
<span class="co">#&gt;  4: 140804      Civil Engineering</span>
<span class="co">#&gt;  5: 140805      Civil Engineering</span>
<span class="co">#&gt;  6: 140899      Civil Engineering</span>
<span class="co">#&gt;  7: 141001 Electrical Engineering</span>
<span class="co">#&gt;  8: 141003 Electrical Engineering</span>
<span class="co">#&gt;  9: 141004 Electrical Engineering</span>
<span class="co">#&gt; 10: 141099 Electrical Engineering</span>
<span class="co">#&gt; 11: 143501 Industrial Engineering</span>
<span class="co">#&gt; 12: 141901 Mechanical Engineering</span></code></pre></div>
</div>
<div id="work-with-all-programs-in-one-data-frame" class="section level3">
<h3 class="hasAnchor">
<a href="#work-with-all-programs-in-one-data-frame" class="anchor"></a>2. Work with all programs in one data frame</h3>
<p>Alternatively, we can operate on one data frame throughout. Starting with the 6-digit codes and the 4-digit names,</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># work with programs all in one data frame</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">rep_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span>

<span class="co"># examine the result</span>
<span class="va">program_group</span>
<span class="co">#&gt;       cip6                                                program</span>
<span class="co">#&gt;  1: 140801                                      Civil Engineering</span>
<span class="co">#&gt;  2: 140802                                      Civil Engineering</span>
<span class="co">#&gt;  3: 140803                                      Civil Engineering</span>
<span class="co">#&gt;  4: 140804                                      Civil Engineering</span>
<span class="co">#&gt;  5: 140805                                      Civil Engineering</span>
<span class="co">#&gt;  6: 140899                                      Civil Engineering</span>
<span class="co">#&gt;  7: 141001 Electrical, Electronics and Communications Engineering</span>
<span class="co">#&gt;  8: 141003 Electrical, Electronics and Communications Engineering</span>
<span class="co">#&gt;  9: 141004 Electrical, Electronics and Communications Engineering</span>
<span class="co">#&gt; 10: 141099 Electrical, Electronics and Communications Engineering</span>
<span class="co">#&gt; 11: 141901                                 Mechanical Engineering</span>
<span class="co">#&gt; 12: 143501                                 Industrial Engineering</span></code></pre></div>
<p>All but Electrical Engineering have conveniently short program names. We use <code><a href="https://rdrr.io/r/base/startsWith.html">startsWith()</a></code> to edit the program column for electrical.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># identify the CIP rows that start with 1410</span>
<span class="va">rows_to_edit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/startsWith.html">startsWith</a></span><span class="op">(</span><span class="va">program_group</span><span class="op">$</span><span class="va">cip6</span>, <span class="st">"1410"</span><span class="op">)</span>

<span class="co"># relabel the electrical programs</span>
<span class="va">program_group</span><span class="op">[</span><span class="va">rows_to_edit</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Electrical Engineering"</span><span class="op">]</span>

<span class="co"># examine the result</span>
<span class="va">program_group</span>
<span class="co">#&gt;       cip6                program</span>
<span class="co">#&gt;  1: 140801      Civil Engineering</span>
<span class="co">#&gt;  2: 140802      Civil Engineering</span>
<span class="co">#&gt;  3: 140803      Civil Engineering</span>
<span class="co">#&gt;  4: 140804      Civil Engineering</span>
<span class="co">#&gt;  5: 140805      Civil Engineering</span>
<span class="co">#&gt;  6: 140899      Civil Engineering</span>
<span class="co">#&gt;  7: 141001 Electrical Engineering</span>
<span class="co">#&gt;  8: 141003 Electrical Engineering</span>
<span class="co">#&gt;  9: 141004 Electrical Engineering</span>
<span class="co">#&gt; 10: 141099 Electrical Engineering</span>
<span class="co">#&gt; 11: 141901 Mechanical Engineering</span>
<span class="co">#&gt; 12: 143501 Industrial Engineering</span></code></pre></div>
<p>The program group derived above is the data set <code>rep_group</code> in midfieldr. View its help page by running</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span> <span class="va">rep_group</span></code></pre></div>
</div>
</div>
<div id="options-for-the-program-column" class="section level2">
<h2 class="hasAnchor">
<a href="#options-for-the-program-column" class="anchor"></a>Options for the program column</h2>
<p>Our goal is to create a data frame with two columns, <code>cip6</code> and <code>program</code> or equivalent. In this section, we explore several options for assigning program labels.</p>
<div id="option-1--use-one-of-the-built-in-cip-names" class="section level3">
<h3 class="hasAnchor">
<a href="#option-1--use-one-of-the-built-in-cip-names" class="anchor"></a>Option 1. Use one of the built-in CIP names</h3>
<p>We can use one of the built-in 2-, 4-, or 6-digit names as follows.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># retain the 2-digit level name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^31"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip2name"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># rename column to "program"</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip2name</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># retain the 4-digit level name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^31"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip4name"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># rename column to "program"</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># retain the 6-digit level name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^31"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip6name"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># rename column to "program"</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip6name</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div id="option-2--assign-any-string" class="section level3">
<h3 class="hasAnchor">
<a href="#option-2--assign-any-string" class="anchor"></a>Option 2. Assign any string</h3>
<p>CIP program names are occasionally verbose. In such cases, we often use a shortened version of the program name to use as a graph or table heading. In this example, we substitute our own name for the “Parks, Recreation, Leisure and Fitness Studies” programs used in the previous example.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ignore all default CIP names</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"^31"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>

<span class="co"># assign an arbitrary program name</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Leisure Studies"</span><span class="op">]</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
program
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
</div>
<div id="cip-data-from-another-source" class="section level2">
<h2 class="hasAnchor">
<a href="#cip-data-from-another-source" class="anchor"></a>CIP data from another source</h2>
<p>If you use a CIP data set from another source, it must have the same structure as <code>cip</code>: six character columns named as follows,</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># name and class of variables (columns) in cip</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">cip</span>, FUN <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;        cip2    cip2name        cip4    cip4name        cip6    cip6name </span>
<span class="co">#&gt; "character" "character" "character" "character" "character" "character"</span></code></pre></div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-NCES:2010" class="csl-entry">
NCES (2010) <span class="nocase">IPEDS Classification of Instructional Programs (CIP)</span>. <span>National Center for Education Statistics</span>. Available at: <a href="https://nces.ed.gov/ipeds/cipcode/">https://nces.ed.gov/ipeds/cipcode/</a>.
</div>
</div>
</div>
<div id="appendix" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix" class="anchor"></a>Appendix</h2>
<div id="complete-script" class="section level3">
<h3 class="hasAnchor">
<a href="#complete-script" class="anchor"></a>Complete script</h3>
<p>The vignette code chunks are collected below in a single, condensed script.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MIDFIELDR/midfieldr">midfieldr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com">data.table</a></span><span class="op">)</span>

<span class="co"># examine variable types</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">cip</span><span class="op">)</span>

<span class="co"># filter basics</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"engineering"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, <span class="st">"civil engineering"</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span>

<span class="co"># example 1 filter using keywords</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"civil"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">sub_cip</span>, keep_text <span class="op">=</span> <span class="st">"engineering"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">sub_cip</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"civil engineering"</span>, drop_text <span class="op">=</span> <span class="st">"technology"</span><span class="op">)</span>

<span class="co"># example 2 filter using numerical codes</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"german"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"050125"</span>, <span class="st">"160501"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># example 3 filter using regular expressions</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"^1407"</span>, <span class="st">"^1408"</span><span class="op">)</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"^54"</span><span class="op">)</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"^24"</span>, <span class="st">"^4102"</span>, <span class="st">"^450202"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># example 4 search terms that cannot be found</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"050125"</span>, <span class="st">"111111"</span>, <span class="st">"160501"</span>, <span class="st">"Bogus"</span>, <span class="st">"^55"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># case study data set</span>
<span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"^1408"</span>, <span class="st">"^1410"</span>, <span class="st">"^1419"</span>, <span class="st">"^1435"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">rep_cip</span><span class="op">)</span>

<span class="co"># work with programs one at a time and bind</span>
<span class="va">cve</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1408"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">cve</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Civil Engineering"</span><span class="op">]</span>

<span class="va">ele</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1410"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">ele</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Electrical Engineering"</span><span class="op">]</span>

<span class="va">mce</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1419"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">mce</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Mechanical Engineering"</span><span class="op">]</span>

<span class="va">ise</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">rep_cip</span>, keep_text <span class="op">=</span> <span class="st">"^1435"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">ise</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Industrial Engineering"</span><span class="op">]</span>

<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html">rbind</a></span><span class="op">(</span><span class="va">cve</span>, <span class="va">ele</span>, <span class="va">ise</span>, <span class="va">mce</span><span class="op">)</span>

<span class="co"># work with programs all in one data frame</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">rep_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span>
<span class="va">rows_to_edit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/startsWith.html">startsWith</a></span><span class="op">(</span><span class="va">program_group</span><span class="op">$</span><span class="va">cip6</span>, <span class="st">"1410"</span><span class="op">)</span>
<span class="va">program_group</span><span class="op">[</span><span class="va">rows_to_edit</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Electrical Engineering"</span><span class="op">]</span>

<span class="co"># assign the 2-digit level name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^31"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip2name"</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip2name</span><span class="op">)</span><span class="op">]</span>

<span class="co"># assign the 4-digit level name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^31"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip4name"</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip4name</span><span class="op">)</span><span class="op">]</span>

<span class="co"># assign the 6-digit level name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>,
  keep_text <span class="op">=</span> <span class="st">"^31"</span>,
  keep_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cip6"</span>, <span class="st">"cip6name"</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">cip6</span>, program <span class="op">=</span> <span class="va">cip6name</span><span class="op">)</span><span class="op">]</span>

<span class="co"># assign an arbitrary program name</span>
<span class="va">sub_cip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_text.html">filter_text</a></span><span class="op">(</span><span class="va">cip</span>, keep_text <span class="op">=</span> <span class="st">"^31"</span>, keep_col <span class="op">=</span> <span class="st">"cip6"</span><span class="op">)</span>
<span class="va">program_group</span> <span class="op">&lt;-</span> <span class="va">sub_cip</span><span class="op">[</span>, <span class="va">program</span> <span class="op">:=</span> <span class="st">"Leisure Studies"</span><span class="op">]</span>

<span class="co"># name and class of variables (columns) in cip</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">cip</span>, FUN <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
