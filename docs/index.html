<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tools for Student Records Research  • midfieldr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tools for Student Records Research ">
<meta property="og:description" content="Tools for investigating a stratified sample from the MIDFIELD 
  database, a dataset compiled from registrar's student records from 
  participating US universities. The sample contains data for every course taken 
  and degrees earned by 98,000 undergraduate students from 1987 to 2016. This 
  package interacts with data available through the 'midfielddata' package, 
  which is available in a 'drat' repository. To access this data package, run 
  'install.packages(&quot;midfielddata&quot;, repos = &quot;https://MIDFIELDR.github.io/drat/&quot;, type = &quot;source&quot;)'. 
  The size of the 'midfielddata' package is approximately 31 Mb. This work is  
  supported by a grant from the US National Science Foundation (EEC 1545667). ">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">midfieldr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/audience.html">Audience</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/cip_filter.html">Selecting CIP codes</a>
    </li>
    <li>
      <a href="articles/stickiness.html">Stickiness metric</a>
    </li>
    <li>
      <a href="articles/multiway.html">Multiway data, graphs, and tables</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
<li>
  <a href="articles/about_midfield.html">About</a>
</li>
<li>
  <a href="https://github.com/MIDFIELDR/midfieldr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="midfieldr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#midfieldr" class="anchor"></a>midfieldr <img src="reference/figures/logo.png" align="right">
</h1></div>

<p>A package for investigating student record data provided by registrars at US universities participating in the MIDFIELD project.</p>
<p>midfieldr provides tools for accessing and analyzing a stratified sample of the MIDFIELD database. The sample comprises demographic, term, course, and degree information for 97,640 undergraduate students from 1987 to 2016. The sample data are provided in a separate data package.</p>
<p>midfieldr includes functions for selecting specific fields of study and aggregating, computing, and graphing student persistence metrics.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Package not yet submitted to CRAN. Development version can be installed from GitHub using:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"MIDFIELDR/midfieldr"</span>)</a></code></pre></div>
<p>midfieldr depends on data in a data package (midfielddata) that is available through a drat repository on GitHub. To use midfieldr, you will need to install midfielddata on your computer.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"drat"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">drat<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/drat/topics/addRepo">addRepo</a></span>(<span class="st">"midfieldr"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">install.packages</span>(<span class="st">"midfielddata"</span>)</a></code></pre></div>
</div>
<div id="data" class="section level2">
<h2 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h2>
<p>The midfieldr package includes:</p>
<ul>
<li>
<code>cip</code> A data frame with 1584 observations and 6 CIP variables of program codes and names at the 2, 4, and 6-digit levels. Each observation is a unique program. Occupies 364 kb of memory.</li>
</ul>
<p>The <a href="https://midfieldr.github.io/midfielddata">midfielddata</a> package contains the four datasets that comprise a stratified sample of the MIDFIELD database.</p>
<ul>
<li><p><code>midfieldstudents</code> A data frame with 97,640 observations and 15 demographic variables. Each observation is a unique student. Occupies 19 Mb of memory.</p></li>
<li><p><code>midfieldcourses</code> A data frame with 3.5 M observations and 12 academic course variables. Each observation is one course in one term for one student. Occupies 348 Mb of memory.</p></li>
<li><p><code>midfieldterms</code> A data frame with 729,014 observations and 13 academic term variables. Each observation is one term for one student. Occupies 82 Mb of memory.</p></li>
<li><p><code>midfielddegrees</code> A data frame with 97,640 observations and 5 graduation variables. Each observation is a unique student. Occupies 10 Mb of memory.</p></li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>We illustrate a number of midfieldr functions by demonstrating how to compute and graph the “stickiness” metric. Stickiness is the ratio of the number of students graduating from a program to the number ever enrolled in the program <span class="citation">(Ohland et al. 2012)</span>.</p>
<p>Packages to install and load:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(midfieldr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">library</span>(seplyr)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<div id="select-programs-to-study" class="section level3">
<h3 class="hasAnchor">
<a href="#select-programs-to-study" class="anchor"></a>Select programs to study</h3>
<p>In this example we compare the stickiness of three engineering programs: Chemical, Electrical, and Industrial.</p>
<p>We use <code><a href="reference/cip_filter.html">cip_filter()</a></code> to search the <code>cip</code> dataset first for “Engineering” and then filter the result for “Chemical”, “Electrical”, and “Industrial”.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="reference/cip_filter.html">cip_filter</a></span>(cip, <span class="dt">series =</span> <span class="st">"Engineering"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/cip_filter.html">cip_filter</a></span>(., <span class="dt">series =</span> <span class="kw">c</span>(<span class="st">"Chemical"</span>, <span class="st">"Electrical"</span>, <span class="st">"Industrial"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw">head</span>(., <span class="dt">n =</span> 10L)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; # A tibble: 10 x 6</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;    cip2  cip2name               cip4  cip4name       cip6  cip6name       </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;                  &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt; &lt;chr&gt;          </span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;  1 14    Engineering            1407  Chemical Engi~ 1407~ Chemical Engin~</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;  2 14    Engineering            1407  Chemical Engi~ 1407~ Chemical and B~</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;  3 14    Engineering            1407  Chemical Engi~ 1407~ Chemical Engin~</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  4 14    Engineering            1410  Electrical, E~ 1410~ Electrical, El~</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  5 14    Engineering            1410  Electrical, E~ 1410~ Laser and Opti~</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  6 14    Engineering            1410  Electrical, E~ 1410~ Telecommunicat~</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  7 14    Engineering            1410  Electrical, E~ 1410~ Electrical, El~</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  8 14    Engineering            1435  Industrial En~ 1435~ Industrial Eng~</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;  9 15    Engineering Technology 1503  Electrical En~ 1503~ Electrical, El~</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; 10 15    Engineering Technology 1503  Electrical En~ 1503~ Laser and Opti~</span></a></code></pre></div>
<p>The results show that the codes we want are 1407 Chemical Engineering, 1410 Electrical Engineering, and 1435 Industrial Engineering.</p>
<p>We extract the series for each major and assign our own program label using <code><a href="reference/cip_label.html">cip_label()</a></code>. We can assign the default code name, e.g., using “cip4name” or we can assign our own label. Here for example, I’ve used “Electrical Engineering” instead of the longer, default 4-digit code name “Electrical/Electronics and Communications Engineering.”</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">set1 &lt;-<span class="st"> </span><span class="kw"><a href="reference/cip_filter.html">cip_filter</a></span>(cip, <span class="dt">series =</span> <span class="st">"^1407"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/cip_label.html">cip_label</a></span>(., <span class="dt">program =</span> <span class="st">"cip4name"</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">set2 &lt;-<span class="st"> </span><span class="kw"><a href="reference/cip_filter.html">cip_filter</a></span>(cip, <span class="dt">series =</span> <span class="st">"^1410"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/cip_label.html">cip_label</a></span>(., <span class="dt">program =</span> <span class="st">"Electrical Engineering"</span>)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">set3 &lt;-<span class="st"> </span><span class="kw"><a href="reference/cip_filter.html">cip_filter</a></span>(cip, <span class="dt">series =</span> <span class="st">"^1435"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="reference/cip_label.html">cip_label</a></span>(., <span class="dt">program =</span> <span class="st">"cip4name"</span>)</a></code></pre></div>
<p>Combine the data frames.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">cip_group &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(set1, set2, set3)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">cip_group</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; # A tibble: 8 x 7</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;   cip2  cip2name    cip4  cip4name        cip6   cip6name        program  </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; 1 14    Engineering 1407  Chemical Engin~ 140701 Chemical Engin~ Chemical~</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; 2 14    Engineering 1407  Chemical Engin~ 140702 Chemical and B~ Chemical~</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; 3 14    Engineering 1407  Chemical Engin~ 140799 Chemical Engin~ Chemical~</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; 4 14    Engineering 1410  Electrical, El~ 141001 Electrical, El~ Electric~</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; 5 14    Engineering 1410  Electrical, El~ 141003 Laser and Opti~ Electric~</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; 6 14    Engineering 1410  Electrical, El~ 141004 Telecommunicat~ Electric~</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; 7 14    Engineering 1410  Electrical, El~ 141099 Electrical, El~ Electric~</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; 8 14    Engineering 1435  Industrial Eng~ 143501 Industrial Eng~ Industri~</span></a></code></pre></div>
<p>For additional information, try the help page <code>?cip_filter()</code> and the <a href="cip_filter.html">Selecting CIP codes</a> vignette.</p>
</div>
<div id="compute-the-metric" class="section level3">
<h3 class="hasAnchor">
<a href="#compute-the-metric" class="anchor"></a>Compute the metric</h3>
<p>Use <code><a href="reference/gather_ever.html">gather_ever()</a></code> to access the <code>midfieldterms</code> dataset and extract all students who ever enrolled in these programs. Use <code><a href="reference/race_sex_join.html">race_sex_join()</a></code> to access the <code>midfieldstudents</code> dataset and append students’ race and sex to the data frame.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">students &lt;-<span class="st"> </span><span class="kw"><a href="reference/gather_ever.html">gather_ever</a></span>(cip_group) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/race_sex_join.html">race_sex_join</a></span>(.)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">students</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; # A tibble: 6,444 x 5</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;    id          cip6   program              race  sex   </span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;                &lt;chr&gt; &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt;  1 MID25783178 140701 Chemical Engineering Black Male  </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;  2 MID25783197 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt;  3 MID25783257 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;  4 MID25785896 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt;  5 MID25786299 140701 Chemical Engineering White Female</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt;  6 MID25786339 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt;  7 MID25786745 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt;  8 MID25787174 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt;  9 MID25787361 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt; 10 MID25787468 140701 Chemical Engineering White Male  </span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="co">#&gt; # ... with 6,434 more rows</span></a></code></pre></div>
<p>We create a vector of grouping variables and use the seplyr <code>group_summarize()</code> function to count the numbers of students ever enrolled in these programs. We define the new variable <code>ever</code> to denote the count.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">grouping_variables &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"program"</span>, <span class="st">"race"</span>, <span class="st">"sex"</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">ever_enrolled &lt;-<span class="st"> </span>students <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">group_summarize</span>(., grouping_variables, <span class="dt">ever =</span> <span class="kw">n</span>())</a></code></pre></div>
<p>Following similar steps, we use <code><a href="reference/gather_grad.html">gather_grad()</a></code> to access the <code>midfielddegrees</code> dataset and extract all students who graduated from these programs. We group and summarize the counts using <code>grad</code> as the new count variable.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">graduated &lt;-<span class="st"> </span><span class="kw"><a href="reference/gather_grad.html">gather_grad</a></span>(cip_group) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/race_sex_join.html">race_sex_join</a></span>(.) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw">group_summarize</span>(., grouping_variables, <span class="dt">grad =</span> <span class="kw">n</span>())</a></code></pre></div>
<p>We join the two data frames by the grouping variables.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">stickiness &lt;-<span class="st"> </span><span class="kw">left_join</span>(ever_enrolled, graduated, <span class="dt">by =</span> grouping_variables)</a></code></pre></div>
<p>We suggest omitting observations with 5 or fewer students ever enrolled.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">stickiness &lt;-<span class="st"> </span>stickiness <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(., ever <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)</a></code></pre></div>
<p>And we compute stickiness, the ratio of <code>grad</code> to <code>ever</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">stickiness &lt;-<span class="st"> </span>stickiness <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(., <span class="dt">stick =</span> <span class="kw">round</span>(grad <span class="op">/</span><span class="st"> </span>ever, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">stickiness</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt; # A tibble: 41 x 6</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt;    program              race            sex     ever  grad stick</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;                &lt;chr&gt;           &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt;  1 Chemical Engineering Asian           Female    56    26 0.464</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt;  2 Chemical Engineering Asian           Male      98    35 0.357</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt;  3 Chemical Engineering Black           Female   148    52 0.351</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt;  4 Chemical Engineering Black           Male      98    26 0.265</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt;  5 Chemical Engineering Hispanic        Female    38    11 0.289</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt;  6 Chemical Engineering Hispanic        Male      57    18 0.316</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt;  7 Chemical Engineering International   Female     8     4 0.5  </span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt;  8 Chemical Engineering International   Male      23     7 0.304</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt;  9 Chemical Engineering Native American Female     7     1 0.143</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="co">#&gt; 10 Chemical Engineering Native American Male       8     3 0.375</span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18"><span class="co">#&gt; # ... with 31 more rows</span></a></code></pre></div>
<p>For a discussion of each step in greater detail, see the <a href="stickiness.html">Stickiness metric</a> vignette.</p>
</div>
<div id="graph-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#graph-the-results" class="anchor"></a>Graph the results</h3>
<p>To prepare the stickiness data for graphing, we remove ambiguous race levels (Unknown, International, or Other) and then combine race and sex into a single variable.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">stickiness_mw &lt;-<span class="st"> </span>stickiness <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(., <span class="op">!</span>race <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"Unknown"</span>, <span class="st">"International"</span>, <span class="st">"Other"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(., <span class="op">!</span>sex <span class="op">%in%</span><span class="st"> "Unknown"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(., <span class="dt">race_sex =</span> <span class="kw">paste</span>(race, sex))</a></code></pre></div>
<p>We graph these results in a <em>multiway dot plot</em> <span class="citation">(Cleveland 1993)</span>, a display type based on a data structure of two categorical variables (program and race/ethnicity/sex) and one quantitative variable (stickiness).</p>
<p><code><a href="reference/multiway_order.html">multiway_order()</a></code> converts the two categorical variables to factors and orders their levels by median stickiness.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">stickiness_mw &lt;-<span class="st"> </span>stickiness_mw <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(., program, race_sex, stick) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/multiway_order.html">multiway_order</a></span>(.)</a></code></pre></div>
<p>We use conventional ggplot2 functions to graph stickiness in a multiway dot plot. We also apply our own <code><a href="reference/utils_graph.html">theme_midfield()</a></code> to edit the visual properties of the graph.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">ggplot</span>(stickiness_mw, <span class="kw">aes</span>(<span class="dt">x =</span> stick, <span class="dt">y =</span> race_sex)) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>program, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">as.table =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Stickiness"</span>, <span class="dt">y =</span> <span class="st">""</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="reference/utils_graph.html">theme_midfield</a></span>()</a></code></pre></div>
<p><img src="reference/figures/README-fig1-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>The ordering of the rows and panels of the multiway plot tell us that for these three engineering majors, Industrial Engineering has the greatest stickiness and Electrical the least; that Asian men have the greatest stickiness and Native American Women the least. The visual anomalies are White women in Electrical with lower stickiness than expected by the ranking overall and Asian men in Chemical, also lower than expected.</p>
<p>Results will vary depending on the programs one compares. Variations can also be expected if one uses the whole population data available to MIDFIELD member institutions.</p>
<p>For additional information on multiways, see the <a href="multiway.html">Multiway data, graphs, and tables</a> vignette.</p>
<p>For additional midfieldr functionality and metrics see the <a href="articles/index.html">vignettes</a>.</p>
</div>
</div>
</div>
<div id="meta" class="section level1">
<h1 class="hasAnchor">
<a href="#meta" class="anchor"></a>Meta</h1>
<ul>
<li>License: <a href="https://www.gnu.org/licenses/gpl-3.0">GPL-3</a>.</li>
<li>Please report any <a href="https://github.com/MIDFIELDR/midfieldr/issues">issues or bugs</a>.</li>
<li>Get citation information with <code>citation("midfieldr")</code>.</li>
<li>Please note that this project is released with a <a href="CONDUCT.html">Code of Conduct</a>. If you contribute to this project you agree to abide by its terms.</li>
</ul>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-cleveland1993">
<p>Cleveland, William S. 1993. <em>Visualizing Data</em>. Summit, NJ: Hobart Press.</p>
</div>
<div id="ref-stickiness2012">
<p>Ohland, Matthew, Marisa Orr, Richard Layton, Susan Lord, and Russell Long. 2012. “Introducing Stickiness as a Versatile Metric of Engineering Persistence.” In <em>Proceedings of the Frontiers in Education Conference</em>, 1–5.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/MIDFIELDR/midfieldr">https://​github.com/​MIDFIELDR/​midfieldr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/MIDFIELDR/midfieldr/issues">https://​github.com/​MIDFIELDR/​midfieldr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Richard Layton <br><small class="roles"> Maintainer, author </small>  </li>
<li>Russell Long <br><small class="roles"> Data manager, author </small>  </li>
<li>Matthew Ohland <br><small class="roles"> Author </small>  </li>
<li>US National Science Foundation <br><small class="roles"> Funder </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://cran.r-project.org/package=midfieldr"><img src="http://www.r-pkg.org/badges/version/midfieldr" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://travis-ci.org/MIDFIELDR/midfieldr"><img src="https://travis-ci.org/MIDFIELDR/midfieldr.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/github/MIDFIELDR/midfieldr?branch=master"><img src="https://img.shields.io/codecov/c/github/MIDFIELDR/midfieldr/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://cran.r-project.org/package=midfieldr"><img src="https://cranlogs.r-pkg.org/badges/grand-total/midfieldr"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="reference/figures/License-GPL-v3-blue.svg" alt="License: GPL v3"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Layton, Russell Long, Matthew Ohland, US National Science Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
