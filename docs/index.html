<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Provides tools and demonstrates methods for working with individual 
  undergraduate student-level records (registrars data) in R. Tools include 
  filters for program codes, data sufficiency, and timely completion. Methods 
  include gathering blocs of records, computing quantitative metrics such as 
  graduation rate, and creating charts to visualize comparisons. midfieldr 
  is designed to work with data from the MIDFIELD research database, a sample of 
  which is available in the midfielddata' data package.">
<title>Tools and Methods for Working with MIDFIELD Data in R • midfieldr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="deps/Courier_Prime-0.4.2/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tools and Methods for Working with MIDFIELD Data in R">
<meta property="og:description" content="Provides tools and demonstrates methods for working with individual 
  undergraduate student-level records (registrars data) in R. Tools include 
  filters for program codes, data sufficiency, and timely completion. Methods 
  include gathering blocs of records, computing quantitative metrics such as 
  graduation rate, and creating charts to visualize comparisons. midfieldr 
  is designed to work with data from the MIDFIELD research database, a sample of 
  which is available in the midfielddata' data package.">
<meta property="og:image" content="https://midfieldr.github.io/midfieldr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">midfieldr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9029</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/art-000-getting-started.html">Getting started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-study">Case study</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-study">
    <a class="dropdown-item" href="articles/art-001-case-goals.html">Goals</a>
    <a class="dropdown-item" href="articles/art-002-case-data.html">Data</a>
    <a class="dropdown-item" href="articles/art-003-case-results.html">Results</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="articles/art-010-planning.html">Planning</a>
    <a class="dropdown-item" href="articles/art-020-data-sufficiency.html">Data sufficiency</a>
    <a class="dropdown-item" href="articles/art-030-degree-seeking.html">Degree seeking</a>
    <a class="dropdown-item" href="articles/art-040-programs.html">Programs</a>
    <a class="dropdown-item" href="articles/art-050-blocs.html">Blocs</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MIDFIELDR/midfieldr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><br><code>midfieldr</code> is an R package that provides tools and methods for studying undergraduate student-level records from the MIDFIELD database. Practice data supplied by <code>midfielddata</code>.</p>
<p><img src="https://github.com/MIDFIELDR/midfieldr/blob/main/docs/logo.png?raw=true"></p>
<!-- badges: start -->

<!-- [![CRAN check](https://badges.cranchecks.info/summary/midfieldr.svg)](https://cran.r-project.org/web/checks/check_results_midfieldr.html) -->
<!-- badges: end -->
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Provides tools and demonstrates methods for working with individual undergraduate student-level records (registrar’s data) in ‘R’. Tools include filters for program codes, data sufficiency, and timely completion. Methods include gathering blocs of records, computing quantitative metrics such as graduation rate, and creating charts to visualize comparisons. ‘midfieldr’ is designed to work with data from the MIDFIELD research database, a sample of which is available in the ‘midfielddata’ data package.</p>
<p><code>midfieldr</code> provides these functions for processing student-level data:</p>
<ul>
<li>
<code><a href="reference/add_completion_status.html">add_completion_status()</a></code> Determine completion status for every student</li>
<li>
<code><a href="reference/add_data_sufficiency.html">add_data_sufficiency()</a></code> Determine data sufficiency for every student</li>
<li>
<code><a href="reference/add_timely_term.html">add_timely_term()</a></code> Calculate a timely completion term for every student</li>
<li>
<code><a href="reference/filter_cip.html">filter_cip()</a></code> Filter CIP data to match search strings</li>
<li>
<code><a href="reference/prep_fye_mice.html">prep_fye_mice()</a></code> Prepare FYE data for multiple imputation</li>
<li>
<code><a href="reference/select_required.html">select_required()</a></code> Select required <code>midfieldr</code> variables</li>
</ul>
<p>Additional functions for processing intermediate results:</p>
<ul>
<li>
<code><a href="reference/order_multiway.html">order_multiway()</a></code> Order categorical variables of multiway data</li>
<li>
<code><a href="reference/same_content.html">same_content()</a></code> Test for equal content between two data tables</li>
</ul>
<p><em>Note on syntax.</em>   In our examples, we use <code>data.table</code> for data manipulation and <code>ggplot2</code> for charts. Some users may prefer base R, <code>dplyr</code> (for data), or <code>lattice</code> (for charts). Each system has its strengths—users are welcome to translate our examples to their preferred syntax.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%Y-%m-%d"</span><span class="op">)</span> <span class="co"># Today's date</span></span>
<span><span class="co">#&gt; [1] "2022-12-10"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"midfieldr"</span><span class="op">)</span>    <span class="co"># Student-level records tools and methods</span></span>
<span><span class="co">#&gt; [1] '1.0.0.9029'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"midfielddata"</span><span class="op">)</span> <span class="co"># Student-level records practice data </span></span>
<span><span class="co">#&gt; [1] '0.2.0'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"data.table"</span><span class="op">)</span>   <span class="co"># For data manipulation</span></span>
<span><span class="co">#&gt; [1] '1.14.6'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"ggplot2"</span><span class="op">)</span>      <span class="co"># For data manipulation</span></span>
<span><span class="co">#&gt; [1] '3.4.0'</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>In this example, we gather all students ever enrolled in Engineering and summarize their graduation status (in any major), grouping by race/ethnicity and sex. If you are writing your own script to follow along, we use these packages in this vignette:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://midfieldr.github.io/midfieldr/">midfieldr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://midfieldr.github.io/midfielddata/" class="external-link">midfielddata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></code></pre></div>
<p>Load the practice data. Reduce initial dimensions of data tables using <code><a href="reference/select_required.html">select_required()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the practice data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">student</span>, <span class="va">term</span>, <span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reduce dimensions of source data tables</span></span>
<span><span class="va">student</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">student</span><span class="op">)</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span><span class="va">degree</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/select_required.html">select_required</a></span><span class="op">(</span><span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View example result</span></span>
<span><span class="va">term</span></span>
<span><span class="co">#&gt;                   mcid   institution  term   cip6          level</span></span>
<span><span class="co">#&gt;      1: MCID3111142225 Institution B 19881 140901  01 First-year</span></span>
<span><span class="co">#&gt;      2: MCID3111142283 Institution J 19881 240102  01 First-year</span></span>
<span><span class="co">#&gt;      3: MCID3111142283 Institution J 19883 240102  01 First-year</span></span>
<span><span class="co">#&gt;      4: MCID3111142283 Institution J 19885 190601  01 First-year</span></span>
<span><span class="co">#&gt;      5: MCID3111142283 Institution J 19891 190601 02 Second-year</span></span>
<span><span class="co">#&gt;     ---                                                         </span></span>
<span><span class="co">#&gt; 639911: MCID3112898886 Institution B 20181 500501  01 First-year</span></span>
<span><span class="co">#&gt; 639912: MCID3112898890 Institution B 20181 451101  01 First-year</span></span>
<span><span class="co">#&gt; 639913: MCID3112898894 Institution B 20181 451001  01 First-year</span></span>
<span><span class="co">#&gt; 639914: MCID3112898895 Institution B 20181 302001  01 First-year</span></span>
<span><span class="co">#&gt; 639915: MCID3112898940 Institution B 20181 050103  01 First-year</span></span></code></pre></div>
<p>Filter for data sufficiency using <code><a href="reference/add_timely_term.html">add_timely_term()</a></code> and <code><a href="reference/add_data_sufficiency.html">add_data_sufficiency()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the working data frame</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">term</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">cip6</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter observations for data sufficiency</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/add_timely_term.html">add_timely_term</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/add_data_sufficiency.html">add_data_sufficiency</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">term</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">data_sufficiency</span> <span class="op">==</span> <span class="st">"include"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># View result</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                   mcid   cip6       level_i adj_span timely_term term_i</span></span>
<span><span class="co">#&gt;      1: MCID3111142689 090401 01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;      2: MCID3111142782 260101 01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;      3: MCID3111142782 260101 01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;      4: MCID3111142782 260101 01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;      5: MCID3111142782 260101 01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     ---                                                                </span></span>
<span><span class="co">#&gt; 531415: MCID3112800920 240199 01 First-year        6       20153  20101</span></span>
<span><span class="co">#&gt; 531416: MCID3112870009 240102 01 First-year        6       20003  19951</span></span>
<span><span class="co">#&gt; 531417: MCID3112870009 240102 01 First-year        6       20003  19951</span></span>
<span><span class="co">#&gt; 531418: MCID3112870009 240102 01 First-year        6       20003  19951</span></span>
<span><span class="co">#&gt; 531419: MCID3112870009 240102 01 First-year        6       20003  19951</span></span>
<span><span class="co">#&gt;         lower_limit upper_limit data_sufficiency</span></span>
<span><span class="co">#&gt;      1:       19881       20181          include</span></span>
<span><span class="co">#&gt;      2:       19881       20096          include</span></span>
<span><span class="co">#&gt;      3:       19881       20096          include</span></span>
<span><span class="co">#&gt;      4:       19881       20096          include</span></span>
<span><span class="co">#&gt;      5:       19881       20096          include</span></span>
<span><span class="co">#&gt;     ---                                         </span></span>
<span><span class="co">#&gt; 531415:       19881       20181          include</span></span>
<span><span class="co">#&gt; 531416:       19881       20181          include</span></span>
<span><span class="co">#&gt; 531417:       19881       20181          include</span></span>
<span><span class="co">#&gt; 531418:       19881       20181          include</span></span>
<span><span class="co">#&gt; 531419:       19881       20181          include</span></span></code></pre></div>
<p>Filter for degree-seeking students ever enrolled in Engineering.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inner join to filter observations for degree-seeking</span></span>
<span><span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">cols_we_want</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span>, nomatch <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter observations for engineering programs</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">cip6</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%like%</a></span> <span class="st">"^14"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Filter observations for unique students (first instance)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.SD</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># View result</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                  mcid   cip6        level_i adj_span timely_term term_i</span></span>
<span><span class="co">#&gt;     1: MCID3111142965 140102  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     2: MCID3111145102 140102  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     3: MCID3111146537 141001 02 Second-year        5       19931  19883</span></span>
<span><span class="co">#&gt;     4: MCID3111146674 141001  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     5: MCID3111150194 140102  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;    ---                                                                 </span></span>
<span><span class="co">#&gt; 10397: MCID3112619484 141001  01 First-year        6       20181  20123</span></span>
<span><span class="co">#&gt; 10398: MCID3112619666 141901  01 First-year        6       20181  20123</span></span>
<span><span class="co">#&gt; 10399: MCID3112641399 141901  01 First-year        6       20181  20123</span></span>
<span><span class="co">#&gt; 10400: MCID3112641535 141901  01 First-year        6       20173  20121</span></span>
<span><span class="co">#&gt; 10401: MCID3112698681 141901  01 First-year        6       20171  20113</span></span>
<span><span class="co">#&gt;        lower_limit upper_limit data_sufficiency</span></span>
<span><span class="co">#&gt;     1:       19881       20096          include</span></span>
<span><span class="co">#&gt;     2:       19881       20096          include</span></span>
<span><span class="co">#&gt;     3:       19881       20096          include</span></span>
<span><span class="co">#&gt;     4:       19881       20096          include</span></span>
<span><span class="co">#&gt;     5:       19881       20096          include</span></span>
<span><span class="co">#&gt;    ---                                         </span></span>
<span><span class="co">#&gt; 10397:       19881       20181          include</span></span>
<span><span class="co">#&gt; 10398:       19881       20181          include</span></span>
<span><span class="co">#&gt; 10399:       19881       20181          include</span></span>
<span><span class="co">#&gt; 10400:       19881       20181          include</span></span>
<span><span class="co">#&gt; 10401:       19881       20181          include</span></span></code></pre></div>
<p>Determine completion status using <code><a href="reference/add_completion_status.html">add_completion_status()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add completion status variable</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/add_completion_status.html">add_completion_status</a></span><span class="op">(</span><span class="va">DT</span>, <span class="va">degree</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View result</span></span>
<span><span class="va">DT</span></span>
<span><span class="co">#&gt;                  mcid   cip6        level_i adj_span timely_term term_i</span></span>
<span><span class="co">#&gt;     1: MCID3111142965 140102  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     2: MCID3111145102 140102  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     3: MCID3111146537 141001 02 Second-year        5       19931  19883</span></span>
<span><span class="co">#&gt;     4: MCID3111146674 141001  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;     5: MCID3111150194 140102  01 First-year        6       19941  19883</span></span>
<span><span class="co">#&gt;    ---                                                                 </span></span>
<span><span class="co">#&gt; 10397: MCID3112619484 141001  01 First-year        6       20181  20123</span></span>
<span><span class="co">#&gt; 10398: MCID3112619666 141901  01 First-year        6       20181  20123</span></span>
<span><span class="co">#&gt; 10399: MCID3112641399 141901  01 First-year        6       20181  20123</span></span>
<span><span class="co">#&gt; 10400: MCID3112641535 141901  01 First-year        6       20173  20121</span></span>
<span><span class="co">#&gt; 10401: MCID3112698681 141901  01 First-year        6       20171  20113</span></span>
<span><span class="co">#&gt;        lower_limit upper_limit data_sufficiency term_degree completion_status</span></span>
<span><span class="co">#&gt;     1:       19881       20096          include       19901            timely</span></span>
<span><span class="co">#&gt;     2:       19881       20096          include       19893            timely</span></span>
<span><span class="co">#&gt;     3:       19881       20096          include       19913            timely</span></span>
<span><span class="co">#&gt;     4:       19881       20096          include       19921            timely</span></span>
<span><span class="co">#&gt;     5:       19881       20096          include       19923            timely</span></span>
<span><span class="co">#&gt;    ---                                                                       </span></span>
<span><span class="co">#&gt; 10397:       19881       20181          include       20133            timely</span></span>
<span><span class="co">#&gt; 10398:       19881       20181          include        &lt;NA&gt;              &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10399:       19881       20181          include       20163            timely</span></span>
<span><span class="co">#&gt; 10400:       19881       20181          include       20143            timely</span></span>
<span><span class="co">#&gt; 10401:       19881       20181          include       20181              late</span></span></code></pre></div>
<p>Aggregate observations by groupings.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Left join to add race/ethnicity and sex variables (omit unknowns)</span></span>
<span><span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">mcid</span>, <span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">student</span><span class="op">[</span><span class="va">DT</span>, on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcid"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="va">race</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%ilike%</a></span> <span class="st">"unknown"</span> <span class="op">|</span> <span class="va">sex</span> <span class="op"><a href="https://Rdatatable.gitlab.io/data.table/reference/like.html" class="external-link">%ilike%</a></span> <span class="st">"unknown"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create a variable combining race/ethnicity and sex</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">people</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">race</span>, <span class="va">sex</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Aggregate observations by groupings</span></span>
<span><span class="va">DT_display</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completion_status"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># View result</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html" class="external-link">setorderv</a></span><span class="op">(</span><span class="va">DT_display</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completion_status"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">DT_display</span></span>
<span><span class="co">#&gt;     completion_status                 people    N</span></span>
<span><span class="co">#&gt;  1:              &lt;NA&gt;           Asian Female   43</span></span>
<span><span class="co">#&gt;  2:              &lt;NA&gt;             Asian Male  163</span></span>
<span><span class="co">#&gt;  3:              &lt;NA&gt;           Black Female   39</span></span>
<span><span class="co">#&gt;  4:              &lt;NA&gt;             Black Male   84</span></span>
<span><span class="co">#&gt;  5:              &lt;NA&gt;   International Female   51</span></span>
<span><span class="co">#&gt; ---                                              </span></span>
<span><span class="co">#&gt; 31:            timely            Latine Male  181</span></span>
<span><span class="co">#&gt; 32:            timely Native American Female    2</span></span>
<span><span class="co">#&gt; 33:            timely   Native American Male   13</span></span>
<span><span class="co">#&gt; 34:            timely           White Female  985</span></span>
<span><span class="co">#&gt; 35:            timely             White Male 4100</span></span></code></pre></div>
<p>Reshape and display results.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Transform to row-record form</span></span>
<span><span class="va">DT_display</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">DT_display</span>, <span class="va">people</span> <span class="op">~</span> <span class="va">completion_status</span>, value.var <span class="op">=</span> <span class="st">"N"</span>, fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Prepare the table for display</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setcolorder.html" class="external-link">setcolorder</a></span><span class="op">(</span><span class="va">DT_display</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"people"</span>, <span class="st">"timely"</span>, <span class="st">"late"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setkey.html" class="external-link">setkeyv</a></span><span class="op">(</span><span class="va">DT_display</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"people"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html" class="external-link">setnames</a></span><span class="op">(</span><span class="va">DT_display</span>,</span>
<span>  old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"people"</span>, <span class="st">"timely"</span>, <span class="st">"late"</span>, <span class="st">"NA"</span><span class="op">)</span>,</span>
<span>  new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"People"</span>, <span class="st">"Timely completion"</span>, <span class="st">"Late completion"</span>, <span class="st">"Did not complete"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table  lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
Table 1: Completion status of engineering undergraduates in the practice data
</caption>
<thead><tr>
<th style="text-align:left;background-color: #c7eae5 !important;">
People
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
Timely completion
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
Late completion
</th>
<th style="text-align:right;background-color: #c7eae5 !important;">
Did not complete
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Asian Female
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
87
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
43
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Asian Male
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
315
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
19
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
163
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Black Female
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
26
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
3
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
39
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Black Male
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
80
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
5
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
84
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
International Female
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
110
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
9
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
51
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
International Male
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
501
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
41
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
280
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Latine Female
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
36
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
3
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
31
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Latine Male
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
181
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
19
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
102
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Native American Female
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
0
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
Native American Male
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
13
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
3
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
6
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
White Female
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
985
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
51
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
386
</td>
</tr>
<tr>
<td style="text-align:left;color: black !important;background-color: white !important;">
White Male
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
4100
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
269
</td>
<td style="text-align:right;color: black !important;background-color: white !important;">
2034
</td>
</tr>
</tbody>
</table>
<p>“Timely completion” is the count of graduates completing their programs in no more than 6 years; “Late completion” is the count of those graduating in more than 6 years; “Did not complete” is the count of non-graduates.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install with:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"midfieldr"</span>,</span>
<span>  repos <span class="op">=</span> <span class="st">"https://MIDFIELDR.github.io/drat/"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"source"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can install the development version from the MIDFIELD GitHub repository:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="http://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"MIDFIELDR/midfieldr"</span><span class="op">)</span></span></code></pre></div>
<p>Link to installation instructions for <code>midfielddata</code> below.</p>
</div>
<div class="section level2">
<h2 id="more-information">More information<a class="anchor" aria-label="anchor" href="#more-information"></a>
</h2>
<p><a href="https://midfield.online/" class="external-link">MIDFIELD</a><br>
A database of anonymized student-level records for approximately 1.7M undergraduates at nineteen US institutions from 1987–2018, of which <code>midfielddata</code> provides a sample. This research database is currently accessible to MIDFIELD partner institutions only.</p>
<p><a href="https://midfieldr.github.io/midfielddata/" class="external-link"><code>midfielddata</code></a><br>
An R data package that supplies anonymized student-level records for 98,000 undergraduates at three US institutions from 1988–2018. A sample of the MIDFIELD database, <code>midfielddata</code> provides practice data for the tools and methods in the <code>midfieldr</code> package.</p>
<p><a href="https://midfieldr.github.io/2022-midfield-institute/" class="external-link">MIDFIELD Institute</a><br>
Materials from the 2022 workshop, including an introduction to R for beginners, chart basics with <code>ggplot2</code>, and data basics with <code>data.table</code>.</p>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>This work is supported by a grant from the US National Science Foundation (EEC 1545667).</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs">

</div>
<style type="text/css">
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
</style>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/MIDFIELDR/midfieldr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/MIDFIELDR/midfieldr/issues" class="external-link">Report a bug</a></li>
<li><a href="https://midfieldr.github.io/midfielddata" class="external-link">midfielddata</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing midfieldr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/graphdr" class="external-link">Richard Layton</a> <br><small class="roles"> Author, copyright holder, maintainer </small>  </li>
<li>Russell Long <br><small class="roles"> Author, copyright holder, data manager </small>  </li>
<li>Matthew Ohland <br><small class="roles"> Author, copyright holder </small>  </li>
<li>Marisa Orr <br><small class="roles"> Author, copyright holder </small>  </li>
<li>Susan Lord <br><small class="roles"> Author, copyright holder </small>  </li>
<li>US National Science Foundation <br><small class="roles"> Funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=midfieldr" class="external-link"><img src="https://www.r-pkg.org/badges/version/midfieldr" alt="CRAN status"></a></li>
<li><a href="https://github.com/MIDFIELDR/midfieldr/actions" class="external-link"><img src="https://github.com/MIDFIELDR/midfieldr/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/MIDFIELDR/midfieldr" class="external-link"><img src="https://codecov.io/gh/MIDFIELDR/midfieldr/branch/main/graph/badge.svg?token=KcuCzBkLBP" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr" class="external-link">Richard Layton</a>, Russell Long, Matthew Ohland, Marisa Orr, Susan Lord, US National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
