<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Explore program CIP codes</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>
<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Explore program CIP codes</h1>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>In studying student records, a common first step is to subset the data, retaining some instructional programs and dropping others. In the US, instructional programs are encoded by “CIP” codes.</p>
<p>CIP is the acronym for <em>Classification of Instructional Programs</em>, a taxonomy of academic programs curated by the US Department of Education <span class="citation">(NCES, <a href="#ref-NCES:2010" role="doc-biblioref">2010</a>)</span>. A CIP code is a 6-digit integer assigned to an instructional program. The 2010 CIP codes are included with midfieldr in the data set <code>cip</code>.</p>
<p>We explore the <code>cip</code> data set using several search strategies and we conclude by constructing an example data set used in subsequent vignettes.</p>
<div id="this-vignette-uses" class="section level3">
<h3>This vignette uses</h3>
<p>midfieldr functions</p>
<ul>
<li><code>filter_by_text()</code></li>
</ul>
<p>data.table syntax</p>
<ul>
<li><code>DT[, .(column_name_1, column_name_2)]</code> select columns by name</li>
</ul>
<p>packages</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># packages used</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(midfieldr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(data.table)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># print max 20 rows, otherwise 10 rows each head/tail</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">options</span>(<span class="dt">datatable.print.nrows =</span> <span class="dv">20</span>, <span class="dt">datatable.print.topn =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="cip-data" class="section level2">
<h2>CIP data</h2>
<p>The midfieldr package includes a data set called <code>cip</code> that provides the 2010 CIP codes and names for 1584 programs, one program per row. Every program has three codes:</p>
<ul>
<li>6-digit code, a specific program</li>
<li>4-digit code, a group of 6-digit programs of comparable content</li>
<li>2-digit code, a grouping of 4-digit groups of related content</li>
</ul>
<p>Examine the column names and class.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># column names and class of each </span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">unlist</span>(<span class="kw">lapply</span>(cip, <span class="dt">FUN =</span> class))</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt;        cip2    cip2name        cip4    cip4name        cip6    cip6name </span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt; &quot;character&quot; &quot;character&quot; &quot;character&quot; &quot;character&quot; &quot;character&quot; &quot;character&quot;</span></span></code></pre></div>
<p>View the 2-, 4-, and 6-digit columns separately.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># 2-digit codes and names alone</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>cip[, .(cip2, cip2name)]</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt;       cip2                                                  cip2name</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt;    1:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt;    2:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt;    3:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt;    4:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt;    5:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt;    6:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt;    7:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt;    8:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt;    9:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt;   10:   01 Agriculture, Agricultural Operations and Related Sciences</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt;   ---                                                               </span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt; 1575:   54                                                   History</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co">#&gt; 1576:   54                                                   History</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">#&gt; 1577:   54                                                   History</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">#&gt; 1578:   54                                                   History</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">#&gt; 1579:   54                                                   History</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">#&gt; 1580:   54                                                   History</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">#&gt; 1581:   54                                                   History</span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="co">#&gt; 1582:   54                                                   History</span></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="co">#&gt; 1583:   54                                                   History</span></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="co">#&gt; 1584:   99                         NonIPEDS - Undecided, Unspecified</span></span>
<span id="cb3-25"><a href="#cb3-25"></a></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="co"># 4-digit codes and names alone </span></span>
<span id="cb3-27"><a href="#cb3-27"></a>cip[, .(cip4, cip4name)]</span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="co">#&gt;       cip4                             cip4name</span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">#&gt;    1: 0100                 Agriculture, General</span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="co">#&gt;    2: 0101 Agricultural Business and Management</span></span>
<span id="cb3-31"><a href="#cb3-31"></a><span class="co">#&gt;    3: 0101 Agricultural Business and Management</span></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="co">#&gt;    4: 0101 Agricultural Business and Management</span></span>
<span id="cb3-33"><a href="#cb3-33"></a><span class="co">#&gt;    5: 0101 Agricultural Business and Management</span></span>
<span id="cb3-34"><a href="#cb3-34"></a><span class="co">#&gt;    6: 0101 Agricultural Business and Management</span></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">#&gt;    7: 0101 Agricultural Business and Management</span></span>
<span id="cb3-36"><a href="#cb3-36"></a><span class="co">#&gt;    8: 0101 Agricultural Business and Management</span></span>
<span id="cb3-37"><a href="#cb3-37"></a><span class="co">#&gt;    9: 0102           Agricultural Mechanization</span></span>
<span id="cb3-38"><a href="#cb3-38"></a><span class="co">#&gt;   10: 0102           Agricultural Mechanization</span></span>
<span id="cb3-39"><a href="#cb3-39"></a><span class="co">#&gt;   ---                                          </span></span>
<span id="cb3-40"><a href="#cb3-40"></a><span class="co">#&gt; 1575: 5401                              History</span></span>
<span id="cb3-41"><a href="#cb3-41"></a><span class="co">#&gt; 1576: 5401                              History</span></span>
<span id="cb3-42"><a href="#cb3-42"></a><span class="co">#&gt; 1577: 5401                              History</span></span>
<span id="cb3-43"><a href="#cb3-43"></a><span class="co">#&gt; 1578: 5401                              History</span></span>
<span id="cb3-44"><a href="#cb3-44"></a><span class="co">#&gt; 1579: 5401                              History</span></span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="co">#&gt; 1580: 5401                              History</span></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co">#&gt; 1581: 5401                              History</span></span>
<span id="cb3-47"><a href="#cb3-47"></a><span class="co">#&gt; 1582: 5401                              History</span></span>
<span id="cb3-48"><a href="#cb3-48"></a><span class="co">#&gt; 1583: 5401                              History</span></span>
<span id="cb3-49"><a href="#cb3-49"></a><span class="co">#&gt; 1584: 9999    NonIPEDS - Undecided, Unspecified</span></span>
<span id="cb3-50"><a href="#cb3-50"></a></span>
<span id="cb3-51"><a href="#cb3-51"></a><span class="co"># 6-digit codes and names alone </span></span>
<span id="cb3-52"><a href="#cb3-52"></a>cip[, .(cip6, cip6name)]</span>
<span id="cb3-53"><a href="#cb3-53"></a><span class="co">#&gt;         cip6                                              cip6name</span></span>
<span id="cb3-54"><a href="#cb3-54"></a><span class="co">#&gt;    1: 010000                                  Agriculture, General</span></span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="co">#&gt;    2: 010101         Agricultural Business and Management, General</span></span>
<span id="cb3-56"><a href="#cb3-56"></a><span class="co">#&gt;    3: 010102        Agribusiness, Agricultural Business Operations</span></span>
<span id="cb3-57"><a href="#cb3-57"></a><span class="co">#&gt;    4: 010103                                Agricultural Economics</span></span>
<span id="cb3-58"><a href="#cb3-58"></a><span class="co">#&gt;    5: 010104                       Farm, Farm and Ranch Management</span></span>
<span id="cb3-59"><a href="#cb3-59"></a><span class="co">#&gt;    6: 010105 Agricultural, Farm Supplies Retailing and Wholesaling</span></span>
<span id="cb3-60"><a href="#cb3-60"></a><span class="co">#&gt;    7: 010106                      Agricultural Business Technology</span></span>
<span id="cb3-61"><a href="#cb3-61"></a><span class="co">#&gt;    8: 010199           Agricultural Business and Management, Other</span></span>
<span id="cb3-62"><a href="#cb3-62"></a><span class="co">#&gt;    9: 010201                   Agricultural Mechanization, General</span></span>
<span id="cb3-63"><a href="#cb3-63"></a><span class="co">#&gt;   10: 010204                Agricultural Power Machinery Operation</span></span>
<span id="cb3-64"><a href="#cb3-64"></a><span class="co">#&gt;   ---                                                             </span></span>
<span id="cb3-65"><a href="#cb3-65"></a><span class="co">#&gt; 1575: 540101                                      History, General</span></span>
<span id="cb3-66"><a href="#cb3-66"></a><span class="co">#&gt; 1576: 540102                      American History (United States)</span></span>
<span id="cb3-67"><a href="#cb3-67"></a><span class="co">#&gt; 1577: 540103                                      European History</span></span>
<span id="cb3-68"><a href="#cb3-68"></a><span class="co">#&gt; 1578: 540104      History and Philosophy of Science and Technology</span></span>
<span id="cb3-69"><a href="#cb3-69"></a><span class="co">#&gt; 1579: 540105   Public, Applied History and Archival Administration</span></span>
<span id="cb3-70"><a href="#cb3-70"></a><span class="co">#&gt; 1580: 540106                                         Asian History</span></span>
<span id="cb3-71"><a href="#cb3-71"></a><span class="co">#&gt; 1581: 540107                                      Canadian History</span></span>
<span id="cb3-72"><a href="#cb3-72"></a><span class="co">#&gt; 1582: 540108                                      Military History</span></span>
<span id="cb3-73"><a href="#cb3-73"></a><span class="co">#&gt; 1583: 540199                                        History, Other</span></span>
<span id="cb3-74"><a href="#cb3-74"></a><span class="co">#&gt; 1584: 999999                     NonIPEDS - Undecided, Unspecified</span></span></code></pre></div>
<p>If you prefer to see a spreadsheet-like array of any data frame, run</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">View</span>(cip)</span></code></pre></div>
<p>To facilitate viewing in the vignettes, we will often typeset a data frame as an HTML table. For example, the following table includes the same information from our views of <code>cip</code> above in an easy-to-read format. The values are tabulated with the variable names in the header.</p>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0100
</td>
<td style="text-align:left;">
Agriculture, General
</td>
<td style="text-align:left;">
010000
</td>
<td style="text-align:left;">
Agriculture, General
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010101
</td>
<td style="text-align:left;">
Agricultural Business and Management, General
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010102
</td>
<td style="text-align:left;">
Agribusiness, Agricultural Business Operations
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010103
</td>
<td style="text-align:left;">
Agricultural Economics
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Agriculture, Agricultural Operations and Related Sciences
</td>
<td style="text-align:left;">
0101
</td>
<td style="text-align:left;">
Agricultural Business and Management
</td>
<td style="text-align:left;">
010104
</td>
<td style="text-align:left;">
Farm, Farm and Ranch Management
</td>
</tr>
<tr>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
<td style="text-align:left;">
—
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540106
</td>
<td style="text-align:left;">
Asian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540107
</td>
<td style="text-align:left;">
Canadian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540108
</td>
<td style="text-align:left;">
Military History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540199
</td>
<td style="text-align:left;">
History, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
99
</td>
<td style="text-align:left;">
NonIPEDS - Undecided, Unspecified
</td>
<td style="text-align:left;">
9999
</td>
<td style="text-align:left;">
NonIPEDS - Undecided, Unspecified
</td>
<td style="text-align:left;">
999999
</td>
<td style="text-align:left;">
NonIPEDS - Undecided, Unspecified
</td>
</tr>
</tbody>
</table>
<div id="relationships-between-2--4--and-6-digit-cip" class="section level3">
<h3>Relationships between 2-, 4-, and 6-digit CIP</h3>
<p>In the table below, we show all programs associated with the 2-digit code “41” for programs in the broad area of “Science Technologies, Technicians”. This 2-digit grouping is subdivided into 5 groups at the 4-digit level (codes 4100–4199) which are further subdivided into 9 programs at the 6-digit level (codes 410000–419999).</p>
<p>As you can see, the 6-digit codes and names represent distinct instructional programs and the 4- and 2-digit codes are groupings of programs.</p>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4100
</td>
<td style="text-align:left;">
Science Technologies, Technicians, General
</td>
<td style="text-align:left;">
410000
</td>
<td style="text-align:left;">
Science Technologies, Technicians, General
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4101
</td>
<td style="text-align:left;">
Biology Technician, Biotechnology Laboratory Technician
</td>
<td style="text-align:left;">
410101
</td>
<td style="text-align:left;">
Biology Technician, Biotechnology Laboratory Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410204
</td>
<td style="text-align:left;">
Industrial Radiologic Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410205
</td>
<td style="text-align:left;">
Nuclear, Nuclear Power Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410299
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4103
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:left;">
410301
</td>
<td style="text-align:left;">
Chemical Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4103
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:left;">
410303
</td>
<td style="text-align:left;">
Chemical Process Technology
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4103
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians
</td>
<td style="text-align:left;">
410399
</td>
<td style="text-align:left;">
Physical Science Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4199
</td>
<td style="text-align:left;">
Science Technologies, Technicians, Other
</td>
<td style="text-align:left;">
419999
</td>
<td style="text-align:left;">
Science Technologies, Technicians, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Higher-level groups comprise different numbers of lower-level groups. As shown above, codes 4102 and 4103 include 3 programs each but codes 4100, 4101, and 4199 include only one program each. At the 2-digit level, code 41 comprises N = 9 programs total.</p>
<p>In <code>cip</code> overall, a 2-digit grouping can include anywhere from 4 programs (code 24 Liberal Arts and Sciences, General Studies and Humanities) to 238 programs (code 51 Health Professions and Related Clinical Sciences). Similarly, a 4-digit grouping can include anywhere from 1 program (codes 4100, 4101, and 4199 shown above) to 37 programs (code 1313 Education).</p>
<p>To learn more, open the help page by running</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>? cip</span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="filtering-basics" class="section level2">
<h2>Filtering basics</h2>
<p>The variables in <code>cip</code> are all characters, facilitating filtering using character search terms.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># examine variable types</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">unlist</span>(<span class="kw">lapply</span>(cip, <span class="dt">FUN =</span> class))</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt;        cip2    cip2name        cip4    cip4name        cip6    cip6name </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; &quot;character&quot; &quot;character&quot; &quot;character&quot; &quot;character&quot; &quot;character&quot; &quot;character&quot;</span></span></code></pre></div>
<p><code>filter_by_text()</code> filters a data frame using character search terms. The arguments are:</p>
<ul>
<li><code>data</code> data frame to be subsetted</li>
<li><code>keep_text</code> character vector of search patterns for retaining rows, not case-sensitive</li>
<li><code>drop_text</code> (optional) character vector of search patterns for dropping rows</li>
</ul>
<p>For example, filtering the CIP data for all programs containing the word “engineering” yields 121 observations.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># filter basics</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;engineering&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># examine the result</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>sub_cip</span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt;      cip2                                         cip2name cip4</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt;   1:   14                                      Engineering 1401</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt;   2:   14                                      Engineering 1401</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt;   3:   14                                      Engineering 1402</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt;   4:   14                                      Engineering 1403</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt;   5:   14                                      Engineering 1404</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt;   6:   14                                      Engineering 1405</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt;   7:   14                                      Engineering 1406</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt;   8:   14                                      Engineering 1407</span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co">#&gt;   9:   14                                      Engineering 1407</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co">#&gt;  10:   14                                      Engineering 1407</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#&gt;  ---                                                           </span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co">#&gt; 112:   15                           Engineering Technology 1514</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="co">#&gt; 113:   15                           Engineering Technology 1515</span></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">#&gt; 114:   15                           Engineering Technology 1515</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="co">#&gt; 115:   15                           Engineering Technology 1515</span></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="co">#&gt; 116:   15                           Engineering Technology 1515</span></span>
<span id="cb7-23"><a href="#cb7-23"></a><span class="co">#&gt; 117:   15                           Engineering Technology 1516</span></span>
<span id="cb7-24"><a href="#cb7-24"></a><span class="co">#&gt; 118:   15                           Engineering Technology 1599</span></span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="co">#&gt; 119:   29                            Military Technologies 2903</span></span>
<span id="cb7-26"><a href="#cb7-26"></a><span class="co">#&gt; 120:   29                            Military Technologies 2903</span></span>
<span id="cb7-27"><a href="#cb7-27"></a><span class="co">#&gt; 121:   51 Health Professions and Related Clinical Sciences 5123</span></span>
<span id="cb7-28"><a href="#cb7-28"></a><span class="co">#&gt;                                                     cip4name   cip6</span></span>
<span id="cb7-29"><a href="#cb7-29"></a><span class="co">#&gt;   1:                                    Engineering, General 140101</span></span>
<span id="cb7-30"><a href="#cb7-30"></a><span class="co">#&gt;   2:                                    Engineering, General 140102</span></span>
<span id="cb7-31"><a href="#cb7-31"></a><span class="co">#&gt;   3:   Aerospace, Aeronautical and Astronautical Engineering 140201</span></span>
<span id="cb7-32"><a href="#cb7-32"></a><span class="co">#&gt;   4: Agricultural, Biological Engineering and Bioengineering 140301</span></span>
<span id="cb7-33"><a href="#cb7-33"></a><span class="co">#&gt;   5:                               Architectural Engineering 140401</span></span>
<span id="cb7-34"><a href="#cb7-34"></a><span class="co">#&gt;   6:                         Biomedical, Medical Engineering 140501</span></span>
<span id="cb7-35"><a href="#cb7-35"></a><span class="co">#&gt;   7:                        Ceramic Sciences and Engineering 140601</span></span>
<span id="cb7-36"><a href="#cb7-36"></a><span class="co">#&gt;   8:                                    Chemical Engineering 140701</span></span>
<span id="cb7-37"><a href="#cb7-37"></a><span class="co">#&gt;   9:                                    Chemical Engineering 140702</span></span>
<span id="cb7-38"><a href="#cb7-38"></a><span class="co">#&gt;  10:                                    Chemical Engineering 140799</span></span>
<span id="cb7-39"><a href="#cb7-39"></a><span class="co">#&gt;  ---                                                               </span></span>
<span id="cb7-40"><a href="#cb7-40"></a><span class="co">#&gt; 112:           Nuclear Engineering Technologies, Technicians 151401</span></span>
<span id="cb7-41"><a href="#cb7-41"></a><span class="co">#&gt; 113:                              Engineering-Related Fields 151501</span></span>
<span id="cb7-42"><a href="#cb7-42"></a><span class="co">#&gt; 114:                              Engineering-Related Fields 151502</span></span>
<span id="cb7-43"><a href="#cb7-43"></a><span class="co">#&gt; 115:                              Engineering-Related Fields 151503</span></span>
<span id="cb7-44"><a href="#cb7-44"></a><span class="co">#&gt; 116:                              Engineering-Related Fields 151599</span></span>
<span id="cb7-45"><a href="#cb7-45"></a><span class="co">#&gt; 117:                                          Nanotechnology 151601</span></span>
<span id="cb7-46"><a href="#cb7-46"></a><span class="co">#&gt; 118:    Engineering-Related Technologies, Technicians, Other 159999</span></span>
<span id="cb7-47"><a href="#cb7-47"></a><span class="co">#&gt; 119:                               Military Applied Sciences 290301</span></span>
<span id="cb7-48"><a href="#cb7-48"></a><span class="co">#&gt; 120:                               Military Applied Sciences 290303</span></span>
<span id="cb7-49"><a href="#cb7-49"></a><span class="co">#&gt; 121:              Rehabilitation and Therapeutic Professions 512312</span></span>
<span id="cb7-50"><a href="#cb7-50"></a><span class="co">#&gt;                                                              cip6name</span></span>
<span id="cb7-51"><a href="#cb7-51"></a><span class="co">#&gt;   1:                                             Engineering, General</span></span>
<span id="cb7-52"><a href="#cb7-52"></a><span class="co">#&gt;   2:                                                  Pre-Engineering</span></span>
<span id="cb7-53"><a href="#cb7-53"></a><span class="co">#&gt;   3:     Aerospace, Aeronautical and Astronautical, Space Engineering</span></span>
<span id="cb7-54"><a href="#cb7-54"></a><span class="co">#&gt;   4:          Agricultural, Biological Engineering and Bioengineering</span></span>
<span id="cb7-55"><a href="#cb7-55"></a><span class="co">#&gt;   5:                                        Architectural Engineering</span></span>
<span id="cb7-56"><a href="#cb7-56"></a><span class="co">#&gt;   6:                                  Biomedical, Medical Engineering</span></span>
<span id="cb7-57"><a href="#cb7-57"></a><span class="co">#&gt;   7:                                 Ceramic Sciences and Engineering</span></span>
<span id="cb7-58"><a href="#cb7-58"></a><span class="co">#&gt;   8:                                             Chemical Engineering</span></span>
<span id="cb7-59"><a href="#cb7-59"></a><span class="co">#&gt;   9:                            Chemical and Biomolecular Engineering</span></span>
<span id="cb7-60"><a href="#cb7-60"></a><span class="co">#&gt;  10:                                      Chemical Engineering, Other</span></span>
<span id="cb7-61"><a href="#cb7-61"></a><span class="co">#&gt;  ---                                                                 </span></span>
<span id="cb7-62"><a href="#cb7-62"></a><span class="co">#&gt; 112:                       Nuclear Engineering Technology, Technician</span></span>
<span id="cb7-63"><a href="#cb7-63"></a><span class="co">#&gt; 113:                                            Industrial Management</span></span>
<span id="cb7-64"><a href="#cb7-64"></a><span class="co">#&gt; 114:                                               Engineering Design</span></span>
<span id="cb7-65"><a href="#cb7-65"></a><span class="co">#&gt; 115:                                                Packaging Science</span></span>
<span id="cb7-66"><a href="#cb7-66"></a><span class="co">#&gt; 116:                                Engineering-Related Fields, Other</span></span>
<span id="cb7-67"><a href="#cb7-67"></a><span class="co">#&gt; 117:                                                   Nanotechnology</span></span>
<span id="cb7-68"><a href="#cb7-68"></a><span class="co">#&gt; 118:             Engineering Related Technologies, Technicians, Other</span></span>
<span id="cb7-69"><a href="#cb7-69"></a><span class="co">#&gt; 119:                                       Combat Systems Engineering</span></span>
<span id="cb7-70"><a href="#cb7-70"></a><span class="co">#&gt; 120:                                            Engineering Acoustics</span></span>
<span id="cb7-71"><a href="#cb7-71"></a><span class="co">#&gt; 121: Assistive, Augmentative Technology and Rehabiliation Engineering</span></span></code></pre></div>
<p>The first two argument names can be omitted if they are in the correct order. If the optional <code>drop_text</code> argument is used, it must be named,</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># only the drop_text argument must be named</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="st">&quot;civil engineering&quot;</span>, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># examine the result</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>sub_cip</span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt;    cip2    cip2name cip4          cip4name   cip6</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; 1:   14 Engineering 1408 Civil Engineering 140801</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; 2:   14 Engineering 1408 Civil Engineering 140802</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; 3:   14 Engineering 1408 Civil Engineering 140803</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; 4:   14 Engineering 1408 Civil Engineering 140804</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; 5:   14 Engineering 1408 Civil Engineering 140805</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt; 6:   14 Engineering 1408 Civil Engineering 140899</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt;                                  cip6name</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; 1:             Civil Engineering, General</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; 2:               Geotechnical Engineering</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt; 3:                 Structural Engineering</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; 4: Transportation and Highway Engineering</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; 5:            Water Resources Engineering</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt; 6:               Civil Engineering, Other</span></span></code></pre></div>
<p>To learn more, open the help page by running</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>? <span class="kw">filter_by_text</span>()</span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="filtering-examples" class="section level2">
<h2>Filtering examples</h2>
<div id="using-keywords-and-phrases" class="section level3">
<h3>1. Using keywords and phrases</h3>
<p>Suppose we want to find the CIP codes and names for all programs in Civil Engineering. The search is case-insensitive, so we start with the following code chunk.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># example 1 filter using keywords</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;civil&quot;</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co"># examine the result</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>sub_cip</span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">#&gt;     cip2                                            cip2name cip4</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co">#&gt;  1:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co">#&gt;  2:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co">#&gt;  3:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="co">#&gt;  4:   14                                         Engineering 1408</span></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co">#&gt;  5:   14                                         Engineering 1408</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">#&gt;  6:   14                                         Engineering 1408</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co">#&gt;  7:   14                                         Engineering 1408</span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="co">#&gt;  8:   14                                         Engineering 1408</span></span>
<span id="cb10-15"><a href="#cb10-15"></a><span class="co">#&gt;  9:   14                                         Engineering 1408</span></span>
<span id="cb10-16"><a href="#cb10-16"></a><span class="co">#&gt; 10:   15                              Engineering Technology 1502</span></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="co">#&gt; 11:   15                              Engineering Technology 1513</span></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="co">#&gt; 12:   30                     Muti, Interdisciplinary Studies 3022</span></span>
<span id="cb10-19"><a href="#cb10-19"></a><span class="co">#&gt;                                                                       cip4name</span></span>
<span id="cb10-20"><a href="#cb10-20"></a><span class="co">#&gt;  1:                                                               Area Studies</span></span>
<span id="cb10-21"><a href="#cb10-21"></a><span class="co">#&gt;  2:                                                               Area Studies</span></span>
<span id="cb10-22"><a href="#cb10-22"></a><span class="co">#&gt;  3:                                                               Area Studies</span></span>
<span id="cb10-23"><a href="#cb10-23"></a><span class="co">#&gt;  4:                                                          Civil Engineering</span></span>
<span id="cb10-24"><a href="#cb10-24"></a><span class="co">#&gt;  5:                                                          Civil Engineering</span></span>
<span id="cb10-25"><a href="#cb10-25"></a><span class="co">#&gt;  6:                                                          Civil Engineering</span></span>
<span id="cb10-26"><a href="#cb10-26"></a><span class="co">#&gt;  7:                                                          Civil Engineering</span></span>
<span id="cb10-27"><a href="#cb10-27"></a><span class="co">#&gt;  8:                                                          Civil Engineering</span></span>
<span id="cb10-28"><a href="#cb10-28"></a><span class="co">#&gt;  9:                                                          Civil Engineering</span></span>
<span id="cb10-29"><a href="#cb10-29"></a><span class="co">#&gt; 10:                                Civil Engineering Technologies, Technicians</span></span>
<span id="cb10-30"><a href="#cb10-30"></a><span class="co">#&gt; 11:                     Drafting, Design Engineering Technologies, Technicians</span></span>
<span id="cb10-31"><a href="#cb10-31"></a><span class="co">#&gt; 12: Classical and Ancient, Oriental Studies - Multi, Interdisciplinary Studies</span></span>
<span id="cb10-32"><a href="#cb10-32"></a><span class="co">#&gt;       cip6                                                         cip6name</span></span>
<span id="cb10-33"><a href="#cb10-33"></a><span class="co">#&gt;  1: 050102                    American, United States Studies, Civilization</span></span>
<span id="cb10-34"><a href="#cb10-34"></a><span class="co">#&gt;  2: 050103                                      Asian Studies, Civilization</span></span>
<span id="cb10-35"><a href="#cb10-35"></a><span class="co">#&gt;  3: 050106                                   European Studies, Civilization</span></span>
<span id="cb10-36"><a href="#cb10-36"></a><span class="co">#&gt;  4: 140801                                       Civil Engineering, General</span></span>
<span id="cb10-37"><a href="#cb10-37"></a><span class="co">#&gt;  5: 140802                                         Geotechnical Engineering</span></span>
<span id="cb10-38"><a href="#cb10-38"></a><span class="co">#&gt;  6: 140803                                           Structural Engineering</span></span>
<span id="cb10-39"><a href="#cb10-39"></a><span class="co">#&gt;  7: 140804                           Transportation and Highway Engineering</span></span>
<span id="cb10-40"><a href="#cb10-40"></a><span class="co">#&gt;  8: 140805                                      Water Resources Engineering</span></span>
<span id="cb10-41"><a href="#cb10-41"></a><span class="co">#&gt;  9: 140899                                         Civil Engineering, Other</span></span>
<span id="cb10-42"><a href="#cb10-42"></a><span class="co">#&gt; 10: 150201                         Civil Engineering Technology, Technician</span></span>
<span id="cb10-43"><a href="#cb10-43"></a><span class="co">#&gt; 11: 151304                   Civil Drafting and Civil Engineering CAD, CADD</span></span>
<span id="cb10-44"><a href="#cb10-44"></a><span class="co">#&gt; 12: 302201 Multi, Interdisciplinary Studies - Ancient Studies, Civilization</span></span></code></pre></div>
<p>The same information is tabulated below to help you see the structure. In the examples that follow, we show a table like this one instead of the R output.</p>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050102
</td>
<td style="text-align:left;">
American, United States Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050103
</td>
<td style="text-align:left;">
Asian Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050106
</td>
<td style="text-align:left;">
European Studies, Civilization
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
Engineering Technology
</td>
<td style="text-align:left;">
1502
</td>
<td style="text-align:left;">
Civil Engineering Technologies, Technicians
</td>
<td style="text-align:left;">
150201
</td>
<td style="text-align:left;">
Civil Engineering Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
Engineering Technology
</td>
<td style="text-align:left;">
1513
</td>
<td style="text-align:left;">
Drafting, Design Engineering Technologies, Technicians
</td>
<td style="text-align:left;">
151304
</td>
<td style="text-align:left;">
Civil Drafting and Civil Engineering CAD, CADD
</td>
</tr>
<tr>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
Muti, Interdisciplinary Studies
</td>
<td style="text-align:left;">
3022
</td>
<td style="text-align:left;">
Classical and Ancient, Oriental Studies - Multi, Interdisciplinary Studies
</td>
<td style="text-align:left;">
302201
</td>
<td style="text-align:left;">
Multi, Interdisciplinary Studies - Ancient Studies, Civilization
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The search returns some programs with Civilization in their names as well as Engineering Technology. If we wanted Civil Engineering only, we can use a sequence of function calls, where the outcome of the one operation is assigned to the first argument of the next operation via the pipe <code>%&gt;%</code> operator.</p>
<p>The following code chunk could be read as, “Start with the <code>cip</code> data frame, then keep any rows in which ‘civil’ is detected, then keep any rows in which ‘engineering’ is detected, then drop any rows in which ‘technology’ is detected.”</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># first pass</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;civil&quot;</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co"># refine the search</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(sub_cip, <span class="dt">keep_text =</span> <span class="st">&quot;engineering&quot;</span>)</span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co"># refine further</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(sub_cip, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Seeing that all Civil Engineering programs have the same <code>cip4name</code>, we could combine our search terms in one argument set,</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;civil engineering&quot;</span>, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="using-numerical-codes" class="section level3">
<h3>2. Using numerical codes</h3>
<p>Suppose we want to study programs relating to German culture, language, and literature. Using “german” for the <code>keep_text</code> value yields</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># example 2 filter using numerical codes</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;german&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050125
</td>
<td style="text-align:left;">
German Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
13
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
1313
</td>
<td style="text-align:left;">
Teacher Education and Professional Development, Specific Subject Areas
</td>
<td style="text-align:left;">
131326
</td>
<td style="text-align:left;">
German Language Teacher Education
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160500
</td>
<td style="text-align:left;">
Germanic Languages, Literatures and Linguistics, General
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160501
</td>
<td style="text-align:left;">
German Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160502
</td>
<td style="text-align:left;">
Scandinavian Languages, Literatures and Linguistics
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160503
</td>
<td style="text-align:left;">
Danish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160504
</td>
<td style="text-align:left;">
Dutch, Flemish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160505
</td>
<td style="text-align:left;">
Norwegian Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160506
</td>
<td style="text-align:left;">
Swedish Language and Literature
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160599
</td>
<td style="text-align:left;">
Germanic Languages, Literatures and Linguistics, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>From the 6-digit program names we find only two that are of interest, German Studies (050125) and German Language and Literature (160501). We use a character vector to assign these two codes to the <code>keep_text</code> argument.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;050125&quot;</span>, <span class="st">&quot;160501&quot;</span>))</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Area, Ethnic, Cultural and Gender and Group Studies
</td>
<td style="text-align:left;">
0501
</td>
<td style="text-align:left;">
Area Studies
</td>
<td style="text-align:left;">
050125
</td>
<td style="text-align:left;">
German Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Foreign Languages, Literatures and Linguistics
</td>
<td style="text-align:left;">
1605
</td>
<td style="text-align:left;">
Germanic Languages, Literatures Linguistics
</td>
<td style="text-align:left;">
160501
</td>
<td style="text-align:left;">
German Language and Literature
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>If the 6-digit codes are entered as integers, they produce an error.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="dv">050125</span>, <span class="dv">160501</span>))</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt; Error: `keep_text` must be of class character</span></span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="using-regular-expressions" class="section level3">
<h3>3. Using regular expressions</h3>
<p>Specifying 4-digit codes yields a data frame all 6-digit programs containing the 4-digit string. We use the regular expression notation <code>^</code> to match the start of the strings.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># example 3 filter using regular expressions</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;^1407&quot;</span>, <span class="st">&quot;^1408&quot;</span>))</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1407
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
<td style="text-align:left;">
140701
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1407
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
<td style="text-align:left;">
140702
</td>
<td style="text-align:left;">
Chemical and Biomolecular Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1407
</td>
<td style="text-align:left;">
Chemical Engineering
</td>
<td style="text-align:left;">
140799
</td>
<td style="text-align:left;">
Chemical Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The 2-digit series represent the most general groupings of related programs. Here, the result includes all History programs.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># 2-digit example</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;^54&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540101
</td>
<td style="text-align:left;">
History, General
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540102
</td>
<td style="text-align:left;">
American History (United States)
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540103
</td>
<td style="text-align:left;">
European History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540104
</td>
<td style="text-align:left;">
History and Philosophy of Science and Technology
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540105
</td>
<td style="text-align:left;">
Public, Applied History and Archival Administration
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540106
</td>
<td style="text-align:left;">
Asian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540107
</td>
<td style="text-align:left;">
Canadian History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540108
</td>
<td style="text-align:left;">
Military History
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
5401
</td>
<td style="text-align:left;">
History
</td>
<td style="text-align:left;">
540199
</td>
<td style="text-align:left;">
History, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The series argument can include any combination of 2, 4, and 6-digit codes.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># a series with 2, 4, and 6-digits specified</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;^24&quot;</span>, <span class="st">&quot;^4102&quot;</span>, <span class="st">&quot;^450202&quot;</span>))</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240101
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, Liberal Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240102
</td>
<td style="text-align:left;">
General Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240103
</td>
<td style="text-align:left;">
Humanities, Humanistic Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities
</td>
<td style="text-align:left;">
2401
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies Humanities
</td>
<td style="text-align:left;">
240199
</td>
<td style="text-align:left;">
Liberal Arts and Sciences, General Studies and Humanities, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410204
</td>
<td style="text-align:left;">
Industrial Radiologic Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410205
</td>
<td style="text-align:left;">
Nuclear, Nuclear Power Technology, Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
Science Technologies, Technicians
</td>
<td style="text-align:left;">
4102
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians
</td>
<td style="text-align:left;">
410299
</td>
<td style="text-align:left;">
Nuclear and Industrial Radiologic Technologies, Technicians, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
45
</td>
<td style="text-align:left;">
Social Sciences
</td>
<td style="text-align:left;">
4502
</td>
<td style="text-align:left;">
Anthropology
</td>
<td style="text-align:left;">
450202
</td>
<td style="text-align:left;">
Physical Anthropology
</td>
</tr>
</tbody>
</table>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="search-terms-that-cannot-be-found" class="section level3">
<h3>4. Search terms that cannot be found</h3>
<p>If the <code>keep_text</code> argument includes terms that cannot be found in the CIP data frame, the unsuccessful terms are identified in a message and the successful terms produce the usual output.</p>
<p>For example, the following <code>keep_text</code> argument includes three search terms that are not present in the CIP data (“111111”, “^55”, and “Bogus”) and two that are (“050125” and “160501”).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># unsuccessful terms produce a message</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;050125&quot;</span>, <span class="st">&quot;111111&quot;</span>, <span class="st">&quot;160501&quot;</span>, <span class="st">&quot;Bogus&quot;</span>, <span class="st">&quot;^55&quot;</span>))</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co">#&gt; Can&#39;t find these terms: 111111, Bogus, ^55</span></span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="co"># but the successful terms are returned</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>sub_cip</span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="co">#&gt;    cip2                                            cip2name cip4</span></span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="co">#&gt; 1:   05 Area, Ethnic, Cultural and Gender and Group Studies 0501</span></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="co">#&gt; 2:   16      Foreign Languages, Literatures and Linguistics 1605</span></span>
<span id="cb19-10"><a href="#cb19-10"></a><span class="co">#&gt;                                       cip4name   cip6</span></span>
<span id="cb19-11"><a href="#cb19-11"></a><span class="co">#&gt; 1:                                Area Studies 050125</span></span>
<span id="cb19-12"><a href="#cb19-12"></a><span class="co">#&gt; 2: Germanic Languages, Literatures Linguistics 160501</span></span>
<span id="cb19-13"><a href="#cb19-13"></a><span class="co">#&gt;                          cip6name</span></span>
<span id="cb19-14"><a href="#cb19-14"></a><span class="co">#&gt; 1:                 German Studies</span></span>
<span id="cb19-15"><a href="#cb19-15"></a><span class="co">#&gt; 2: German Language and Literature</span></span></code></pre></div>
<p>However, as seen earlier, if none of the search terms are found, an error occurs.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;111111&quot;</span>, <span class="st">&quot;Bogus&quot;</span>, <span class="st">&quot;^55&quot;</span>))</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="co">#&gt; Error: No CIPs satisfy the search criteria</span></span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="other-optional-arguments" class="section level3">
<h3>5. Other optional arguments</h3>
<p><code>filter_by_text()</code> has two additional optional arguments.</p>
<ul>
<li><code>keep_col</code></li>
<li><code>unique_row</code></li>
</ul>
<p>As seen in the previous examples, the default setting for <code>keep_col</code> returns all columns. We can select columns by name,</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># selecting columns </span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">filter_by_text</span>(cip, </span>
<span id="cb21-3"><a href="#cb21-3"></a>               <span class="dt">keep_text =</span> <span class="st">&quot;^54&quot;</span>, </span>
<span id="cb21-4"><a href="#cb21-4"></a>               <span class="dt">keep_col =</span> <span class="kw">c</span>(<span class="st">&quot;cip4&quot;</span>, <span class="st">&quot;cip4name&quot;</span>))</span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="co">#&gt;    cip4 cip4name</span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="co">#&gt; 1: 5401  History</span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="co">#&gt; 2: 5401  History</span></span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="co">#&gt; 3: 5401  History</span></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="co">#&gt; 4: 5401  History</span></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="co">#&gt; 5: 5401  History</span></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="co">#&gt; 6: 5401  History</span></span>
<span id="cb21-12"><a href="#cb21-12"></a><span class="co">#&gt; 7: 5401  History</span></span>
<span id="cb21-13"><a href="#cb21-13"></a><span class="co">#&gt; 8: 5401  History</span></span>
<span id="cb21-14"><a href="#cb21-14"></a><span class="co">#&gt; 9: 5401  History</span></span></code></pre></div>
<p>The default setting for <code>unique_row</code> returns all rows. Setting the argument to TRUE removes duplicate rows after subsetting is complete.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># remove duplicate rows </span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="kw">filter_by_text</span>(cip, </span>
<span id="cb22-3"><a href="#cb22-3"></a>               <span class="dt">keep_text =</span> <span class="st">&quot;^54&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4"></a>               <span class="dt">keep_col =</span> <span class="kw">c</span>(<span class="st">&quot;cip4&quot;</span>, <span class="st">&quot;cip4name&quot;</span>), </span>
<span id="cb22-5"><a href="#cb22-5"></a>               <span class="dt">unique_row =</span> <span class="ot">TRUE</span>)</span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="co">#&gt;    cip4 cip4name</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co">#&gt; 1: 5401  History</span></span></code></pre></div>
</div>
</div>
<div id="case-study" class="section level2">
<h2>Case study</h2>
<p>In the midfieldr vignettes, we use a case study of four programs (Civil, Electrical, Industrial, and Mechanical Engineering) to illustrate our process of computing persistence metrics.</p>
<p>The case study begins here, by extracting CIP data for the four engineering programs.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># explore the CIP</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;engineering&quot;</span>, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span>
<span id="cb23-3"><a href="#cb23-3"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(sub_cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;civil&quot;</span>, <span class="st">&quot;electrical&quot;</span>, <span class="st">&quot;industrial&quot;</span>, <span class="st">&quot;mechanical&quot;</span>))</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141001
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141003
</td>
<td style="text-align:left;">
Laser and Optical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141004
</td>
<td style="text-align:left;">
Telecommunications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141099
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1419
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
141901
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1435
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
143501
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1441
</td>
<td style="text-align:left;">
Electromechanical Engineering
</td>
<td style="text-align:left;">
144101
</td>
<td style="text-align:left;">
Electromechanical Engineering
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The results show that the codes we want are at the 4-digit level: 1408, 1410, 1419, and 1435.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># select the case study CIPs</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>case_study_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;^1408&quot;</span>, <span class="st">&quot;^1410&quot;</span>, <span class="st">&quot;^1419&quot;</span>, <span class="st">&quot;^1435&quot;</span>))</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip2
</th>
<th style="text-align:left;">
cip2name
</th>
<th style="text-align:left;">
cip4
</th>
<th style="text-align:left;">
cip4name
</th>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140801
</td>
<td style="text-align:left;">
Civil Engineering, General
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140802
</td>
<td style="text-align:left;">
Geotechnical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140803
</td>
<td style="text-align:left;">
Structural Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140804
</td>
<td style="text-align:left;">
Transportation and Highway Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140805
</td>
<td style="text-align:left;">
Water Resources Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1408
</td>
<td style="text-align:left;">
Civil Engineering
</td>
<td style="text-align:left;">
140899
</td>
<td style="text-align:left;">
Civil Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141001
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141003
</td>
<td style="text-align:left;">
Laser and Optical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141004
</td>
<td style="text-align:left;">
Telecommunications Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1410
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering
</td>
<td style="text-align:left;">
141099
</td>
<td style="text-align:left;">
Electrical, Electronics and Communications Engineering, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1419
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
<td style="text-align:left;">
141901
</td>
<td style="text-align:left;">
Mechanical Engineering
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
Engineering
</td>
<td style="text-align:left;">
1435
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
<td style="text-align:left;">
143501
</td>
<td style="text-align:left;">
Industrial Engineering
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The data frame <code>case_study_cip</code> concludes this stage of the case study and, in turn, is the input to the next stage. Similar intermediate results conclude every stage of the case study. In each instance, such results are named with the prefix <code>rep_</code> (indicating they are associated with the “representative” case study) and are included as data sets in midfieldr.</p>
<p>The CIP data frame derived above is the data set <code>rep_cip</code> in midfieldr. View its help page by running</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>? rep_cip</span></code></pre></div>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<div id="refs">
<div id="ref-NCES:2010">
<p>NCES (2010) IPEDS Classification of Instructional Programs (CIP). <a href="https://nces.ed.gov/ipeds/cipcode/">https://nces.ed.gov/ipeds/cipcode/</a></p>
</div>
</div>
</div>
<div id="appendix" class="section level2">
<h2>Appendix</h2>
<div id="complete-script" class="section level3">
<h3>Complete script</h3>
<p>The vignette code chunks are collected below in a single, condensed script.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># packages used</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="kw">library</span>(midfieldr)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="kw">library</span>(data.table)</span>
<span id="cb26-4"><a href="#cb26-4"></a></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="co"># examine variable types</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="kw">str</span>(cip)</span>
<span id="cb26-7"><a href="#cb26-7"></a></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="co"># filter basics</span></span>
<span id="cb26-9"><a href="#cb26-9"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;engineering&quot;</span>)</span>
<span id="cb26-10"><a href="#cb26-10"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="st">&quot;civil engineering&quot;</span>, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span>
<span id="cb26-11"><a href="#cb26-11"></a></span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="co"># example 1 filter using keywords</span></span>
<span id="cb26-13"><a href="#cb26-13"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;civil&quot;</span>)</span>
<span id="cb26-14"><a href="#cb26-14"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(sub_cip, <span class="dt">keep_text =</span> <span class="st">&quot;engineering&quot;</span>)</span>
<span id="cb26-15"><a href="#cb26-15"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(sub_cip, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span>
<span id="cb26-16"><a href="#cb26-16"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;civil engineering&quot;</span>, <span class="dt">drop_text =</span> <span class="st">&quot;technology&quot;</span>)</span>
<span id="cb26-17"><a href="#cb26-17"></a></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="co"># example 2 filter using numerical codes</span></span>
<span id="cb26-19"><a href="#cb26-19"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;german&quot;</span>)</span>
<span id="cb26-20"><a href="#cb26-20"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;050125&quot;</span>, <span class="st">&quot;160501&quot;</span>))</span>
<span id="cb26-21"><a href="#cb26-21"></a></span>
<span id="cb26-22"><a href="#cb26-22"></a><span class="co"># example 3 filter using regular expressions</span></span>
<span id="cb26-23"><a href="#cb26-23"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;^1407&quot;</span>, <span class="st">&quot;^1408&quot;</span>))</span>
<span id="cb26-24"><a href="#cb26-24"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="st">&quot;^54&quot;</span>)</span>
<span id="cb26-25"><a href="#cb26-25"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;^24&quot;</span>, <span class="st">&quot;^4102&quot;</span>, <span class="st">&quot;^450202&quot;</span>))</span>
<span id="cb26-26"><a href="#cb26-26"></a></span>
<span id="cb26-27"><a href="#cb26-27"></a><span class="co"># example 4 search terms that cannot be found</span></span>
<span id="cb26-28"><a href="#cb26-28"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;050125&quot;</span>, <span class="st">&quot;111111&quot;</span>, <span class="st">&quot;160501&quot;</span>, <span class="st">&quot;Bogus&quot;</span>, <span class="st">&quot;^55&quot;</span>))</span>
<span id="cb26-29"><a href="#cb26-29"></a></span>
<span id="cb26-30"><a href="#cb26-30"></a><span class="co"># case study data set</span></span>
<span id="cb26-31"><a href="#cb26-31"></a><span class="kw">filter_by_text</span>(cip, <span class="dt">keep_text =</span> <span class="kw">c</span>(<span class="st">&quot;^1408&quot;</span>, <span class="st">&quot;^1410&quot;</span>, <span class="st">&quot;^1419&quot;</span>, <span class="st">&quot;^1435&quot;</span>))</span>
<span id="cb26-32"><a href="#cb26-32"></a><span class="kw">print</span>(rep_cip)</span></code></pre></div>
<p><br> <a href="#top">▲ top of page </a><br />
<a href="../index.html">◁ main page </a></p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
