---
title: "Planning"
date: "`r Sys.Date()`"
link-citations: yes
bibliography: ../inst/REFERENCES.bib
output: rmarkdown::html_vignette
csl: ../inst/information-science-and-technology.csl
vignette: >
  %\VignetteIndexEntry{Planning}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
nocite: |
resource_files: |
---

```{r setup}
#| include: false

# code chunks
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  collapse = FALSE,
  comment = "#>",
  error = FALSE
)

# figures
knitr::opts_chunk$set(
  fig.path = "../man/figures/art-010-planning-",
  fig.width = 6,
  fig.asp = 1 / 1.6,
  out.width = "70%",
  fig.align = "center"
)

# inline numbers
knitr::knit_hooks$set(inline = function(x) {
  if (!is.numeric(x)) {
    x
  } else if (x >= 10000) {
    prettyNum(round(x, 2), big.mark = ",")
  } else {
    prettyNum(round(x, 2))
  }
})

# accented text
accent <- function(text_string) {
  kableExtra::text_spec(text_string, color = "#b35806", bold = TRUE)
}
```

Analysis of MIDFIELD data begins by identifying the groups of students, programs, and metrics with which we intend to work. 




## Workflow

Working with MIDFIELD data is iterative---intermediate results often cause us to revisit an earlier assumption or select a different bloc or student attributes to work with. Nevertheless, a completed analysis usually comprises the following steps in roughly the sequence given below. Accented entries indicate topics in the open vignette. 

1. `r accent("Planning")`  
    - `r accent("Records")`  
    - `r accent("Programs")`  
    - `r accent("Metrics, blocs, and groupings")`  
1. Initial processing 
    - Data sufficiency 
    - Degree seeking  
    - Identify programs  
1. Blocs
    - Ever-enrolled  
    - FYE proxies  
    - Starters  
    - Graduates  
1. Groupings    
    - Program labels  
    - Demographics    
    - Other variables 
1. Metrics  
    - Graduation rate  
    - Stickiness  
1. Displays 
    - Multiway charts  
    - Tables  



## Definitions

student-level data

: Data at the "student-level" refers to information about individual students including, for example, demographics, programs, academic standing, courses, grades, and degrees. Also called Student Unit Records (SURs). In MIDFIELD, student-level data are compiled by an institution and anonymized and curated by the MIDFIELD data steward. 

program

: US academic field of study. Can be used to indicate a specialty within a field or a collection of fields within a Department, College, or University. Programs are denoted by the *Classification of Instructional Programs* (CIP), a taxonomy of academic programs curated by the US Department of Education [@NCES:2010].

metric

: A quantitative measure derived from SURs. Includes statistical measures such as counts of program starters or graduates as well as comparative ratios such as graduation rate or stickiness. Typically involves comparisons of specific  blocs of students and programs. 

bloc

: A grouping of SURs dealt with as a unit, for example, starters, students ever-enrolled, graduates, transfer students, traditional and non-traditional students, migrators, etc. 

grouping variables

: Student-level, detailed data in the SURs that further characterize a bloc of records, typically used to create bloc subsets for comparison, for example, program, race/ethnicity, sex, age, grade level, grades, etc. 





## Which records?

There are currently two collections of MIDFIELD data: 

- *Research data:* Complete institutional registrar's data, all students, all programs, for approximately 1.7 M undergraduates at 19 US institutions from 1987--2018. Available to [MIDFIELD](https://midfield.online/) partners. 

- *Practice data:* Approximately 98,000 undergraduates in 200 majors at 12 US institutions from 1987--2016. A proportionate stratified sample of the MIDFIELD research data. Publicly available in the [midfielddata](https://midfieldr.github.io/midfielddata/) R data package. 

Records in both collections are organized in four tables---student, course, term, and degree---keyed by student ID.  Details in [Getting started](art-000-getting-started.html). 

To maintain confidentiality, the practice data include fewer variables than the research data, but the variable names and values are generally a subset of those in the research data. Thus a researcher transitioning from working with the practice data to the research data will find that their practice scripts will work with the research data with only minor modifications (if any). 

*Caveat.*  &nbsp; The data in ‘midfielddata’ are practice data, suitable for learning to work with Student Unit Records (SURs) generally. Unlike the MIDFIELD research database, the data tables in ‘midfielddata’ are not research data; they are not suitable for drawing inferences about program attributes or student experiences.

 



### Load data 

*Practice data.* &nbsp; Loaded from the midfielddata package using `data()`, e.g., 

```{r}
#| eval: false

# Load practice data
data(student, course, term, degree, package = "midfielddata")
```

*Research data.* &nbsp; Assuming one has access, import data via the user's preferred file read function, e.g., 

```{r}
#| eval: false

# Not run
student <- fread("path_to_student_data")
course <- fread("path_to_course_data")
term <- fread("path_to_term_data")
degree <- fread("path_to_degree_data")
```






## Which programs? 

Identify programs in *general* terms, for example, 

- All Engineering  
- Engineering, Business, Social Sciences, and Arts and Humanities  
- Electrical Engineering and Computer Engineering  

As shown in [Programs](art-040-programs.html#filter_cip), we use `filter_cip()` acting on the `cip` data set to determine the set of CIP codes relevant to a study. 

A majority of our vignette examples involve engineering programs. However, 

> *MIDFIELD research is not limited to Engineering*. 
> 
> *MIDFIELD research data contain SURs of all undergraduates in all programs at their institution over the time span given.* 

The practice data, as a sample of the research data, have similar attributes.








## Which metrics, blocs, and groupings?

Before the data processing starts, we have to decide the metrics we want to compare among which blocs of students grouped by what variables. Metrics can include bloc counts or comparative ratios, for example:

- [Blocs](art-050-blocs.html), e.g., counts of [starters](art-070-starters.html), [graduates](art-080-graduates.html), migrators, etc. 
- Four-year persistence 
- Six-year [graduation rate](art-100-grad-rate.html)  
- Six-year stickiness  

The metric determines the blocs to gather, for example:

- [Graduation rate](art-100-grad-rate.html) requires a bloc of starters and the subset who graduate in their starting program. 
- Stickiness requires the bloc [ever enrolled](art-050-blocs.html#ever-enrolled) in a program and the subset who graduate in that program. 

The research study design determines the grouping variables, for example,  

- [Completion status](art-080-graduates.html#add_completion_status) is a critical variable whenever graduation (program completion) is involved.  
- [Programs](art-090-groupings.html#program-labels), [race/ethnicity and sex](art-090-groupings.html#demographics) are important grouping variables in many studies. 
- Other student-level variables such as institution, GPA, grade level, etc., can also be used for grouping and summarizing.  






## References

<div id="refs"></div>


```{r}
#| echo: false

# to change the CSS file
# per https://github.com/rstudio/rmarkdown/issues/732
knitr::opts_chunk$set(echo = FALSE)
```

```{css}
blockquote {
    padding:     10px 20px;
    margin:      0 0 20px;
    border-left: 0px
}
caption {
    color:       #525252;
    text-align:  left;
    font-weight: normal;
    font-size:   medium;
    line-height: 1.5;
}
```
