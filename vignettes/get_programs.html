<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Gather programs</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>
<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Gather programs</h1>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The case study programs are Civil, Electrical, Industrial, and Mechanical Engineering. The CIP subset for these programs is a built-in dataset <code>exa_cip</code>. We show how these data were obtained in the <a href="explore_cip.html">vignette (“Explore program CIP codes”)</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># load packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(<span class="st">&quot;midfieldr&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># view the example CIP</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>exa_cip</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt;    cip2    cip2name cip4                                               cip4name</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; 1    14 Engineering 1408                                      Civil Engineering</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; 2    14 Engineering 1408                                      Civil Engineering</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; 3    14 Engineering 1408                                      Civil Engineering</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; 4    14 Engineering 1408                                      Civil Engineering</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#&gt; 5    14 Engineering 1408                                      Civil Engineering</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt; 6    14 Engineering 1408                                      Civil Engineering</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">#&gt; 7    14 Engineering 1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#&gt; 8    14 Engineering 1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">#&gt; 9    14 Engineering 1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">#&gt; 10   14 Engineering 1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">#&gt; 11   14 Engineering 1419                                 Mechanical Engineering</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">#&gt; 12   14 Engineering 1435                                 Industrial Engineering</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">#&gt;      cip6                                                      cip6name</span></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="co">#&gt; 1  140801                                    Civil Engineering, General</span></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="co">#&gt; 2  140802                                      Geotechnical Engineering</span></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="co">#&gt; 3  140803                                        Structural Engineering</span></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="co">#&gt; 4  140804                        Transportation and Highway Engineering</span></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="co">#&gt; 5  140805                                   Water Resources Engineering</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">#&gt; 6  140899                                      Civil Engineering, Other</span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co">#&gt; 7  141001        Electrical, Electronics and Communications Engineering</span></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co">#&gt; 8  141003                                 Laser and Optical Engineering</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="co">#&gt; 9  141004                                Telecommunications Engineering</span></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="co">#&gt; 10 141099 Electrical, Electronics and Communications Engineering, Other</span></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co">#&gt; 11 141901                                        Mechanical Engineering</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="co">#&gt; 12 143501                                        Industrial Engineering</span></span></code></pre></div>
<p>Next, we use <code>label_programs()</code> to extract 6-digit codes (and names) and to label groups of programs to suit our purposes. The result is used to filter the student-record data sets (students, courses, terms, or degrees) for the analysis at hand.</p>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="extract-and-label-programs" class="section level2">
<h2>Extract and label programs</h2>
<p>In the example data, the program names at the 4-digit level are those associated with accredited engineering departments. To see the names in full,</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># case study CIP subset</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>columns_we_want &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;cip4&quot;</span>, <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>exa_cip4 &lt;-<span class="st"> </span>exa_cip[, columns_we_want, drop =<span class="st"> </span><span class="ot">FALSE</span>]</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># examine the result</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>exa_cip4</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt;    cip4                                               cip4name</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt; 1  1408                                      Civil Engineering</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#&gt; 2  1408                                      Civil Engineering</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt; 3  1408                                      Civil Engineering</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">#&gt; 4  1408                                      Civil Engineering</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="co">#&gt; 5  1408                                      Civil Engineering</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">#&gt; 6  1408                                      Civil Engineering</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">#&gt; 7  1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="co">#&gt; 8  1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co">#&gt; 9  1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co">#&gt; 10 1410 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">#&gt; 11 1419                                 Mechanical Engineering</span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="co">#&gt; 12 1435                                 Industrial Engineering</span></span></code></pre></div>
<p>Three of these names (Civil, Industrial, and Mechanical) are concise enough for small-multiple or faceted graphs. The Electrical program name is inconveniently long.</p>
<p>Two approaches to editing the program labels are shown below.</p>
<div id="work-with-one-program-one-at-a-time" class="section level3">
<h3>1. Work with one program one at a time</h3>
<p>We separate <code>exa_cip</code> into four data frames, one for each program.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># work with programs one at a time and bind</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co"># get civil engineering</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>cve_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1408&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a>cve_cip</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt;   cip2    cip2name cip4          cip4name   cip6</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; 1   14 Engineering 1408 Civil Engineering 140801</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; 2   14 Engineering 1408 Civil Engineering 140802</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt; 3   14 Engineering 1408 Civil Engineering 140803</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; 4   14 Engineering 1408 Civil Engineering 140804</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt; 5   14 Engineering 1408 Civil Engineering 140805</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt; 6   14 Engineering 1408 Civil Engineering 140899</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt;                                 cip6name</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; 1             Civil Engineering, General</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt; 2               Geotechnical Engineering</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt; 3                 Structural Engineering</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co">#&gt; 4 Transportation and Highway Engineering</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">#&gt; 5            Water Resources Engineering</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">#&gt; 6               Civil Engineering, Other</span></span></code></pre></div>
<p>We operate on the result with <code>label_programs()</code> to extract its 6-digit columns. The <code>label</code> argument creates the label in a new column called <code>program</code>, used later for grouping, summarizing, and joining.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># keep the 6-digit CIP and add a program label</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>cve &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> cve_cip, <span class="dt">label =</span> <span class="st">&quot;Civil Engineering&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>cve</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;     cip6                               cip6name           program</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; 1 140801             Civil Engineering, General Civil Engineering</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; 2 140802               Geotechnical Engineering Civil Engineering</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; 3 140803                 Structural Engineering Civil Engineering</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; 4 140804 Transportation and Highway Engineering Civil Engineering</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; 5 140805            Water Resources Engineering Civil Engineering</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt; 6 140899               Civil Engineering, Other Civil Engineering</span></span></code></pre></div>
<p>Repeat for electrical engineering.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># get electrical  engineering</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>ele_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1410&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a>ele &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> ele_cip, <span class="dt">label =</span> <span class="st">&quot;Electrical Engineering&quot;</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a>ele</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt;     cip6                                                      cip6name</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; 1 141001        Electrical, Electronics and Communications Engineering</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; 2 141003                                 Laser and Optical Engineering</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; 3 141004                                Telecommunications Engineering</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; 4 141099 Electrical, Electronics and Communications Engineering, Other</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt;                  program</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt; 1 Electrical Engineering</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt; 2 Electrical Engineering</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt; 3 Electrical Engineering</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt; 4 Electrical Engineering</span></span></code></pre></div>
<p>For industrial and mechanical engineering, we assign the default 4-digit CIP name using the option <code>label = &quot;cip4name&quot;</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># get mechanical  engineering</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>mce_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1419&quot;</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>mce &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> mce_cip, <span class="dt">label =</span> <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>mce</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt;     cip6               cip6name                program</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; 1 141901 Mechanical Engineering Mechanical Engineering</span></span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co"># get industrial engineering</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>ise_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1435&quot;</span>)</span>
<span id="cb6-10"><a href="#cb6-10"></a>ise &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> ise_cip, <span class="dt">label =</span> <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb6-11"><a href="#cb6-11"></a>ise</span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt;     cip6               cip6name                program</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt; 1 143501 Industrial Engineering Industrial Engineering</span></span></code></pre></div>
<p>We have 4 data frames that we combine row-wise. We can see that our custom program names are consistent with the default 6-digit CIP names, so we can dispense with the <code>cip6names</code> column.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># gather the programs in the study</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>program_group &lt;-<span class="st"> </span><span class="kw">rbind</span>(cve, ele, ise, mce)</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># delete the verbose column</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>program_group<span class="op">$</span>cip6name &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co"># examine the result</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>program_group</span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt;      cip6                program</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt; 1  140801      Civil Engineering</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt; 2  140802      Civil Engineering</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt; 3  140803      Civil Engineering</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt; 4  140804      Civil Engineering</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt; 5  140805      Civil Engineering</span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co">#&gt; 6  140899      Civil Engineering</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co">#&gt; 7  141001 Electrical Engineering</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#&gt; 8  141003 Electrical Engineering</span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co">#&gt; 9  141004 Electrical Engineering</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="co">#&gt; 10 141099 Electrical Engineering</span></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">#&gt; 11 143501 Industrial Engineering</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="co">#&gt; 12 141901 Mechanical Engineering</span></span></code></pre></div>
</div>
<div id="work-with-all-programs-in-one-data-frame" class="section level3">
<h3>2. Work with all programs in one data frame</h3>
<p>Alternatively, we can operate on one data frame throughout. We assign the 4-digit name as our preliminary program label.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># work with programs all in one data frame</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> exa_cip, <span class="dt">label =</span> <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># delete the verbose column</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>program_group<span class="op">$</span>cip6name &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co"># examine the result</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>program_group</span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt;      cip6                                                program</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; 1  140801                                      Civil Engineering</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; 2  140802                                      Civil Engineering</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt; 3  140803                                      Civil Engineering</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt; 4  140804                                      Civil Engineering</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; 5  140805                                      Civil Engineering</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; 6  140899                                      Civil Engineering</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt; 7  141001 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; 8  141003 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; 9  141004 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt; 10 141099 Electrical, Electronics and Communications Engineering</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">#&gt; 11 141901                                 Mechanical Engineering</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt; 12 143501                                 Industrial Engineering</span></span></code></pre></div>
<p>Then we edit the electrical programs only.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># identify the CIP rows that start with 1410</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>rows_to_edit &lt;-<span class="st"> </span><span class="kw">startsWith</span>(program_group<span class="op">$</span>cip6, <span class="st">&quot;1410&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># relabel the electrical programs</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>program_group<span class="op">$</span>program[rows_to_edit] &lt;-<span class="st"> &quot;Electrical Engineering&quot;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co"># examine the result</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>program_group</span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt;      cip6                program</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt; 1  140801      Civil Engineering</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt; 2  140802      Civil Engineering</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt; 3  140803      Civil Engineering</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt; 4  140804      Civil Engineering</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">#&gt; 5  140805      Civil Engineering</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="co">#&gt; 6  140899      Civil Engineering</span></span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="co">#&gt; 7  141001 Electrical Engineering</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co">#&gt; 8  141003 Electrical Engineering</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co">#&gt; 9  141004 Electrical Engineering</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="co">#&gt; 10 141099 Electrical Engineering</span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="co">#&gt; 11 141901 Mechanical Engineering</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="co">#&gt; 12 143501 Industrial Engineering</span></span></code></pre></div>
<p>For convenience, this group of programs is included in midfieldr as a built-in data set <code>exa_group</code>. View its help page by running</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>? exa_group</span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="options-for-the-program-argument" class="section level2">
<h2>Options for the program argument</h2>
<p>In this section, we explore three options for <code>program</code> argument in <code>label_programs()</code>.</p>
<div id="option-1.-assign-any-string" class="section level3">
<h3>Option 1. Assign any string</h3>
<p>When a string of our own choosing is assigned to <code>program</code>, then that string (with some exceptions) is the value assigned to every observation. In the previous example, we used this option for Electrical Engineering.</p>
<p>Here we use this option for CIP code 31 programs: Parks, Recreation, Leisure and Fitness Studies.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># assign an arbitrary program name</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> cip, <span class="dt">keep_any =</span> <span class="st">&quot;^31&quot;</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip, <span class="dt">label =</span> <span class="st">&quot;Leisure Studies&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Leisure Studies
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The exceptions to this option are the special <code>program</code> arguments “cip2name”, “cip4name”, and “cip6name”, described below.</p>
</div>
<div id="option-2.-default-cip-strings" class="section level3">
<h3>Option 2. Default CIP strings</h3>
<p>When the <code>program</code> argument is “cip2name”, “cip4name”, or “cip6name”, then the 2-, 4-, or 6-digit names from <code>cip</code> are assigned to the new column. In the previous example, we used this option for Industrial and Mechanical Engineering.</p>
<p>Using these options for CIP code 31 programs yields:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># assign the 2-digit level name</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip, <span class="dt">label =</span> <span class="st">&quot;cip2name&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies
</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># assign the 6-digit level name</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip, <span class="dt">label =</span> <span class="st">&quot;cip6name&quot;</span>)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Sports Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Outdoor Education
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
</tr>
</tbody>
</table>
</div>
<div id="option-3.-null-value" class="section level3">
<h3>Option 3. NULL value</h3>
<p>When <code>label_programs = NULL</code>, then the 4-digit CIP program name is used. This result is identical to <code>label_programs = &quot;cip4name&quot;</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># label argument NULL same as 4-digit level name</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip)</span></code></pre></div>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
cip6
</th>
<th style="text-align:left;">
cip6name
</th>
<th style="text-align:left;">
program
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
310101
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Studies
</td>
</tr>
<tr>
<td style="text-align:left;">
310301
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310302
</td>
<td style="text-align:left;">
Golf Course Operation and Grounds Management
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310399
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management, Other
</td>
<td style="text-align:left;">
Parks, Recreation and Leisure Facilities Management
</td>
</tr>
<tr>
<td style="text-align:left;">
310501
</td>
<td style="text-align:left;">
Health and Physical Education, General
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310504
</td>
<td style="text-align:left;">
Sport and Fitness Administration, Management
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310505
</td>
<td style="text-align:left;">
Kinesiology and Exercise Science
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310507
</td>
<td style="text-align:left;">
Physical Fitness Technician
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310508
</td>
<td style="text-align:left;">
Sports Studies
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310599
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness, Other
</td>
<td style="text-align:left;">
Health and Physical Education, Fitness
</td>
</tr>
<tr>
<td style="text-align:left;">
310601
</td>
<td style="text-align:left;">
Outdoor Education
</td>
<td style="text-align:left;">
Outdoor Education
</td>
</tr>
<tr>
<td style="text-align:left;">
319999
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
<td style="text-align:left;">
Parks, Recreation, Leisure and Fitness Studies, Other
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>To learn more about <code>label_programs()</code>, open the help page by running</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>? label_programs</span></code></pre></div>
<p><a href="#top">▲ top of page</a></p>
</div>
</div>
<div id="cip-data-from-another-source" class="section level2">
<h2>CIP data from another source</h2>
<p>If you use a CIP data set from another source, it must have the same structure as <code>cip</code>. Reshaping data frames is a conventional bit of R data carpentry. If you need help, consult any convenient R resource.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># name and class of variables (columns) in cip</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>cip_variables &lt;-<span class="st"> </span><span class="kw">lapply</span>(cip, <span class="cf">function</span>(col) <span class="kw">class</span>(col))</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="kw">str</span>(cip_variables)</span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co">#&gt; List of 6</span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co">#&gt;  $ cip2    : chr &quot;character&quot;</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="co">#&gt;  $ cip2name: chr &quot;character&quot;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co">#&gt;  $ cip4    : chr &quot;character&quot;</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="co">#&gt;  $ cip4name: chr &quot;character&quot;</span></span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="co">#&gt;  $ cip6    : chr &quot;character&quot;</span></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="co">#&gt;  $ cip6name: chr &quot;character&quot;</span></span></code></pre></div>
<p><br> <a href="#top">▲ top of page</a></p>
</div>
<div id="appendix" class="section level2">
<h2>Appendix</h2>
<div id="complete-script" class="section level3">
<h3>Complete script</h3>
<p>In response to requests from some of our workshop attendees, we collect the vignette code chunks in one script. We condense the script by omitting exploratory steps so we can focus on the steps that produce the results.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># load packages</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="kw">library</span>(<span class="st">&quot;midfieldr&quot;</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co"># work with programs one at a time and bind</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>cve_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1408&quot;</span>)</span>
<span id="cb17-6"><a href="#cb17-6"></a>cve &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> cve_cip, <span class="dt">label =</span> <span class="st">&quot;Civil Engineering&quot;</span>)</span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a>ele_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1410&quot;</span>)</span>
<span id="cb17-9"><a href="#cb17-9"></a>ele &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> ele_cip, <span class="dt">label =</span> <span class="st">&quot;Electrical Engineering&quot;</span>)</span>
<span id="cb17-10"><a href="#cb17-10"></a></span>
<span id="cb17-11"><a href="#cb17-11"></a>mce_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1419&quot;</span>)</span>
<span id="cb17-12"><a href="#cb17-12"></a>mce &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> mce_cip, <span class="dt">label =</span> <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a>ise_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> exa_cip, <span class="dt">keep_any =</span> <span class="st">&quot;^1435&quot;</span>)</span>
<span id="cb17-15"><a href="#cb17-15"></a>ise &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> ise_cip, <span class="dt">label =</span> <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb17-16"><a href="#cb17-16"></a></span>
<span id="cb17-17"><a href="#cb17-17"></a>program_group &lt;-<span class="st"> </span><span class="kw">rbind</span>(cve, ele, ise, mce)</span>
<span id="cb17-18"><a href="#cb17-18"></a>program_group<span class="op">$</span>cip6name &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb17-19"><a href="#cb17-19"></a></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="co"># work with programs all in one data frame</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> exa_cip, <span class="dt">label =</span> <span class="st">&quot;cip4name&quot;</span>)</span>
<span id="cb17-22"><a href="#cb17-22"></a>program_group<span class="op">$</span>cip6name &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb17-23"><a href="#cb17-23"></a>rows_to_edit &lt;-<span class="st"> </span><span class="kw">startsWith</span>(program_group<span class="op">$</span>cip6, <span class="st">&quot;1410&quot;</span>)</span>
<span id="cb17-24"><a href="#cb17-24"></a>program_group<span class="op">$</span>program[rows_to_edit] &lt;-<span class="st"> &quot;Electrical Engineering&quot;</span></span>
<span id="cb17-25"><a href="#cb17-25"></a></span>
<span id="cb17-26"><a href="#cb17-26"></a><span class="co"># assign an arbitrary program name</span></span>
<span id="cb17-27"><a href="#cb17-27"></a>sub_cip &lt;-<span class="st"> </span><span class="kw">get_cip</span>(<span class="dt">data =</span> cip, <span class="dt">keep_any =</span> <span class="st">&quot;^31&quot;</span>)</span>
<span id="cb17-28"><a href="#cb17-28"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip, <span class="dt">label =</span> <span class="st">&quot;Leisure Studies&quot;</span>)</span>
<span id="cb17-29"><a href="#cb17-29"></a></span>
<span id="cb17-30"><a href="#cb17-30"></a><span class="co"># assign the 2-digit level name</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip, <span class="dt">label =</span> <span class="st">&quot;cip2name&quot;</span>)</span>
<span id="cb17-32"><a href="#cb17-32"></a></span>
<span id="cb17-33"><a href="#cb17-33"></a><span class="co"># assign the 6-digit level name</span></span>
<span id="cb17-34"><a href="#cb17-34"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip, <span class="dt">label =</span> <span class="st">&quot;cip6name&quot;</span>)</span>
<span id="cb17-35"><a href="#cb17-35"></a></span>
<span id="cb17-36"><a href="#cb17-36"></a><span class="co"># label argument NULL same as 4-digit level name</span></span>
<span id="cb17-37"><a href="#cb17-37"></a>program_group &lt;-<span class="st"> </span><span class="kw">label_programs</span>(<span class="dt">data =</span> sub_cip)</span>
<span id="cb17-38"><a href="#cb17-38"></a></span>
<span id="cb17-39"><a href="#cb17-39"></a><span class="co"># name and class of variables (columns) in cip</span></span>
<span id="cb17-40"><a href="#cb17-40"></a>cip_variables &lt;-<span class="st"> </span><span class="kw">lapply</span>(cip, <span class="cf">function</span>(col) <span class="kw">class</span>(col))</span>
<span id="cb17-41"><a href="#cb17-41"></a><span class="kw">str</span>(cip_variables)</span></code></pre></div>
<p><br> <a href="#top">▲ top of page </a><br />
<a href="../index.html">◁ main page </a></p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
