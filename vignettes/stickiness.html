<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Stickiness metric</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Stickiness metric</h1>



<p>“Stickiness” is the ratio of the number of students graduating in a program to the number of students ever enrolled in that program <span class="citation">(Ohland et al. 2012)</span>.</p>
<p>Unlike other longitudinal metrics such as graduation rate, stickiness accounts for every student the program had the opportunity to retain and graduate whether or not they started in the program.</p>
<p>We typically group the stickiness results by program, sex, and “race” as defined by the participating US institutions.</p>
<div id="getting-started" class="section level2">
<h2>Getting started</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># packages used in this article</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(midfieldr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">library</span>(tibble)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">library</span>(knitr)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw">library</span>(stringr)</a></code></pre></div>
<p>In this article, we show you how to use midfieldr functions to compute program stickiness. Our workflow is:</p>
<ul>
<li>select the programs</li>
<li>count the students ever enrolled</li>
<li>count the students graduating<br />
</li>
<li>compute stickiness</li>
<li>graph stickiness</li>
</ul>
<p>If you are an R beginner, you can get the most out of this tutorial by</p>
<ul>
<li>opening a new R script<br />
</li>
<li>copying or typing a line of code from the tutorial to your script</li>
<li>running your script after each new line is added</li>
<li>examining the result after each addition</li>
</ul>
</div>
<div id="select-the-programs-to-study" class="section level2">
<h2>Select the programs to study</h2>
<p>For this example, we compare the stickiness of four engineering programs: Civil, Electrical, Industrial, and Mechanical. Their 4-digit CIP codes were found by keyword search as illustrated in <a href="cip_filter.html">Selecting CIP codes</a>.</p>
<p>We use:</p>
<ul>
<li><code>cip_filter()</code> to obtain the relevant program codes</li>
<li><code>add_column()</code> (a <a href="http://tibble.tidyverse.org">tibble</a> function) to add a user-defined <code>program</code> variable</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># obtain 6-digit CIP and assign a custom program label</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">cve &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1408&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Civil Engineering&quot;</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">ele &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1410&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Electrical Engineering&quot;</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">mce &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1419&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Mechanical Engineering&quot;</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">ise &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1435&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Industrial Engineering&quot;</span>)</a></code></pre></div>
<p>The custom label is used for grouping programs for graphing and to provide a shorter or common name for groups of programs.</p>
<p>Next we bind the individual program data frames into one data frame. We use two <a href="http://dplyr.tidyverse.org">dplyr</a> functions:</p>
<ul>
<li><code>bind_rows()</code> to bind the programs into one dataframe named <code>program_group</code></li>
<li><code>select()</code> to keep three variables: <code>CIP6</code> for finding the desired student records, <code>program</code> for grouping, and <code>CIP6name</code> to check our custom program labels.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># bind the programs</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">program_group &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(cve, ele, mce, ise) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(CIP6, program, CIP6name)</a></code></pre></div>
<p>Examine the result: there are 12 CIP codes for these three programs. Our shorter <code>program</code> labels agree with the longer official <code>CIP6name</code> values.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">program_group</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt;      CIP6                program</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; 1  140801      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; 2  140802      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 3  140803      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; 4  140804      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 5  140805      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 6  140899      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 7  141001 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 8  141003 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 9  141004 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; 10 141099 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt; 11 141901 Mechanical Engineering</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; 12 143501 Industrial Engineering</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt;                                                         CIP6name</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; 1                                    Civil Engineering - General</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; 2                                       Geotechnical Engineering</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; 3                                         Structural Engineering</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; 4                         Transportation and Highway Engineering</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt; 5                                    Water Resources Engineering</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="co">#&gt; 6                                      Civil Engineering - Other</span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt; 7          Electrical/Electronics and Communications Engineering</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="co">#&gt; 8                                  Laser and Optical Engineering</span></a>
<a class="sourceLine" id="cb4-25" data-line-number="25"><span class="co">#&gt; 9                                 Telecommunications Engineering</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="co">#&gt; 10 Electrical/Electronics and Communications Engineering - Other</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27"><span class="co">#&gt; 11                                        Mechanical Engineering</span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="co">#&gt; 12                                        Industrial Engineering</span></a></code></pre></div>
</div>
<div id="gather_ever" class="section level2">
<h2>gather_ever()</h2>
<p><code>gather_ever()</code> extracts a subset of <code>midfieldterms</code> containing all unique students ever enrolled in the programs listed in <code>program_group</code> and joins our user-defined <code>program</code> labels to these data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># extract unique students from midfieldterms</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">students &lt;-<span class="st"> </span><span class="kw">gather_ever</span>(program_group)</a></code></pre></div>
<p><code>glimpse()</code> (a tibble function) the result to check the number of observations and to view the first few values of each variable.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">glimpse</span>(students)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; Observations: 10,846</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; Variables: 5</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; $ ID          &lt;chr&gt; &quot;MID25783178&quot;, &quot;MID25783197&quot;, &quot;MID25783388&quot;, &quot;MID2...</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; $ institution &lt;chr&gt; &quot;Institution M&quot;, &quot;Institution M&quot;, &quot;Institution M&quot;,...</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; $ CIP6        &lt;chr&gt; &quot;143501&quot;, &quot;140801&quot;, &quot;141901&quot;, &quot;140801&quot;, &quot;141001&quot;, ...</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; $ program     &lt;chr&gt; &quot;Industrial Engineering&quot;, &quot;Civil Engineering&quot;, &quot;Me...</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; $ CIP6name    &lt;chr&gt; &quot;Industrial Engineering&quot;, &quot;Civil Engineering - Gen...</span></a></code></pre></div>
</div>
<div id="race_sex_join" class="section level2">
<h2>race_sex_join()</h2>
<p><code>race_sex_join()</code> accepts any data frame with the MIDFIELD student <code>ID</code> variable and joins the student race and sex from <code>midfieldstudents</code> to these data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">students &lt;-<span class="st"> </span><span class="kw">race_sex_join</span>(students)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw">glimpse</span>(students)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; Observations: 10,846</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; Variables: 7</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; $ ID          &lt;chr&gt; &quot;MID25783178&quot;, &quot;MID25783197&quot;, &quot;MID25783388&quot;, &quot;MID2...</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; $ institution &lt;chr&gt; &quot;Institution M&quot;, &quot;Institution M&quot;, &quot;Institution M&quot;,...</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; $ CIP6        &lt;chr&gt; &quot;143501&quot;, &quot;140801&quot;, &quot;141901&quot;, &quot;140801&quot;, &quot;141001&quot;, ...</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt; $ program     &lt;chr&gt; &quot;Industrial Engineering&quot;, &quot;Civil Engineering&quot;, &quot;Me...</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt; $ CIP6name    &lt;chr&gt; &quot;Industrial Engineering&quot;, &quot;Civil Engineering - Gen...</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt; $ race        &lt;chr&gt; &quot;Black&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;Whit...</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; $ sex         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;M...</span></a></code></pre></div>
<p>If the argument to <code>race_sex_join()</code> already includes a <code>sex</code> or <code>race</code> column, that column (or columns) is returned unchanged. For example, let’s remove the sex variable from the current <code>students</code> data frame and reapply <code>race_sex_join()</code>. The output includes a message that <code>sex</code> was successfully joined and <code>race</code> returned unchanged.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">students &lt;-<span class="st"> </span>students <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>sex) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">race_sex_join</span>()</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; 'sex' successfully joined; 'race' returned unchanged.</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="kw">glimpse</span>(students)</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; Observations: 10,846</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; Variables: 7</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt; $ ID          &lt;chr&gt; &quot;MID25783178&quot;, &quot;MID25783197&quot;, &quot;MID25783388&quot;, &quot;MID2...</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt; $ institution &lt;chr&gt; &quot;Institution M&quot;, &quot;Institution M&quot;, &quot;Institution M&quot;,...</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt; $ CIP6        &lt;chr&gt; &quot;143501&quot;, &quot;140801&quot;, &quot;141901&quot;, &quot;140801&quot;, &quot;141001&quot;, ...</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt; $ program     &lt;chr&gt; &quot;Industrial Engineering&quot;, &quot;Civil Engineering&quot;, &quot;Me...</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt; $ CIP6name    &lt;chr&gt; &quot;Industrial Engineering&quot;, &quot;Civil Engineering - Gen...</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt; $ race        &lt;chr&gt; &quot;Black&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;Whit...</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt; $ sex         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;M...</span></a></code></pre></div>
</div>
<div id="count-the-numbers-of-students-ever-enrolled" class="section level2">
<h2>Count the numbers of students ever enrolled</h2>
<p>We will use <a href="http://dplyr.tidyverse.org">dplyr</a> functions to group and count the numbers of students ever enrolled in our programs.</p>
<ul>
<li><code>group_by()</code> to select the grouping variables</li>
<li><code>summarize()</code> to count the number of students in each group</li>
<li><code>ungroup()</code> to remove the grouping meta-information</li>
</ul>
<p>Here, we give the count the variable name <code>ever</code>. All variables in <code>students</code> not used as grouping variables are quietly dropped.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># count the numbers of students ever in a program</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">ever_enrolled &lt;-<span class="st"> </span>students <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(program, race, sex) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ever =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># assign the name &quot;ever&quot; to the count variable</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw">ungroup</span>()</a></code></pre></div>
<p>A similar chain of <code>dataframe %&gt;% group_by() %&gt;% summarize() %&gt;% ungroup()</code> is used every time we want to count numbers of students in a particular group. You are free to try any of the variables when counting, e.g., you could omit race and use <code>group_by(program, sex)</code>.</p>
</div>
<div id="zero_fill" class="section level2">
<h2>zero_fill()</h2>
<p>This example has 4 programs, 2 sexes, and 8 race values, so we have 4 <span class="math inline">\(\times\)</span> 2 <span class="math inline">\(\times\)</span> 8 = 64 possible combinations of program, sex, and race, yet our result above has only 63 rows, not the expected 64. This outcome tells us that one of the possible combinations is missing.</p>
<p>The missing group, it happens, is Civil Engineering Native American Female.</p>
<p><code>zero_fill()</code> inserts a count of zero for missing combinations, ensuring that zero data values are not overlooked when printing data tables or constructing graphs.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># count ever enrolled and label the count &quot;ever&quot;</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">ever_enrolled &lt;-<span class="st"> </span><span class="kw">zero_fill</span>(ever_enrolled)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">ever_enrolled</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; # A tibble: 64 x 4</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt;    program           race            sex     ever</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt;    &lt;chr&gt;             &lt;chr&gt;           &lt;chr&gt;  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt;  1 Civil Engineering Asian           Female    22</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt;  2 Civil Engineering Asian           Male      54</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt;  3 Civil Engineering Black           Female    71</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">#&gt;  4 Civil Engineering Black           Male     132</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt;  5 Civil Engineering Hispanic        Female    16</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt;  6 Civil Engineering Hispanic        Male      85</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">#&gt;  7 Civil Engineering International   Female     2</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">#&gt;  8 Civil Engineering International   Male      22</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">#&gt;  9 Civil Engineering Native American Female     0</span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co">#&gt; 10 Civil Engineering Native American Male       7</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19"><span class="co">#&gt; # ... with 54 more rows</span></a></code></pre></div>
<p>In summary, the following chain gathers and counts the numbers of students ever enrolled in a set of programs.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># counting students ever enrolled in a program (using one code chain)</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">ever_enrolled &lt;-<span class="st"> </span><span class="kw">gather_ever</span>(program_group) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">race_sex_join</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(program, race, sex) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ever =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># assign the name &quot;ever&quot; to the count variable</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="st">  </span><span class="kw">zero_fill</span>()</a></code></pre></div>
</div>
<div id="gather_grad" class="section level2">
<h2>gather_grad()</h2>
<p><code>gather_grad()</code> extracts a subset of <code>midfielddegrees</code> containing all unique students ever graduating from the programs listed in <code>program_group</code> and joins our user-defined <code>program</code> labels to these data.</p>
<p>Similar to gathering the ever enrolled students, we can chain these functions together in one code chunk:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># count students graduating from programs</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">graduated &lt;-<span class="st"> </span><span class="kw">gather_grad</span>(program_group) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="st">  </span><span class="kw">race_sex_join</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(program, race, sex) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">grad =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># assign the name &quot;grad&quot; to the count variable</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="st">  </span><span class="kw">zero_fill</span>()</a>
<a class="sourceLine" id="cb12-8" data-line-number="8"></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="kw">glimpse</span>(graduated)</a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt; Observations: 64</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt; Variables: 4</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt; $ program &lt;chr&gt; &quot;Civil Engineering&quot;, &quot;Civil Engineering&quot;, &quot;Civil Engin...</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt; $ race    &lt;chr&gt; &quot;Asian&quot;, &quot;Asian&quot;, &quot;Black&quot;, &quot;Black&quot;, &quot;Hispanic&quot;, &quot;Hispa...</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt; $ sex     &lt;chr&gt; &quot;Female&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Male&quot;, ...</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt; $ grad    &lt;dbl&gt; 11, 24, 21, 39, 5, 30, 1, 5, 0, 3, 1, 8, 1, 4, 192, 70...</span></a></code></pre></div>
</div>
<div id="tally_stickiness" class="section level2">
<h2>tally_stickiness()</h2>
<p><code>tally_stickiness()</code> has two arguments: the <code>ever_enrolled</code> and <code>graduated</code> data frames we constructed above.</p>
<p>The data frame returned has all the original columns plus the new <code>stick</code> variable, a fraction from zero to one, or <code>NA</code> if <code>ever</code> is 0.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">stickiness &lt;-<span class="st"> </span><span class="kw">tally_stickiness</span>(ever_enrolled, graduated)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">#&gt; Joining, by = c(&quot;program&quot;, &quot;race&quot;, &quot;sex&quot;)</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">stickiness</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt; # A tibble: 64 x 6</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;    program           race            sex     ever  grad  stick</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;    &lt;chr&gt;             &lt;chr&gt;           &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  1 Civil Engineering Asian           Female    22    11  0.5  </span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  2 Civil Engineering Asian           Male      54    24  0.444</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  3 Civil Engineering Black           Female    71    21  0.296</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  4 Civil Engineering Black           Male     132    39  0.295</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;  5 Civil Engineering Hispanic        Female    16     5  0.312</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;  6 Civil Engineering Hispanic        Male      85    30  0.353</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt;  7 Civil Engineering International   Female     2     1  0.5  </span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt;  8 Civil Engineering International   Male      22     5  0.227</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt;  9 Civil Engineering Native American Female     0     0 NA    </span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; 10 Civil Engineering Native American Male       7     3  0.429</span></a>
<a class="sourceLine" id="cb13-18" data-line-number="18"><span class="co">#&gt; # ... with 54 more rows</span></a></code></pre></div>
</div>
<div id="multiway_order" class="section level2">
<h2>multiway_order()</h2>
</div>
<div id="references" class="section level2 unnumbered">
<h2>References</h2>
<div id="refs" class="references">
<div id="ref-stickiness2012">
<p>Ohland, Matthew, Marisa Orr, Richard Layton, Susan Lord, and Russell Long. 2012. “Introducing Stickiness as a Versatile Metric of Engineering Persistence.” In <em>Proceedings of the Frontiers in Education Conference</em>, 1–5.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
