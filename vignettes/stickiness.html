<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Stickiness metric</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Stickiness metric</h1>



<p>“Stickiness” is a longitudinal persistence metric that tracks all students who contact an instructional program to determine what percentage “stick” to that program and graduate in it. Stickiness is defined as the ratio of the number of students graduating in a program to the number of students ever enrolled in the program.<span class="citation">(Ohland et al. 2012)</span></p>
<p>While you may choose your own grouping variables, because our research focuses on intersectionality, we typically group the stickiness data by program, sex, and “race” as defined by the participating US institutions for the years spanned in the data sample. Possible value for sex and race are:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># list unique values for sex and race from student demographics</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(midfieldstudents)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">midfieldstudents[[<span class="st">&quot;sex&quot;</span>]]  <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">unique</span>() <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">sort</span>()</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; [1] &quot;Female&quot;  &quot;Male&quot;    &quot;Unknown&quot;</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">midfieldstudents[[<span class="st">&quot;race&quot;</span>]] <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">unique</span>() <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">sort</span>()</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; [1] &quot;Asian&quot;           &quot;Black&quot;           &quot;Hispanic&quot;        &quot;International&quot;  </span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; [5] &quot;Native American&quot; &quot;Other&quot;           &quot;Unknown&quot;         &quot;White&quot;</span></a></code></pre></div>
<div id="getting-started" class="section level2">
<h2>Getting started</h2>
<p>In this article, we show you how to use midfieldr functions to compute program stickiness. Our workflow is:</p>
<ul>
<li>select the programs</li>
<li>count the students ever enrolled</li>
<li>count the students graduating<br />
</li>
<li>compute stickiness</li>
<li>graph stickiness</li>
</ul>
<p>If you are an R beginner, you can get the most out of this tutorial by</p>
<ul>
<li>opening a new R script<br />
</li>
<li>copying or typing a line of code from the tutorial to your script</li>
<li>running your script after each new line is added</li>
<li>examining the result after each addition</li>
</ul>
</div>
<div id="select-the-programs-to-study" class="section level2">
<h2>Select the programs to study</h2>
<p>For this example, we compare the stickiness of three engineering programs: Civil, Electrical, and Mechanical. Their 4-digit CIP codes were found by keyword search as illustrated in <a href="cip_filter.html">Selecting CIP codes</a>.</p>
<p>We use:</p>
<ul>
<li><code>cip_filter()</code> to obtain the relevant program codes</li>
<li><code>add_column()</code> (a <a href="http://tibble.tidyverse.org">tibble</a> function) to add the user-defined <code>program</code> variable</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># obtain CIP codes and names</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">library</span>(tibble)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">library</span>(midfieldr)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">cve &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1408&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Civil Engineering&quot;</span>)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">ele &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1410&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Electrical Engineering&quot;</span>)</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">mce &lt;-<span class="st"> </span><span class="kw">cip_filter</span>(<span class="st">&quot;^1419&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_column</span>(<span class="dt">program =</span> <span class="st">&quot;Mechanical Engineering&quot;</span>)</a></code></pre></div>
<p>Assigning a custom label via <code>program</code> is useful when a set of CIP codes does not already have a common name. For example, there is no CIP name for the Humanities group of programs.</p>
<p>Next we bind the individual program data frames into one data frame. We use two <a href="http://dplyr.tidyverse.org">dplyr</a> functions:</p>
<ul>
<li><code>bind_rows()</code> to bind the programs into one dataframe named <code>study_group</code></li>
<li><code>select()</code> to keep two variables: <code>CIP6</code> for finding the desired student records and <code>program</code> for grouping</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># bind the four programs</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">study_group &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(cve, ele, mce) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(CIP6, program)</a></code></pre></div>
<p>Examine the result: there are 11 CIP codes for these three programs.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">study_group</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt;      CIP6                program</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; 1  140801      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; 2  140802      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 3  140803      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; 4  140804      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 5  140805      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 6  140899      Civil Engineering</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 7  141001 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 8  141003 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 9  141004 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; 10 141099 Electrical Engineering</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt; 11 141901 Mechanical Engineering</span></a></code></pre></div>
</div>
<div id="gather_ever" class="section level2">
<h2>gather_ever()</h2>
<p><code>gather_ever()</code> extracts a subset of <code>midfieldterms</code> containing all unique students ever enrolled in the programs listed in <code>study_group</code> and joins our user-defined <code>program</code> labels to these data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># extract unique students from midfieldterms</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">library</span>(midfieldterms)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">unique_students &lt;-<span class="st"> </span><span class="kw">gather_ever</span>(midfieldterms, study_group)</a></code></pre></div>
<p><code>glimpse()</code> the result to check the number of observations and to view the first few values of each variable.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">glimpse</span>(unique_students)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; Observations: 9,389</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; Variables: 4</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; $ ID          &lt;chr&gt; &quot;MID25783197&quot;, &quot;MID25783388&quot;, &quot;MID25783441&quot;, &quot;MID2...</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; $ institution &lt;chr&gt; &quot;Institution M&quot;, &quot;Institution M&quot;, &quot;Institution M&quot;,...</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; $ CIP6        &lt;chr&gt; &quot;140801&quot;, &quot;141901&quot;, &quot;140801&quot;, &quot;141001&quot;, &quot;140801&quot;, ...</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; $ program     &lt;chr&gt; &quot;Civil Engineering&quot;, &quot;Mechanical Engineering&quot;, &quot;Ci...</span></a></code></pre></div>
</div>
<div id="join_demographics" class="section level2">
<h2>join_demographics()</h2>
<p><code>join_demographics()</code> joins student race and sex from <code>midfieldstudents</code> to these data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># join demographics from midfieldstudents</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">library</span>(midfieldstudents)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">unique_students &lt;-<span class="st"> </span><span class="kw">join_demographics</span>(unique_students)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="kw">glimpse</span>(unique_students)</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; Observations: 9,389</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; Variables: 6</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt; $ ID          &lt;chr&gt; &quot;MID25783197&quot;, &quot;MID25783388&quot;, &quot;MID25783441&quot;, &quot;MID2...</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt; $ institution &lt;chr&gt; &quot;Institution M&quot;, &quot;Institution M&quot;, &quot;Institution M&quot;,...</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt; $ CIP6        &lt;chr&gt; &quot;140801&quot;, &quot;141901&quot;, &quot;140801&quot;, &quot;141001&quot;, &quot;140801&quot;, ...</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; $ program     &lt;chr&gt; &quot;Civil Engineering&quot;, &quot;Mechanical Engineering&quot;, &quot;Ci...</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt; $ race        &lt;chr&gt; &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;Whit...</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt; $ sex         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;M...</span></a></code></pre></div>
</div>
<div id="count_and_fill" class="section level2">
<h2>count_and_fill()</h2>
<p>Before counting students, we select the variables to use for grouping and summarizing. Here, for example, we select program, race, and sex (thereby omitting ID, CIP6, and institution).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># select the variables to use for counting</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">unique_students &lt;-<span class="st"> </span>unique_students <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(program, sex, race)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="kw">glimpse</span>(unique_students)</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; Observations: 9,389</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; Variables: 3</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt; $ program &lt;chr&gt; &quot;Civil Engineering&quot;, &quot;Mechanical Engineering&quot;, &quot;Civil ...</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt; $ sex     &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;...</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt; $ race    &lt;chr&gt; &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, ...</span></a></code></pre></div>
<p><code>count_and_fill()</code> counts the number of students grouped by the variables we just selected. If program, race, or sex are in the list, missing combinations are filled with a zero.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># count ever enrolled and label the count &quot;ever&quot;</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">ever_enrolled &lt;-<span class="st"> </span><span class="kw">count_and_fill</span>(unique_students, <span class="st">&quot;ever&quot;</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="kw">glimpse</span>(ever_enrolled)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt; Observations: 48</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt; Variables: 4</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt; $ program &lt;chr&gt; &quot;Civil Engineering&quot;, &quot;Civil Engineering&quot;, &quot;Civil Engin...</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt; $ race    &lt;chr&gt; &quot;Asian&quot;, &quot;Black&quot;, &quot;Hispanic&quot;, &quot;International&quot;, &quot;Native...</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; $ sex     &lt;chr&gt; &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Fem...</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt; $ ever    &lt;dbl&gt; 22, 71, 16, 2, 0, 12, 2, 445, 50, 180, 24, 11, 3, 11, ...</span></a></code></pre></div>
<p>In summary, four functions are needed to gather and count the numbers of students ever enrolled in a set of programs. We can chain those functions together in one code chunk as follows:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># counting students ever enrolled in a program in one code chain</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">ever_enrolled &lt;-<span class="st"> </span><span class="kw">gather_ever</span>(midfieldterms, study_group) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">join_demographics</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(program, race, sex) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">  </span><span class="kw">count_and_fill</span>(., <span class="st">&quot;ever&quot;</span>)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co"># examine the result</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="kw">glimpse</span>(ever_enrolled)</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt; Observations: 48</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; Variables: 4</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; $ program &lt;chr&gt; &quot;Civil Engineering&quot;, &quot;Civil Engineering&quot;, &quot;Civil Engin...</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">#&gt; $ race    &lt;chr&gt; &quot;Asian&quot;, &quot;Black&quot;, &quot;Hispanic&quot;, &quot;International&quot;, &quot;Native...</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt; $ sex     &lt;chr&gt; &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Fem...</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt; $ ever    &lt;dbl&gt; 22, 71, 16, 2, 0, 12, 2, 445, 50, 180, 24, 11, 3, 11, ...</span></a></code></pre></div>
</div>
<div id="gather_grad" class="section level2">
<h2>gather_grad()</h2>
<p><code>gather_grad()</code> extracts a subset of <code>midfielddegrees</code> containing all unique students ever graduating from the programs listed in <code>study_group</code> and joins our user-defined <code>program</code> labels to these data.</p>
<p>We follow up with the same work flow used previously, with <code>join_demographics()</code>, <code>select()</code>, and <code>count_and_fill()</code>. Again, we can chain these functions together in one code chunk as follows:</p>
<pre><code># count students graduating from a program
library(midfielddegrees)
graduating &lt;- gather_grad(midfielddegrees, study_group) %&gt;%
  join_demographics() %&gt;%
  select(program, race, sex) %&gt;%
  count_and_fill(., &quot;grad&quot;)

# examine the result
glimpse(graduating)</code></pre>
</div>
<div id="tally_stickiness" class="section level2">
<h2>tally_stickiness()</h2>
</div>
<div id="graph_stickiness" class="section level2">
<h2>graph_stickiness()</h2>
</div>
<div id="references" class="section level2 unnumbered">
<h2>References</h2>
<div id="refs" class="references">
<div id="ref-stickiness2012">
<p>Ohland, Matthew, Marisa Orr, Richard Layton, Susan Lord, and Russell Long. 2012. “Introducing Stickiness as a Versatile Metric of Engineering Persistence.” In <em>Proceedings of the Frontiers in Education Conference</em>, 1–5.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
