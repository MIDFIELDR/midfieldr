% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_completion_timely.R
\name{add_completion_timely}
\alias{add_completion_timely}
\title{Add a column to evaluate program completion}
\usage{
add_completion_timely(dframe, midfield_degree, ..., detail = NULL)
}
\arguments{
\item{dframe}{Data frame with required variables
\code{mcid} and \code{timely_term}.}

\item{midfield_degree}{MIDFIELD \code{degree} data table or equivalent with
required variables \code{mcid} and \code{term}.}

\item{...}{Not used, forces later arguments to be used by name.}

\item{detail}{Optional flag to add columns reporting information
on which the evaluation is based, default FALSE.}
}
\value{
A \code{data.table} with the following properties:
\itemize{
    \item Rows are not modified.
    \item Column \code{completion_timely} is added with an option to add
          columns \code{completion}, \code{term_degree}, and
          \code{cip6_degree}.
    \item Grouping structures are not preserved.
}
}
\description{
Add a column of logical values (TRUE/FALSE) to a data frame indicating
whether a student completes their program in a timely manner. Obtains the
information from the MIDFIELD \code{degree} data table or equivalent.
}
\details{
Program completion is typically considered timely if it occurs within a
specific span of years after admission. In a persistence metric that depends
on program completion (graduation), only students whose program completion
is timely are counted as graduates; students whose program completion
is untimely (taking longer than the specific span to complete) are counted
as non-graduates.

The input data frame \code{dframe} must include the \code{timely_term}
column obtained using the \code{add_timely_term()} function. Completion is
considered timely if: 1) the student has completed a program; and 2) the
degree term is no later than the estimated timely completion term. The
function itself performs no subsetting.

If \code{detail} is TRUE, additional column(s) that support the finding
are returned as well. Here the extra columns are \code{completion}
indicating by TRUE/FALSE if the student completed their program and
\code{term_degree} from the \code{degree} table giving the first term in
which degree(s), if any, are earned.

Existing columns with the same names as the added columns are overwritten.
}
\examples{
# Start with IDs and add institution and timely term
dframe <- toy_student[1:10, .(mcid)]
dframe <- add_institution(dframe, midfield_term = toy_term)
dframe <- add_timely_term(dframe, midfield_term = toy_term)


# Timely completion column without detail
add_completion_timely(dframe, midfield_degree = toy_degree)


# Timely completion column with detail
add_completion_timely(dframe, midfield_degree = toy_degree, detail = TRUE)


# If present, existing completion_timely column is overwritten
DT1 <- add_completion_timely(dframe, midfield_degree = toy_degree)
DT2 <- add_completion_timely(DT1, midfield_degree = toy_degree)
all.equal(DT1, DT2)

}
\seealso{
Other add_*: 
\code{\link{add_data_sufficiency}()},
\code{\link{add_institution}()},
\code{\link{add_race_sex}()},
\code{\link{add_timely_term}()}
}
\concept{add_*}
